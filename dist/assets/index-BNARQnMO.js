(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function fl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Up={exports:{}},Cu={};var K_;function J2(){if(K_)return Cu;K_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:o}}return Cu.Fragment=e,Cu.jsx=n,Cu.jsxs=n,Cu}var Y_;function Z2(){return Y_||(Y_=1,Up.exports=J2()),Up.exports}var w=Z2(),Bp={exports:{}},Oe={};var W_;function eI(){if(W_)return Oe;W_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,O={};function N(B,te,de){this.props=B,this.context=te,this.refs=O,this.updater=de||k}N.prototype.isReactComponent={},N.prototype.setState=function(B,te){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,te,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function U(){}U.prototype=N.prototype;function V(B,te,de){this.props=B,this.context=te,this.refs=O,this.updater=de||k}var ne=V.prototype=new U;ne.constructor=V,R(ne,N.prototype),ne.isPureReactComponent=!0;var se=Array.isArray;function ce(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function D(B,te,de){var fe=de.ref;return{$$typeof:t,type:B,key:te,ref:fe!==void 0?fe:null,props:de}}function q(B,te){return D(B.type,te,B.props)}function z(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function H(B){var te={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(de){return te[de]})}var P=/\/+/g;function ae(B,te){return typeof B=="object"&&B!==null&&B.key!=null?H(""+B.key):te.toString(36)}function X(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(ce,ce):(B.status="pending",B.then(function(te){B.status==="pending"&&(B.status="fulfilled",B.value=te)},function(te){B.status==="pending"&&(B.status="rejected",B.reason=te)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function M(B,te,de,fe,ke){var Ie=typeof B;(Ie==="undefined"||Ie==="boolean")&&(B=null);var Ve=!1;if(B===null)Ve=!0;else switch(Ie){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(B.$$typeof){case t:case e:Ve=!0;break;case y:return Ve=B._init,M(Ve(B._payload),te,de,fe,ke)}}if(Ve)return ke=ke(B),Ve=fe===""?"."+ae(B,0):fe,se(ke)?(de="",Ve!=null&&(de=Ve.replace(P,"$&/")+"/"),M(ke,te,de,"",function(Ur){return Ur})):ke!=null&&(z(ke)&&(ke=q(ke,de+(ke.key==null||B&&B.key===ke.key?"":(""+ke.key).replace(P,"$&/")+"/")+Ve)),te.push(ke)),1;Ve=0;var bt=fe===""?".":fe+":";if(se(B))for(var dt=0;dt<B.length;dt++)fe=B[dt],Ie=bt+ae(fe,dt),Ve+=M(fe,te,de,Ie,ke);else if(dt=E(B),typeof dt=="function")for(B=dt.call(B),dt=0;!(fe=B.next()).done;)fe=fe.value,Ie=bt+ae(fe,dt++),Ve+=M(fe,te,de,Ie,ke);else if(Ie==="object"){if(typeof B.then=="function")return M(X(B),te,de,fe,ke);throw te=String(B),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function $(B,te,de){if(B==null)return B;var fe=[],ke=0;return M(B,fe,"","",function(Ie){return te.call(de,Ie,ke++)}),fe}function ee(B){if(B._status===-1){var te=B._result;te=te(),te.then(function(de){(B._status===0||B._status===-1)&&(B._status=1,B._result=de)},function(de){(B._status===0||B._status===-1)&&(B._status=2,B._result=de)}),B._status===-1&&(B._status=0,B._result=te)}if(B._status===1)return B._result.default;throw B._result}var he=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},be={map:$,forEach:function(B,te,de){$(B,function(){te.apply(this,arguments)},de)},count:function(B){var te=0;return $(B,function(){te++}),te},toArray:function(B){return $(B,function(te){return te})||[]},only:function(B){if(!z(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Oe.Activity=v,Oe.Children=be,Oe.Component=N,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=V,Oe.StrictMode=i,Oe.Suspense=d,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(B){return I.H.useMemoCache(B)}},Oe.cache=function(B){return function(){return B.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(B,te,de){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var fe=R({},B.props),ke=B.key;if(te!=null)for(Ie in te.key!==void 0&&(ke=""+te.key),te)!A.call(te,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&te.ref===void 0||(fe[Ie]=te[Ie]);var Ie=arguments.length-2;if(Ie===1)fe.children=de;else if(1<Ie){for(var Ve=Array(Ie),bt=0;bt<Ie;bt++)Ve[bt]=arguments[bt+2];fe.children=Ve}return D(B.type,ke,fe)},Oe.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},Oe.createElement=function(B,te,de){var fe,ke={},Ie=null;if(te!=null)for(fe in te.key!==void 0&&(Ie=""+te.key),te)A.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ke[fe]=te[fe]);var Ve=arguments.length-2;if(Ve===1)ke.children=de;else if(1<Ve){for(var bt=Array(Ve),dt=0;dt<Ve;dt++)bt[dt]=arguments[dt+2];ke.children=bt}if(B&&B.defaultProps)for(fe in Ve=B.defaultProps,Ve)ke[fe]===void 0&&(ke[fe]=Ve[fe]);return D(B,Ie,ke)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(B){return{$$typeof:h,render:B}},Oe.isValidElement=z,Oe.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:ee}},Oe.memo=function(B,te){return{$$typeof:m,type:B,compare:te===void 0?null:te}},Oe.startTransition=function(B){var te=I.T,de={};I.T=de;try{var fe=B(),ke=I.S;ke!==null&&ke(de,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ce,he)}catch(Ie){he(Ie)}finally{te!==null&&de.types!==null&&(te.types=de.types),I.T=te}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(B){return I.H.use(B)},Oe.useActionState=function(B,te,de){return I.H.useActionState(B,te,de)},Oe.useCallback=function(B,te){return I.H.useCallback(B,te)},Oe.useContext=function(B){return I.H.useContext(B)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(B,te){return I.H.useDeferredValue(B,te)},Oe.useEffect=function(B,te){return I.H.useEffect(B,te)},Oe.useEffectEvent=function(B){return I.H.useEffectEvent(B)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(B,te,de){return I.H.useImperativeHandle(B,te,de)},Oe.useInsertionEffect=function(B,te){return I.H.useInsertionEffect(B,te)},Oe.useLayoutEffect=function(B,te){return I.H.useLayoutEffect(B,te)},Oe.useMemo=function(B,te){return I.H.useMemo(B,te)},Oe.useOptimistic=function(B,te){return I.H.useOptimistic(B,te)},Oe.useReducer=function(B,te,de){return I.H.useReducer(B,te,de)},Oe.useRef=function(B){return I.H.useRef(B)},Oe.useState=function(B){return I.H.useState(B)},Oe.useSyncExternalStore=function(B,te,de){return I.H.useSyncExternalStore(B,te,de)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.3",Oe}var Q_;function Jy(){return Q_||(Q_=1,Bp.exports=eI()),Bp.exports}var j=Jy();const $n=fl(j);var zp={exports:{}},Iu={},qp={exports:{}},Fp={};var X_;function tI(){return X_||(X_=1,(function(t){function e(M,$){var ee=M.length;M.push($);e:for(;0<ee;){var he=ee-1>>>1,be=M[he];if(0<a(be,$))M[he]=$,M[ee]=be,ee=he;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var $=M[0],ee=M.pop();if(ee!==$){M[0]=ee;e:for(var he=0,be=M.length,B=be>>>1;he<B;){var te=2*(he+1)-1,de=M[te],fe=te+1,ke=M[fe];if(0>a(de,ee))fe<be&&0>a(ke,de)?(M[he]=ke,M[fe]=ee,he=fe):(M[he]=de,M[te]=ee,he=te);else if(fe<be&&0>a(ke,ee))M[he]=ke,M[fe]=ee,he=fe;else break e}}return $}function a(M,$){var ee=M.sortIndex-$.sortIndex;return ee!==0?ee:M.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],m=[],y=1,v=null,_=3,E=!1,k=!1,R=!1,O=!1,N=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function ne(M){for(var $=n(m);$!==null;){if($.callback===null)i(m);else if($.startTime<=M)i(m),$.sortIndex=$.expirationTime,e(d,$);else break;$=n(m)}}function se(M){if(R=!1,ne(M),!k)if(n(d)!==null)k=!0,ce||(ce=!0,H());else{var $=n(m);$!==null&&X(se,$.startTime-M)}}var ce=!1,I=-1,A=5,D=-1;function q(){return O?!0:!(t.unstable_now()-D<A)}function z(){if(O=!1,ce){var M=t.unstable_now();D=M;var $=!0;try{e:{k=!1,R&&(R=!1,U(I),I=-1),E=!0;var ee=_;try{t:{for(ne(M),v=n(d);v!==null&&!(v.expirationTime>M&&q());){var he=v.callback;if(typeof he=="function"){v.callback=null,_=v.priorityLevel;var be=he(v.expirationTime<=M);if(M=t.unstable_now(),typeof be=="function"){v.callback=be,ne(M),$=!0;break t}v===n(d)&&i(d),ne(M)}else i(d);v=n(d)}if(v!==null)$=!0;else{var B=n(m);B!==null&&X(se,B.startTime-M),$=!1}}break e}finally{v=null,_=ee,E=!1}$=void 0}}finally{$?H():ce=!1}}}var H;if(typeof V=="function")H=function(){V(z)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ae=P.port2;P.port1.onmessage=z,H=function(){ae.postMessage(null)}}else H=function(){N(z,0)};function X(M,$){I=N(function(){M(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(M){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var ee=_;_=$;try{return M()}finally{_=ee}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ee=_;_=M;try{return $()}finally{_=ee}},t.unstable_scheduleCallback=function(M,$,ee){var he=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?he+ee:he):ee=he,M){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ee+be,M={id:y++,callback:$,priorityLevel:M,startTime:ee,expirationTime:be,sortIndex:-1},ee>he?(M.sortIndex=ee,e(m,M),n(d)===null&&M===n(m)&&(R?(U(I),I=-1):R=!0,X(se,ee-he))):(M.sortIndex=be,e(d,M),k||E||(k=!0,ce||(ce=!0,H()))),M},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(M){var $=_;return function(){var ee=_;_=$;try{return M.apply(this,arguments)}finally{_=ee}}}})(Fp)),Fp}var J_;function nI(){return J_||(J_=1,qp.exports=tI()),qp.exports}var $p={exports:{}},fn={};var Z_;function iI(){if(Z_)return fn;Z_=1;var t=Jy();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,fn.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,y)},fn.flushSync=function(d){var m=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=m,i.p=y,i.d.f()}},fn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},fn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},fn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:E}):y==="script"&&i.d.X(d,{crossOrigin:v,integrity:_,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},fn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},fn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);i.d.L(d,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},fn.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},fn.requestFormReset=function(d){i.d.r(d)},fn.unstable_batchedUpdates=function(d,m){return d(m)},fn.useFormState=function(d,m,y){return u.H.useFormState(d,m,y)},fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var ex;function sI(){if(ex)return $p.exports;ex=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$p.exports=iI(),$p.exports}var tx;function rI(){if(tx)return Iu;tx=1;var t=nI(),e=Jy(),n=sI();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,c=r;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return d(p),s;if(g===c)return d(p),r;g=g.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=g;else{for(var x=!1,S=p.child;S;){if(S===l){x=!0,l=p,c=g;break}if(S===c){x=!0,c=p,l=g;break}S=S.sibling}if(!x){for(S=g.child;S;){if(S===l){x=!0,l=g,c=p;break}if(S===c){x=!0,c=g,l=p;break}S=S.sibling}if(!x)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),V=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var P=Symbol.for("react.client.reference");function ae(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===P?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case N:return"Profiler";case O:return"StrictMode";case se:return"Suspense";case ce:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case V:return s.displayName||"Context";case U:return(s._context.displayName||"Context")+".Consumer";case ne:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return r=s.displayName||null,r!==null?r:ae(s.type)||"Memo";case A:r=s._payload,s=s._init;try{return ae(s(r))}catch{}}return null}var X=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},he=[],be=-1;function B(s){return{current:s}}function te(s){0>be||(s.current=he[be],he[be]=null,be--)}function de(s,r){be++,he[be]=s.current,s.current=r}var fe=B(null),ke=B(null),Ie=B(null),Ve=B(null);function bt(s,r){switch(de(Ie,r),de(ke,s),de(fe,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?g_(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=g_(r),s=y_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(fe),de(fe,s)}function dt(){te(fe),te(ke),te(Ie)}function Ur(s){s.memoizedState!==null&&de(Ve,s);var r=fe.current,l=y_(r,s.type);r!==l&&(de(ke,s),de(fe,l))}function Ba(s){ke.current===s&&(te(fe),te(ke)),Ve.current===s&&(te(Ve),Su._currentValue=ee)}var za,qa;function Ni(s){if(za===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);za=r&&r[1]||"",qa=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+za+s+qa}var Sl=!1;function Br(s,r){if(!s||Sl)return"";Sl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Z){var Q=Z}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(Z){Q=Z}s.call(oe.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),x=g[0],S=g[1];if(x&&S){var L=x.split(`
`),W=S.split(`
`);for(p=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(c===L.length||p===W.length)for(c=L.length-1,p=W.length-1;1<=c&&0<=p&&L[c]!==W[p];)p--;for(;1<=c&&0<=p;c--,p--)if(L[c]!==W[p]){if(c!==1||p!==1)do if(c--,p--,0>p||L[c]!==W[p]){var ie=`
`+L[c].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=c&&0<=p);break}}}finally{Sl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Ni(l):""}function Al(s,r){switch(s.tag){case 26:case 27:case 5:return Ni(s.type);case 16:return Ni("Lazy");case 13:return s.child!==r&&r!==null?Ni("Suspense Fallback"):Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return Br(s.type,!1);case 11:return Br(s.type.render,!1);case 1:return Br(s.type,!0);case 31:return Ni("Activity");default:return""}}function kl(s){try{var r="",l=null;do r+=Al(s,l),l=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ct=Object.prototype.hasOwnProperty,Ft=t.unstable_scheduleCallback,Bs=t.unstable_cancelCallback,zf=t.unstable_shouldYield,qc=t.unstable_requestPaint,vn=t.unstable_now,zr=t.unstable_getCurrentPriorityLevel,Rl=t.unstable_ImmediatePriority,Cl=t.unstable_UserBlockingPriority,zs=t.unstable_NormalPriority,qf=t.unstable_LowPriority,Fc=t.unstable_IdlePriority,$c=t.log,Hc=t.unstable_setDisableYieldValue,hi=null,Zt=null;function Hn(s){if(typeof $c=="function"&&Hc(s),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(hi,s)}catch{}}var Et=Math.clz32?Math.clz32:Kc,Gc=Math.log,Fa=Math.LN2;function Kc(s){return s>>>=0,s===0?32:31-(Gc(s)/Fa|0)|0}var ji=256,qr=262144,It=4194304;function Pi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Vi(s,r,l){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?p=Pi(c):(x&=S,x!==0?p=Pi(x):l||(l=S&~s,l!==0&&(p=Pi(l))))):(S=c&~g,S!==0?p=Pi(S):x!==0?p=Pi(x):l||(l=c&~s,l!==0&&(p=Pi(l)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,l=r&-r,g>=l||g===32&&(l&4194048)!==0)?r:p}function di(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ff(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yc(){var s=It;return It<<=1,(It&62914560)===0&&(It=4194304),s}function Mi(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Fr(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $f(s,r,l,c,p,g){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,L=s.expirationTimes,W=s.hiddenUpdates;for(l=x&~l;0<l;){var ie=31-Et(l),oe=1<<ie;S[ie]=0,L[ie]=-1;var Q=W[ie];if(Q!==null)for(W[ie]=null,ie=0;ie<Q.length;ie++){var Z=Q[ie];Z!==null&&(Z.lane&=-536870913)}l&=~oe}c!==0&&$r(s,c,0),g!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=g&~(x&~r))}function $r(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-Et(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|l&261930}function Il(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var c=31-Et(l),p=1<<c;p&r|s[c]&r&&(s[c]|=r),l&=~p}}function Ol(s,r){var l=r&-r;return l=(l&42)!==0?1:Hr(l),(l&(s.suspendedLanes|r))!==0?0:l}function Hr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function cs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Wc(){var s=$.p;return s!==0?s:(s=window.event,s===void 0?32:B_(s.type))}function fi(s,r){var l=$.p;try{return $.p=s,r()}finally{$.p=l}}var mi=Math.random().toString(36).slice(2),Ot="__reactFiber$"+mi,Wt="__reactProps$"+mi,Li="__reactContainer$"+mi,$a="__reactEvents$"+mi,Hf="__reactListeners$"+mi,Qc="__reactHandles$"+mi,Xc="__reactResources$"+mi,Ui="__reactMarker$"+mi;function Ha(s){delete s[Ot],delete s[Wt],delete s[$a],delete s[Hf],delete s[Qc]}function Bi(s){var r=s[Ot];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Li]||l[Ot]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=E_(s);s!==null;){if(l=s[Ot])return l;s=E_(s)}return r}s=l,l=s.parentNode}return null}function Gn(s){if(s=s[Ot]||s[Li]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Dn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function zi(s){var r=s[Xc];return r||(r=s[Xc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(s){s[Ui]=!0}var Dl=new Set,Nl={};function qi(s,r){Fi(s,r),Fi(s+"Capture",r)}function Fi(s,r){for(Nl[s]=r,s=0;s<r.length;s++)Dl.add(r[s])}var jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pl={},Vl={};function Jc(s){return Ct.call(Vl,s)?!0:Ct.call(Pl,s)?!1:jl.test(s)?Vl[s]=!0:(Pl[s]=!0,!1)}function Ga(s,r,l){if(Jc(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function Nn(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function Nt(s,r,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+c)}}function Qt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qs(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ml(s,r,l){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return p.call(this)},set:function(x){l=""+x,g.call(this,x)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Je(s){if(!s._valueTracker){var r=qs(s)?"checked":"value";s._valueTracker=Ml(s,r,""+s[r])}}function Gr(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),c="";return s&&(c=qs(s)?s.checked?"true":"false":s.value),s=c,s!==l?(r.setValue(s),!0):!1}function $i(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Kr=/[\n"\\]/g;function Tn(s){return s.replace(Kr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ka(s,r,l,c,p,g,x,S){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),r!=null?x==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Qt(r)):s.value!==""+Qt(r)&&(s.value=""+Qt(r)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),r!=null?Ll(s,x,Qt(r)):l!=null?Ll(s,x,Qt(l)):c!=null&&s.removeAttribute("value"),p==null&&g!=null&&(s.defaultChecked=!!g),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Qt(S):s.removeAttribute("name")}function Zc(s,r,l,c,p,g,x,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Je(s);return}l=l!=null?""+Qt(l):"",r=r!=null?""+Qt(r):l,S||r===s.value||(s.value=r),s.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),Je(s)}function Ll(s,r,l){r==="number"&&$i(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Fs(s,r,l,c){if(s=s.options,r){r={};for(var p=0;p<l.length;p++)r["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=r.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Qt(l),r=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,c&&(s[p].defaultSelected=!0);return}r!==null||s[p].disabled||(r=s[p])}r!==null&&(r.selected=!0)}}function eh(s,r,l){if(r!=null&&(r=""+Qt(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+Qt(l):""}function $s(s,r,l,c){if(r==null){if(c!=null){if(l!=null)throw Error(i(92));if(X(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),r=l}l=Qt(r),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c),Je(s)}function En(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(s,r,l){var c=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,l):typeof l!="number"||l===0||th.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Bl(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&l[p]!==c&&Ul(s,p,c)}else for(var g in r)r.hasOwnProperty(g)&&Ul(s,g,r[g])}function Ya(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(s){return Hs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function pi(){}var zl=null;function Kn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gs=null,Hi=null;function Yr(s){var r=Gn(s);if(r&&(s=r.stateNode)){var l=s[Wt]||null;e:switch(s=r.stateNode,r.type){case"input":if(Ka(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Tn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var c=l[r];if(c!==s&&c.form===s.form){var p=c[Wt]||null;if(!p)throw Error(i(90));Ka(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<l.length;r++)c=l[r],c.form===s.form&&Gr(c)}break e;case"textarea":eh(s,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Fs(s,!!l.multiple,r,!1)}}}var Qa=!1;function Ks(s,r,l){if(Qa)return s(r,l);Qa=!0;try{var c=s(r);return c}finally{if(Qa=!1,(Gs!==null||Hi!==null)&&(Wh(),Gs&&(r=Gs,s=Hi,Hi=Gs=null,Yr(r),s)))for(r=0;r<s.length;r++)Yr(s[r])}}function gi(s,r){var l=s.stateNode;if(l===null)return null;var c=l[Wt]||null;if(c===null)return null;l=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=!1;if(Yn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Wr=!1}var Gi=null,ql=null,Qr=null;function Fl(){if(Qr)return Qr;var s,r=ql,l=r.length,c,p="value"in Gi?Gi.value:Gi.textContent,g=p.length;for(s=0;s<l&&r[s]===p[s];s++);var x=l-s;for(c=1;c<=x&&r[l-c]===p[g-c];c++);return Qr=p.slice(s,1<c?1-c:void 0)}function Xr(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function hs(){return!0}function yi(){return!1}function en(s){function r(l,c,p,g,x){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hs:yi,this.isPropagationStopped=yi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),r}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=en(ds),Ys=v({},ds,{view:0,detail:0}),$l=en(Ys),Ws,Xa,Yi,Ja=v({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Yi&&(Yi&&s.type==="mousemove"?(Ws=s.screenX-Yi.screenX,Xa=s.screenY-Yi.screenY):Xa=Ws=0,Yi=s),Ws)},movementY:function(s){return"movementY"in s?s.movementY:Xa}}),Hl=en(Ja),Jr=v({},Ja,{dataTransfer:0}),ih=en(Jr),sh=v({},Ys,{relatedTarget:0}),Zr=en(sh),Gl=v({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),rh=en(Gl),Za=v({},ds,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ah=en(Za),oh=v({},ds,{data:0}),Wi=en(oh),lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=ch[s])?!!r[s]:!1}function Qs(){return hh}var bn=v({},Ys,{key:function(s){if(s.key){var r=lh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Xr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?uh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(s){return s.type==="keypress"?Xr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),dh=en(bn),fh=v({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fs=en(fh),f=v({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),b=en(f),T=v({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=en(T),K=v({},Ja,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),J=en(K),me=v({},ds,{newState:0,oldState:0}),Ne=en(me),St=[9,13,27,32],We=Yn&&"CompositionEvent"in window,ft=null;Yn&&"documentMode"in document&&(ft=document.documentMode);var Wn=Yn&&"TextEvent"in window&&!ft,Qi=Yn&&(!We||ft&&8<ft&&11>=ft),vi=" ",bi=!1;function ea(s,r){switch(s){case"keyup":return St.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var to=!1;function xC(s,r){switch(s){case"compositionend":return eo(r);case"keypress":return r.which!==32?null:(bi=!0,vi);case"textInput":return s=r.data,s===vi&&bi?null:s;default:return null}}function TC(s,r){if(to)return s==="compositionend"||!We&&ea(s,r)?(s=Fl(),Qr=ql=Gi=null,to=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Qi&&r.locale!=="ko"?null:r.data;default:return null}}var EC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!EC[s.type]:r==="textarea"}function R0(s,r,l,c){Gs?Hi?Hi.push(c):Hi=[c]:Gs=c,r=nd(r,"onChange"),0<r.length&&(l=new Ki("onChange","change",null,l,c),s.push({event:l,listeners:r}))}var Kl=null,Yl=null;function SC(s){c_(s,0)}function mh(s){var r=Dn(s);if(Gr(r))return s}function C0(s,r){if(s==="change")return r}var I0=!1;if(Yn){var Gf;if(Yn){var Kf="oninput"in document;if(!Kf){var O0=document.createElement("div");O0.setAttribute("oninput","return;"),Kf=typeof O0.oninput=="function"}Gf=Kf}else Gf=!1;I0=Gf&&(!document.documentMode||9<document.documentMode)}function D0(){Kl&&(Kl.detachEvent("onpropertychange",N0),Yl=Kl=null)}function N0(s){if(s.propertyName==="value"&&mh(Yl)){var r=[];R0(r,Yl,s,Kn(s)),Ks(SC,r)}}function AC(s,r,l){s==="focusin"?(D0(),Kl=r,Yl=l,Kl.attachEvent("onpropertychange",N0)):s==="focusout"&&D0()}function kC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mh(Yl)}function RC(s,r){if(s==="click")return mh(r)}function CC(s,r){if(s==="input"||s==="change")return mh(r)}function IC(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var jn=typeof Object.is=="function"?Object.is:IC;function Wl(s,r){if(jn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),c=Object.keys(r);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Ct.call(r,p)||!jn(s[p],r[p]))return!1}return!0}function j0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function P0(s,r){var l=j0(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=r&&c>=r)return{node:l,offset:r-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=j0(l)}}function V0(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?V0(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function M0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=$i(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=$i(s.document)}return r}function Yf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var OC=Yn&&"documentMode"in document&&11>=document.documentMode,no=null,Wf=null,Ql=null,Qf=!1;function L0(s,r,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Qf||no==null||no!==$i(c)||(c=no,"selectionStart"in c&&Yf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ql&&Wl(Ql,c)||(Ql=c,c=nd(Wf,"onSelect"),0<c.length&&(r=new Ki("onSelect","select",null,r,l),s.push({event:r,listeners:c}),r.target=no)))}function ta(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var io={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},Xf={},U0={};Yn&&(U0=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function na(s){if(Xf[s])return Xf[s];if(!io[s])return s;var r=io[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in U0)return Xf[s]=r[l];return s}var B0=na("animationend"),z0=na("animationiteration"),q0=na("animationstart"),DC=na("transitionrun"),NC=na("transitionstart"),jC=na("transitioncancel"),F0=na("transitionend"),$0=new Map,Jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jf.push("scrollEnd");function wi(s,r){$0.set(s,r),qi(r,[s])}var ph=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Qn=[],so=0,Zf=0;function gh(){for(var s=so,r=Zf=so=0;r<s;){var l=Qn[r];Qn[r++]=null;var c=Qn[r];Qn[r++]=null;var p=Qn[r];Qn[r++]=null;var g=Qn[r];if(Qn[r++]=null,c!==null&&p!==null){var x=c.pending;x===null?p.next=p:(p.next=x.next,x.next=p),c.pending=p}g!==0&&H0(l,p,g)}}function yh(s,r,l,c){Qn[so++]=s,Qn[so++]=r,Qn[so++]=l,Qn[so++]=c,Zf|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function em(s,r,l,c){return yh(s,r,l,c),vh(s)}function ia(s,r){return yh(s,null,null,r),vh(s)}function H0(s,r,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var p=!1,g=s.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(p=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,p&&r!==null&&(p=31-Et(l),s=g.hiddenUpdates,c=s[p],c===null?s[p]=[r]:c.push(r),r.lane=l|536870912),g):null}function vh(s){if(50<vu)throw vu=0,up=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var ro={};function PC(s,r,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(s,r,l,c){return new PC(s,r,l,c)}function tm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ms(s,r){var l=s.alternate;return l===null?(l=Pn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function G0(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function bh(s,r,l,c,p,g){var x=0;if(c=s,typeof s=="function")tm(s)&&(x=1);else if(typeof s=="string")x=B2(s,l,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case D:return s=Pn(31,l,r,p),s.elementType=D,s.lanes=g,s;case R:return sa(l.children,p,g,r);case O:x=8,p|=24;break;case N:return s=Pn(12,l,r,p|2),s.elementType=N,s.lanes=g,s;case se:return s=Pn(13,l,r,p),s.elementType=se,s.lanes=g,s;case ce:return s=Pn(19,l,r,p),s.elementType=ce,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:x=10;break e;case U:x=9;break e;case ne:x=11;break e;case I:x=14;break e;case A:x=16,c=null;break e}x=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=Pn(x,l,r,p),r.elementType=s,r.type=c,r.lanes=g,r}function sa(s,r,l,c){return s=Pn(7,s,c,r),s.lanes=l,s}function nm(s,r,l){return s=Pn(6,s,null,r),s.lanes=l,s}function K0(s){var r=Pn(18,null,null,0);return r.stateNode=s,r}function im(s,r,l){return r=Pn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Y0=new WeakMap;function Xn(s,r){if(typeof s=="object"&&s!==null){var l=Y0.get(s);return l!==void 0?l:(r={value:s,source:r,stack:kl(r)},Y0.set(s,r),r)}return{value:s,source:r,stack:kl(r)}}var ao=[],oo=0,wh=null,Xl=0,Jn=[],Zn=0,Xs=null,Xi=1,Ji="";function ps(s,r){ao[oo++]=Xl,ao[oo++]=wh,wh=s,Xl=r}function W0(s,r,l){Jn[Zn++]=Xi,Jn[Zn++]=Ji,Jn[Zn++]=Xs,Xs=s;var c=Xi;s=Ji;var p=32-Et(c)-1;c&=~(1<<p),l+=1;var g=32-Et(r)+p;if(30<g){var x=p-p%5;g=(c&(1<<x)-1).toString(32),c>>=x,p-=x,Xi=1<<32-Et(r)+p|l<<p|c,Ji=g+s}else Xi=1<<g|l<<p|c,Ji=s}function sm(s){s.return!==null&&(ps(s,1),W0(s,1,0))}function rm(s){for(;s===wh;)wh=ao[--oo],ao[oo]=null,Xl=ao[--oo],ao[oo]=null;for(;s===Xs;)Xs=Jn[--Zn],Jn[Zn]=null,Ji=Jn[--Zn],Jn[Zn]=null,Xi=Jn[--Zn],Jn[Zn]=null}function Q0(s,r){Jn[Zn++]=Xi,Jn[Zn++]=Ji,Jn[Zn++]=Xs,Xi=r.id,Ji=r.overflow,Xs=s}var tn=null,lt=null,$e=!1,Js=null,ei=!1,am=Error(i(519));function Zs(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(Xn(r,s)),am}function X0(s){var r=s.stateNode,l=s.type,c=s.memoizedProps;switch(r[Ot]=s,r[Wt]=c,l){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(l=0;l<wu.length;l++)Le(wu[l],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),Zc(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),$s(r,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||c.suppressHydrationWarning===!0||m_(r.textContent,l)?(c.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),c.onScroll!=null&&Le("scroll",r),c.onScrollEnd!=null&&Le("scrollend",r),c.onClick!=null&&(r.onclick=pi),r=!0):r=!1,r||Zs(s,!0)}function J0(s){for(tn=s.return;tn;)switch(tn.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:tn=tn.return}}function lo(s){if(s!==tn)return!1;if(!$e)return J0(s),$e=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Ep(s.type,s.memoizedProps)),l=!l),l&&lt&&Zs(s),J0(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));lt=T_(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));lt=T_(s)}else r===27?(r=lt,fr(s.type)?(s=Cp,Cp=null,lt=s):lt=r):lt=tn?ni(s.stateNode.nextSibling):null;return!0}function ra(){lt=tn=null,$e=!1}function om(){var s=Js;return s!==null&&(Rn===null?Rn=s:Rn.push.apply(Rn,s),Js=null),s}function Jl(s){Js===null?Js=[s]:Js.push(s)}var lm=B(null),aa=null,gs=null;function er(s,r,l){de(lm,r._currentValue),r._currentValue=l}function ys(s){s._currentValue=lm.current,te(lm)}function um(s,r,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===l)break;s=s.return}}function cm(s,r,l,c){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var g=p.dependencies;if(g!==null){var x=p.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=p;for(var L=0;L<r.length;L++)if(S.context===r[L]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),um(g.return,l,s),c||(x=null);break e}g=S.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(i(341));x.lanes|=l,g=x.alternate,g!==null&&(g.lanes|=l),um(x,l,s),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===s){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function uo(s,r,l,c){s=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var S=p.type;jn(p.pendingProps.value,x.value)||(s!==null?s.push(S):s=[S])}}else if(p===Ve.current){if(x=p.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Su):s=[Su])}p=p.return}s!==null&&cm(r,s,l,c),r.flags|=262144}function _h(s){for(s=s.firstContext;s!==null;){if(!jn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function oa(s){aa=s,gs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function nn(s){return Z0(aa,s)}function xh(s,r){return aa===null&&oa(s),Z0(s,r)}function Z0(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},gs===null){if(s===null)throw Error(i(308));gs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else gs=gs.next=r;return l}var VC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},MC=t.unstable_scheduleCallback,LC=t.unstable_NormalPriority,jt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hm(){return{controller:new VC,data:new Map,refCount:0}}function Zl(s){s.refCount--,s.refCount===0&&MC(LC,function(){s.controller.abort()})}var eu=null,dm=0,co=0,ho=null;function UC(s,r){if(eu===null){var l=eu=[];dm=0,co=pp(),ho={status:"pending",value:void 0,then:function(c){l.push(c)}}}return dm++,r.then(eb,eb),r}function eb(){if(--dm===0&&eu!==null){ho!==null&&(ho.status="fulfilled");var s=eu;eu=null,co=0,ho=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function BC(s,r){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<l.length;p++)(0,l[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var tb=M.S;M.S=function(s,r){Lw=vn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&UC(s,r),tb!==null&&tb(s,r)};var la=B(null);function fm(){var s=la.current;return s!==null?s:rt.pooledCache}function Th(s,r){r===null?de(la,la.current):de(la,r.pool)}function nb(){var s=fm();return s===null?null:{parent:jt._currentValue,pool:s}}var fo=Error(i(460)),mm=Error(i(474)),Eh=Error(i(542)),Sh={then:function(){}};function ib(s){return s=s.status,s==="fulfilled"||s==="rejected"}function sb(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(pi,pi),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,ab(s),s;default:if(typeof r.status=="string")r.then(pi,pi);else{if(s=rt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,ab(s),s}throw ca=r,fo}}function ua(s){try{var r=s._init;return r(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ca=l,fo):l}}var ca=null;function rb(){if(ca===null)throw Error(i(459));var s=ca;return ca=null,s}function ab(s){if(s===fo||s===Eh)throw Error(i(483))}var mo=null,tu=0;function Ah(s){var r=tu;return tu+=1,mo===null&&(mo=[]),sb(mo,s,r)}function nu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function kh(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function ob(s){function r(G,F){if(s){var Y=G.deletions;Y===null?(G.deletions=[F],G.flags|=16):Y.push(F)}}function l(G,F){if(!s)return null;for(;F!==null;)r(G,F),F=F.sibling;return null}function c(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function p(G,F){return G=ms(G,F),G.index=0,G.sibling=null,G}function g(G,F,Y){return G.index=Y,s?(Y=G.alternate,Y!==null?(Y=Y.index,Y<F?(G.flags|=67108866,F):Y):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function x(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function S(G,F,Y,re){return F===null||F.tag!==6?(F=nm(Y,G.mode,re),F.return=G,F):(F=p(F,Y),F.return=G,F)}function L(G,F,Y,re){var xe=Y.type;return xe===R?ie(G,F,Y.props.children,re,Y.key):F!==null&&(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===A&&ua(xe)===F.type)?(F=p(F,Y.props),nu(F,Y),F.return=G,F):(F=bh(Y.type,Y.key,Y.props,null,G.mode,re),nu(F,Y),F.return=G,F)}function W(G,F,Y,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=im(Y,G.mode,re),F.return=G,F):(F=p(F,Y.children||[]),F.return=G,F)}function ie(G,F,Y,re,xe){return F===null||F.tag!==7?(F=sa(Y,G.mode,re,xe),F.return=G,F):(F=p(F,Y),F.return=G,F)}function oe(G,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=nm(""+F,G.mode,Y),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return Y=bh(F.type,F.key,F.props,null,G.mode,Y),nu(Y,F),Y.return=G,Y;case k:return F=im(F,G.mode,Y),F.return=G,F;case A:return F=ua(F),oe(G,F,Y)}if(X(F)||H(F))return F=sa(F,G.mode,Y,null),F.return=G,F;if(typeof F.then=="function")return oe(G,Ah(F),Y);if(F.$$typeof===V)return oe(G,xh(G,F),Y);kh(G,F)}return null}function Q(G,F,Y,re){var xe=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:S(G,F,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===xe?L(G,F,Y,re):null;case k:return Y.key===xe?W(G,F,Y,re):null;case A:return Y=ua(Y),Q(G,F,Y,re)}if(X(Y)||H(Y))return xe!==null?null:ie(G,F,Y,re,null);if(typeof Y.then=="function")return Q(G,F,Ah(Y),re);if(Y.$$typeof===V)return Q(G,F,xh(G,Y),re);kh(G,Y)}return null}function Z(G,F,Y,re,xe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get(Y)||null,S(F,G,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return G=G.get(re.key===null?Y:re.key)||null,L(F,G,re,xe);case k:return G=G.get(re.key===null?Y:re.key)||null,W(F,G,re,xe);case A:return re=ua(re),Z(G,F,Y,re,xe)}if(X(re)||H(re))return G=G.get(Y)||null,ie(F,G,re,xe,null);if(typeof re.then=="function")return Z(G,F,Y,Ah(re),xe);if(re.$$typeof===V)return Z(G,F,Y,xh(F,re),xe);kh(F,re)}return null}function ve(G,F,Y,re){for(var xe=null,Ke=null,we=F,Pe=F=0,ze=null;we!==null&&Pe<Y.length;Pe++){we.index>Pe?(ze=we,we=null):ze=we.sibling;var Ye=Q(G,we,Y[Pe],re);if(Ye===null){we===null&&(we=ze);break}s&&we&&Ye.alternate===null&&r(G,we),F=g(Ye,F,Pe),Ke===null?xe=Ye:Ke.sibling=Ye,Ke=Ye,we=ze}if(Pe===Y.length)return l(G,we),$e&&ps(G,Pe),xe;if(we===null){for(;Pe<Y.length;Pe++)we=oe(G,Y[Pe],re),we!==null&&(F=g(we,F,Pe),Ke===null?xe=we:Ke.sibling=we,Ke=we);return $e&&ps(G,Pe),xe}for(we=c(we);Pe<Y.length;Pe++)ze=Z(we,G,Pe,Y[Pe],re),ze!==null&&(s&&ze.alternate!==null&&we.delete(ze.key===null?Pe:ze.key),F=g(ze,F,Pe),Ke===null?xe=ze:Ke.sibling=ze,Ke=ze);return s&&we.forEach(function(vr){return r(G,vr)}),$e&&ps(G,Pe),xe}function Ee(G,F,Y,re){if(Y==null)throw Error(i(151));for(var xe=null,Ke=null,we=F,Pe=F=0,ze=null,Ye=Y.next();we!==null&&!Ye.done;Pe++,Ye=Y.next()){we.index>Pe?(ze=we,we=null):ze=we.sibling;var vr=Q(G,we,Ye.value,re);if(vr===null){we===null&&(we=ze);break}s&&we&&vr.alternate===null&&r(G,we),F=g(vr,F,Pe),Ke===null?xe=vr:Ke.sibling=vr,Ke=vr,we=ze}if(Ye.done)return l(G,we),$e&&ps(G,Pe),xe;if(we===null){for(;!Ye.done;Pe++,Ye=Y.next())Ye=oe(G,Ye.value,re),Ye!==null&&(F=g(Ye,F,Pe),Ke===null?xe=Ye:Ke.sibling=Ye,Ke=Ye);return $e&&ps(G,Pe),xe}for(we=c(we);!Ye.done;Pe++,Ye=Y.next())Ye=Z(we,G,Pe,Ye.value,re),Ye!==null&&(s&&Ye.alternate!==null&&we.delete(Ye.key===null?Pe:Ye.key),F=g(Ye,F,Pe),Ke===null?xe=Ye:Ke.sibling=Ye,Ke=Ye);return s&&we.forEach(function(X2){return r(G,X2)}),$e&&ps(G,Pe),xe}function st(G,F,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===R&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var xe=Y.key;F!==null;){if(F.key===xe){if(xe=Y.type,xe===R){if(F.tag===7){l(G,F.sibling),re=p(F,Y.props.children),re.return=G,G=re;break e}}else if(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===A&&ua(xe)===F.type){l(G,F.sibling),re=p(F,Y.props),nu(re,Y),re.return=G,G=re;break e}l(G,F);break}else r(G,F);F=F.sibling}Y.type===R?(re=sa(Y.props.children,G.mode,re,Y.key),re.return=G,G=re):(re=bh(Y.type,Y.key,Y.props,null,G.mode,re),nu(re,Y),re.return=G,G=re)}return x(G);case k:e:{for(xe=Y.key;F!==null;){if(F.key===xe)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){l(G,F.sibling),re=p(F,Y.children||[]),re.return=G,G=re;break e}else{l(G,F);break}else r(G,F);F=F.sibling}re=im(Y,G.mode,re),re.return=G,G=re}return x(G);case A:return Y=ua(Y),st(G,F,Y,re)}if(X(Y))return ve(G,F,Y,re);if(H(Y)){if(xe=H(Y),typeof xe!="function")throw Error(i(150));return Y=xe.call(Y),Ee(G,F,Y,re)}if(typeof Y.then=="function")return st(G,F,Ah(Y),re);if(Y.$$typeof===V)return st(G,F,xh(G,Y),re);kh(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(l(G,F.sibling),re=p(F,Y),re.return=G,G=re):(l(G,F),re=nm(Y,G.mode,re),re.return=G,G=re),x(G)):l(G,F)}return function(G,F,Y,re){try{tu=0;var xe=st(G,F,Y,re);return mo=null,xe}catch(we){if(we===fo||we===Eh)throw we;var Ke=Pn(29,we,null,G.mode);return Ke.lanes=re,Ke.return=G,Ke}}}var ha=ob(!0),lb=ob(!1),tr=!1;function pm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function nr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ir(s,r,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=vh(s),H0(s,null,l),r}return yh(s,c,r,l),vh(s)}function iu(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,l|=c,r.lanes=l,Il(s,l)}}function ym(s,r){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=x:g=g.next=x,l=l.next}while(l!==null);g===null?p=g=r:g=g.next=r}else p=g=r;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var vm=!1;function su(){if(vm){var s=ho;if(s!==null)throw s}}function ru(s,r,l,c){vm=!1;var p=s.updateQueue;tr=!1;var g=p.firstBaseUpdate,x=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var L=S,W=L.next;L.next=null,x===null?g=W:x.next=W,x=L;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,S=ie.lastBaseUpdate,S!==x&&(S===null?ie.firstBaseUpdate=W:S.next=W,ie.lastBaseUpdate=L))}if(g!==null){var oe=p.baseState;x=0,ie=W=L=null,S=g;do{var Q=S.lane&-536870913,Z=Q!==S.lane;if(Z?(Be&Q)===Q:(c&Q)===Q){Q!==0&&Q===co&&(vm=!0),ie!==null&&(ie=ie.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ve=s,Ee=S;Q=r;var st=l;switch(Ee.tag){case 1:if(ve=Ee.payload,typeof ve=="function"){oe=ve.call(st,oe,Q);break e}oe=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ee.payload,Q=typeof ve=="function"?ve.call(st,oe,Q):ve,Q==null)break e;oe=v({},oe,Q);break e;case 2:tr=!0}}Q=S.callback,Q!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ie===null?(W=ie=Z,L=oe):ie=ie.next=Z,x|=Q;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);ie===null&&(L=oe),p.baseState=L,p.firstBaseUpdate=W,p.lastBaseUpdate=ie,g===null&&(p.shared.lanes=0),lr|=x,s.lanes=x,s.memoizedState=oe}}function ub(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function cb(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)ub(l[s],r)}var po=B(null),Rh=B(0);function hb(s,r){s=As,de(Rh,s),de(po,r),As=s|r.baseLanes}function bm(){de(Rh,As),de(po,po.current)}function wm(){As=Rh.current,te(po),te(Rh)}var Vn=B(null),ti=null;function sr(s){var r=s.alternate;de(At,At.current&1),de(Vn,s),ti===null&&(r===null||po.current!==null||r.memoizedState!==null)&&(ti=s)}function _m(s){de(At,At.current),de(Vn,s),ti===null&&(ti=s)}function db(s){s.tag===22?(de(At,At.current),de(Vn,s),ti===null&&(ti=s)):rr()}function rr(){de(At,At.current),de(Vn,Vn.current)}function Mn(s){te(Vn),ti===s&&(ti=null),te(At)}var At=B(0);function Ch(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||kp(l)||Rp(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vs=0,je=null,nt=null,Pt=null,Ih=!1,go=!1,da=!1,Oh=0,au=0,yo=null,zC=0;function wt(){throw Error(i(321))}function xm(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!jn(s[l],r[l]))return!1;return!0}function Tm(s,r,l,c,p,g){return vs=g,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,M.H=s===null||s.memoizedState===null?Wb:Lm,da=!1,g=l(c,p),da=!1,go&&(g=mb(r,l,c,p)),fb(s),g}function fb(s){M.H=uu;var r=nt!==null&&nt.next!==null;if(vs=0,Pt=nt=je=null,Ih=!1,au=0,yo=null,r)throw Error(i(300));s===null||Vt||(s=s.dependencies,s!==null&&_h(s)&&(Vt=!0))}function mb(s,r,l,c){je=s;var p=0;do{if(go&&(yo=null),au=0,go=!1,25<=p)throw Error(i(301));if(p+=1,Pt=nt=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}M.H=Qb,g=r(l,c)}while(go);return g}function qC(){var s=M.H,r=s.useState()[0];return r=typeof r.then=="function"?ou(r):r,s=s.useState()[0],(nt!==null?nt.memoizedState:null)!==s&&(je.flags|=1024),r}function Em(){var s=Oh!==0;return Oh=0,s}function Sm(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function Am(s){if(Ih){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ih=!1}vs=0,Pt=nt=je=null,go=!1,au=Oh=0,yo=null}function wn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?je.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function kt(){if(nt===null){var s=je.alternate;s=s!==null?s.memoizedState:null}else s=nt.next;var r=Pt===null?je.memoizedState:Pt.next;if(r!==null)Pt=r,nt=s;else{if(s===null)throw je.alternate===null?Error(i(467)):Error(i(310));nt=s,s={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Pt===null?je.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}function Dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(s){var r=au;return au+=1,yo===null&&(yo=[]),s=sb(yo,s,r),r=je,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,M.H=r===null||r.memoizedState===null?Wb:Lm),s}function Nh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ou(s);if(s.$$typeof===V)return nn(s)}throw Error(i(438,String(s)))}function km(s){var r=null,l=je.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var c=je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Dh(),je.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),c=0;c<s;c++)l[c]=q;return r.index++,l}function bs(s,r){return typeof r=="function"?r(s):r}function jh(s){var r=kt();return Rm(r,nt,s)}function Rm(s,r,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=s.baseQueue,g=c.pending;if(g!==null){if(p!==null){var x=p.next;p.next=g.next,g.next=x}r.baseQueue=p=g,c.pending=null}if(g=s.baseState,p===null)s.memoizedState=g;else{r=p.next;var S=x=null,L=null,W=r,ie=!1;do{var oe=W.lane&-536870913;if(oe!==W.lane?(Be&oe)===oe:(vs&oe)===oe){var Q=W.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),oe===co&&(ie=!0);else if((vs&Q)===Q){W=W.next,Q===co&&(ie=!0);continue}else oe={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(S=L=oe,x=g):L=L.next=oe,je.lanes|=Q,lr|=Q;oe=W.action,da&&l(g,oe),g=W.hasEagerState?W.eagerState:l(g,oe)}else Q={lane:oe,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(S=L=Q,x=g):L=L.next=Q,je.lanes|=oe,lr|=oe;W=W.next}while(W!==null&&W!==r);if(L===null?x=g:L.next=S,!jn(g,s.memoizedState)&&(Vt=!0,ie&&(l=ho,l!==null)))throw l;s.memoizedState=g,s.baseState=x,s.baseQueue=L,c.lastRenderedState=g}return p===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Cm(s){var r=kt(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,p=l.pending,g=r.memoizedState;if(p!==null){l.pending=null;var x=p=p.next;do g=s(g,x.action),x=x.next;while(x!==p);jn(g,r.memoizedState)||(Vt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),l.lastRenderedState=g}return[g,c]}function pb(s,r,l){var c=je,p=kt(),g=$e;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=r();var x=!jn((nt||p).memoizedState,l);if(x&&(p.memoizedState=l,Vt=!0),p=p.queue,Dm(vb.bind(null,c,p,s),[s]),p.getSnapshot!==r||x||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,vo(9,{destroy:void 0},yb.bind(null,c,p,l,r),null),rt===null)throw Error(i(349));g||(vs&127)!==0||gb(c,r,l)}return l}function gb(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=je.updateQueue,r===null?(r=Dh(),je.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function yb(s,r,l,c){r.value=l,r.getSnapshot=c,bb(r)&&wb(s)}function vb(s,r,l){return l(function(){bb(r)&&wb(s)})}function bb(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!jn(s,l)}catch{return!0}}function wb(s){var r=ia(s,2);r!==null&&Cn(r,s,2)}function Im(s){var r=wn();if(typeof s=="function"){var l=s;if(s=l(),da){Hn(!0);try{l()}finally{Hn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:s},r}function _b(s,r,l,c){return s.baseState=l,Rm(s,nt,typeof c=="function"?c:bs)}function FC(s,r,l,c,p){if(Mh(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};M.T!==null?l(!0):g.isTransition=!1,c(g),l=r.pending,l===null?(g.next=r.pending=g,xb(r,g)):(g.next=l.next,r.pending=l.next=g)}}function xb(s,r){var l=r.action,c=r.payload,p=s.state;if(r.isTransition){var g=M.T,x={};M.T=x;try{var S=l(p,c),L=M.S;L!==null&&L(x,S),Tb(s,r,S)}catch(W){Om(s,r,W)}finally{g!==null&&x.types!==null&&(g.types=x.types),M.T=g}}else try{g=l(p,c),Tb(s,r,g)}catch(W){Om(s,r,W)}}function Tb(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Eb(s,r,c)},function(c){return Om(s,r,c)}):Eb(s,r,l)}function Eb(s,r,l){r.status="fulfilled",r.value=l,Sb(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,xb(s,l)))}function Om(s,r,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=l,Sb(r),r=r.next;while(r!==c)}s.action=null}function Sb(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Ab(s,r){return r}function kb(s,r){if($e){var l=rt.formState;if(l!==null){e:{var c=je;if($e){if(lt){t:{for(var p=lt,g=ei;p.nodeType!==8;){if(!g){p=null;break t}if(p=ni(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){lt=ni(p.nextSibling),c=p.data==="F!";break e}}Zs(c)}c=!1}c&&(r=l[0])}}return l=wn(),l.memoizedState=l.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ab,lastRenderedState:r},l.queue=c,l=Gb.bind(null,je,c),c.dispatch=l,c=Im(!1),g=Mm.bind(null,je,!1,c.queue),c=wn(),p={state:r,dispatch:null,action:s,pending:null},c.queue=p,l=FC.bind(null,je,p,g,l),p.dispatch=l,c.memoizedState=s,[r,l,!1]}function Rb(s){var r=kt();return Cb(r,nt,s)}function Cb(s,r,l){if(r=Rm(s,r,Ab)[0],s=jh(bs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=ou(r)}catch(x){throw x===fo?Eh:x}else c=r;r=kt();var p=r.queue,g=p.dispatch;return l!==r.memoizedState&&(je.flags|=2048,vo(9,{destroy:void 0},$C.bind(null,p,l),null)),[c,g,s]}function $C(s,r){s.action=r}function Ib(s){var r=kt(),l=nt;if(l!==null)return Cb(r,l,s);kt(),r=r.memoizedState,l=kt();var c=l.queue.dispatch;return l.memoizedState=s,[r,c,!1]}function vo(s,r,l,c){return s={tag:s,create:l,deps:c,inst:r,next:null},r=je.updateQueue,r===null&&(r=Dh(),je.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,r.lastEffect=s),s}function Ob(){return kt().memoizedState}function Ph(s,r,l,c){var p=wn();je.flags|=s,p.memoizedState=vo(1|r,{destroy:void 0},l,c===void 0?null:c)}function Vh(s,r,l,c){var p=kt();c=c===void 0?null:c;var g=p.memoizedState.inst;nt!==null&&c!==null&&xm(c,nt.memoizedState.deps)?p.memoizedState=vo(r,g,l,c):(je.flags|=s,p.memoizedState=vo(1|r,g,l,c))}function Db(s,r){Ph(8390656,8,s,r)}function Dm(s,r){Vh(2048,8,s,r)}function HC(s){je.flags|=4;var r=je.updateQueue;if(r===null)r=Dh(),je.updateQueue=r,r.events=[s];else{var l=r.events;l===null?r.events=[s]:l.push(s)}}function Nb(s){var r=kt().memoizedState;return HC({ref:r,nextImpl:s}),function(){if((Qe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function jb(s,r){return Vh(4,2,s,r)}function Pb(s,r){return Vh(4,4,s,r)}function Vb(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Mb(s,r,l){l=l!=null?l.concat([s]):null,Vh(4,4,Vb.bind(null,r,s),l)}function Nm(){}function Lb(s,r){var l=kt();r=r===void 0?null:r;var c=l.memoizedState;return r!==null&&xm(r,c[1])?c[0]:(l.memoizedState=[s,r],s)}function Ub(s,r){var l=kt();r=r===void 0?null:r;var c=l.memoizedState;if(r!==null&&xm(r,c[1]))return c[0];if(c=s(),da){Hn(!0);try{s()}finally{Hn(!1)}}return l.memoizedState=[c,r],c}function jm(s,r,l){return l===void 0||(vs&1073741824)!==0&&(Be&261930)===0?s.memoizedState=r:(s.memoizedState=l,s=Bw(),je.lanes|=s,lr|=s,l)}function Bb(s,r,l,c){return jn(l,r)?l:po.current!==null?(s=jm(s,l,c),jn(s,r)||(Vt=!0),s):(vs&42)===0||(vs&1073741824)!==0&&(Be&261930)===0?(Vt=!0,s.memoizedState=l):(s=Bw(),je.lanes|=s,lr|=s,r)}function zb(s,r,l,c,p){var g=$.p;$.p=g!==0&&8>g?g:8;var x=M.T,S={};M.T=S,Mm(s,!1,r,l);try{var L=p(),W=M.S;if(W!==null&&W(S,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ie=BC(L,c);lu(s,r,ie,Bn(s))}else lu(s,r,c,Bn(s))}catch(oe){lu(s,r,{then:function(){},status:"rejected",reason:oe},Bn())}finally{$.p=g,x!==null&&S.types!==null&&(x.types=S.types),M.T=x}}function GC(){}function Pm(s,r,l,c){if(s.tag!==5)throw Error(i(476));var p=qb(s).queue;zb(s,p,r,ee,l===null?GC:function(){return Fb(s),l(c)})}function qb(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:ee},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Fb(s){var r=qb(s);r.next===null&&(r=s.alternate.memoizedState),lu(s,r.next.queue,{},Bn())}function Vm(){return nn(Su)}function $b(){return kt().memoizedState}function Hb(){return kt().memoizedState}function KC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Bn();s=nr(l);var c=ir(r,s,l);c!==null&&(Cn(c,r,l),iu(c,r,l)),r={cache:hm()},s.payload=r;return}r=r.return}}function YC(s,r,l){var c=Bn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mh(s)?Kb(r,l):(l=em(s,r,l,c),l!==null&&(Cn(l,s,c),Yb(l,r,c)))}function Gb(s,r,l){var c=Bn();lu(s,r,l,c)}function lu(s,r,l,c){var p={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Mh(s))Kb(r,p);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var x=r.lastRenderedState,S=g(x,l);if(p.hasEagerState=!0,p.eagerState=S,jn(S,x))return yh(s,r,p,0),rt===null&&gh(),!1}catch{}if(l=em(s,r,p,c),l!==null)return Cn(l,s,c),Yb(l,r,c),!0}return!1}function Mm(s,r,l,c){if(c={lane:2,revertLane:pp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Mh(s)){if(r)throw Error(i(479))}else r=em(s,l,c,2),r!==null&&Cn(r,s,2)}function Mh(s){var r=s.alternate;return s===je||r!==null&&r===je}function Kb(s,r){go=Ih=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function Yb(s,r,l){if((l&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,l|=c,r.lanes=l,Il(s,l)}}var uu={readContext:nn,use:Nh,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};uu.useEffectEvent=wt;var Wb={readContext:nn,use:Nh,useCallback:function(s,r){return wn().memoizedState=[s,r===void 0?null:r],s},useContext:nn,useEffect:Db,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,Ph(4194308,4,Vb.bind(null,r,s),l)},useLayoutEffect:function(s,r){return Ph(4194308,4,s,r)},useInsertionEffect:function(s,r){Ph(4,2,s,r)},useMemo:function(s,r){var l=wn();r=r===void 0?null:r;var c=s();if(da){Hn(!0);try{s()}finally{Hn(!1)}}return l.memoizedState=[c,r],c},useReducer:function(s,r,l){var c=wn();if(l!==void 0){var p=l(r);if(da){Hn(!0);try{l(r)}finally{Hn(!1)}}}else p=r;return c.memoizedState=c.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},c.queue=s,s=s.dispatch=YC.bind(null,je,s),[c.memoizedState,s]},useRef:function(s){var r=wn();return s={current:s},r.memoizedState=s},useState:function(s){s=Im(s);var r=s.queue,l=Gb.bind(null,je,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:Nm,useDeferredValue:function(s,r){var l=wn();return jm(l,s,r)},useTransition:function(){var s=Im(!1);return s=zb.bind(null,je,s.queue,!0,!1),wn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var c=je,p=wn();if($e){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),rt===null)throw Error(i(349));(Be&127)!==0||gb(c,r,l)}p.memoizedState=l;var g={value:l,getSnapshot:r};return p.queue=g,Db(vb.bind(null,c,g,s),[s]),c.flags|=2048,vo(9,{destroy:void 0},yb.bind(null,c,g,l,r),null),l},useId:function(){var s=wn(),r=rt.identifierPrefix;if($e){var l=Ji,c=Xi;l=(c&~(1<<32-Et(c)-1)).toString(32)+l,r="_"+r+"R_"+l,l=Oh++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=zC++,r="_"+r+"r_"+l.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Vm,useFormState:kb,useActionState:kb,useOptimistic:function(s){var r=wn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Mm.bind(null,je,!0,l),l.dispatch=r,[s,r]},useMemoCache:km,useCacheRefresh:function(){return wn().memoizedState=KC.bind(null,je)},useEffectEvent:function(s){var r=wn(),l={impl:s};return r.memoizedState=l,function(){if((Qe&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Lm={readContext:nn,use:Nh,useCallback:Lb,useContext:nn,useEffect:Dm,useImperativeHandle:Mb,useInsertionEffect:jb,useLayoutEffect:Pb,useMemo:Ub,useReducer:jh,useRef:Ob,useState:function(){return jh(bs)},useDebugValue:Nm,useDeferredValue:function(s,r){var l=kt();return Bb(l,nt.memoizedState,s,r)},useTransition:function(){var s=jh(bs)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:ou(s),r]},useSyncExternalStore:pb,useId:$b,useHostTransitionStatus:Vm,useFormState:Rb,useActionState:Rb,useOptimistic:function(s,r){var l=kt();return _b(l,nt,s,r)},useMemoCache:km,useCacheRefresh:Hb};Lm.useEffectEvent=Nb;var Qb={readContext:nn,use:Nh,useCallback:Lb,useContext:nn,useEffect:Dm,useImperativeHandle:Mb,useInsertionEffect:jb,useLayoutEffect:Pb,useMemo:Ub,useReducer:Cm,useRef:Ob,useState:function(){return Cm(bs)},useDebugValue:Nm,useDeferredValue:function(s,r){var l=kt();return nt===null?jm(l,s,r):Bb(l,nt.memoizedState,s,r)},useTransition:function(){var s=Cm(bs)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:ou(s),r]},useSyncExternalStore:pb,useId:$b,useHostTransitionStatus:Vm,useFormState:Ib,useActionState:Ib,useOptimistic:function(s,r){var l=kt();return nt!==null?_b(l,nt,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:km,useCacheRefresh:Hb};Qb.useEffectEvent=Nb;function Um(s,r,l,c){r=s.memoizedState,l=l(c,r),l=l==null?r:v({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Bm={enqueueSetState:function(s,r,l){s=s._reactInternals;var c=Bn(),p=nr(c);p.payload=r,l!=null&&(p.callback=l),r=ir(s,p,c),r!==null&&(Cn(r,s,c),iu(r,s,c))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var c=Bn(),p=nr(c);p.tag=1,p.payload=r,l!=null&&(p.callback=l),r=ir(s,p,c),r!==null&&(Cn(r,s,c),iu(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Bn(),c=nr(l);c.tag=2,r!=null&&(c.callback=r),r=ir(s,c,l),r!==null&&(Cn(r,s,l),iu(r,s,l))}};function Xb(s,r,l,c,p,g,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,x):r.prototype&&r.prototype.isPureReactComponent?!Wl(l,c)||!Wl(p,g):!0}function Jb(s,r,l,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,c),r.state!==s&&Bm.enqueueReplaceState(r,r.state,null)}function fa(s,r){var l=r;if("ref"in r){l={};for(var c in r)c!=="ref"&&(l[c]=r[c])}if(s=s.defaultProps){l===r&&(l=v({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}function Zb(s){ph(s)}function ew(s){console.error(s)}function tw(s){ph(s)}function Lh(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function nw(s,r,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function zm(s,r,l){return l=nr(l),l.tag=3,l.payload={element:null},l.callback=function(){Lh(s,r)},l}function iw(s){return s=nr(s),s.tag=3,s}function sw(s,r,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;s.payload=function(){return p(g)},s.callback=function(){nw(r,l,c)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){nw(r,l,c),typeof p!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function WC(s,r,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=l.alternate,r!==null&&uo(r,l,p,!0),l=Vn.current,l!==null){switch(l.tag){case 31:case 13:return ti===null?Qh():l.alternate===null&&_t===0&&(_t=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Sh?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([c]):r.add(c),dp(s,c,p)),!1;case 22:return l.flags|=65536,c===Sh?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([c]):l.add(c)),dp(s,c,p)),!1}throw Error(i(435,l.tag))}return dp(s,c,p),Qh(),!1}if($e)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==am&&(s=Error(i(422),{cause:c}),Jl(Xn(s,l)))):(c!==am&&(r=Error(i(423),{cause:c}),Jl(Xn(r,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,c=Xn(c,l),p=zm(s.stateNode,c,p),ym(s,p),_t!==4&&(_t=2)),!1;var g=Error(i(520),{cause:c});if(g=Xn(g,l),yu===null?yu=[g]:yu.push(g),_t!==4&&(_t=2),r===null)return!0;c=Xn(c,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=zm(l.stateNode,c,s),ym(l,s),!1;case 1:if(r=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ur===null||!ur.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=iw(p),sw(p,s,l,c),ym(l,p),!1}l=l.return}while(l!==null);return!1}var qm=Error(i(461)),Vt=!1;function sn(s,r,l,c){r.child=s===null?lb(r,null,l,c):ha(r,s.child,l,c)}function rw(s,r,l,c,p){l=l.render;var g=r.ref;if("ref"in c){var x={};for(var S in c)S!=="ref"&&(x[S]=c[S])}else x=c;return oa(r),c=Tm(s,r,l,x,g,p),S=Em(),s!==null&&!Vt?(Sm(s,r,p),ws(s,r,p)):($e&&S&&sm(r),r.flags|=1,sn(s,r,c,p),r.child)}function aw(s,r,l,c,p){if(s===null){var g=l.type;return typeof g=="function"&&!tm(g)&&g.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=g,ow(s,r,g,c,p)):(s=bh(l.type,null,c,r,r.mode,p),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!Qm(s,p)){var x=g.memoizedProps;if(l=l.compare,l=l!==null?l:Wl,l(x,c)&&s.ref===r.ref)return ws(s,r,p)}return r.flags|=1,s=ms(g,c),s.ref=r.ref,s.return=r,r.child=s}function ow(s,r,l,c,p){if(s!==null){var g=s.memoizedProps;if(Wl(g,c)&&s.ref===r.ref)if(Vt=!1,r.pendingProps=c=g,Qm(s,p))(s.flags&131072)!==0&&(Vt=!0);else return r.lanes=s.lanes,ws(s,r,p)}return Fm(s,r,l,c,p)}function lw(s,r,l,c){var p=c.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,s!==null){for(c=r.child=s.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,r.child=null;return uw(s,r,g,l,c)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Th(r,g!==null?g.cachePool:null),g!==null?hb(r,g):bm(),db(r);else return c=r.lanes=536870912,uw(s,r,g!==null?g.baseLanes|l:l,l,c)}else g!==null?(Th(r,g.cachePool),hb(r,g),rr(),r.memoizedState=null):(s!==null&&Th(r,null),bm(),rr());return sn(s,r,p,l),r.child}function cu(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function uw(s,r,l,c,p){var g=fm();return g=g===null?null:{parent:jt._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},s!==null&&Th(r,null),bm(),db(r),s!==null&&uo(s,r,c,!0),r.childLanes=p,null}function Uh(s,r){return r=zh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function cw(s,r,l){return ha(r,s.child,null,l),s=Uh(r,r.pendingProps),s.flags|=2,Mn(r),r.memoizedState=null,s}function QC(s,r,l){var c=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,s===null){if($e){if(c.mode==="hidden")return s=Uh(r,c),r.lanes=536870912,cu(null,s);if(_m(r),(s=lt)?(s=x_(s,ei),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Xs!==null?{id:Xi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},l=K0(s),l.return=r,r.child=l,tn=r,lt=null)):s=null,s===null)throw Zs(r);return r.lanes=536870912,null}return Uh(r,c)}var g=s.memoizedState;if(g!==null){var x=g.dehydrated;if(_m(r),p)if(r.flags&256)r.flags&=-257,r=cw(s,r,l);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Vt||uo(s,r,l,!1),p=(l&s.childLanes)!==0,Vt||p){if(c=rt,c!==null&&(x=Ol(c,l),x!==0&&x!==g.retryLane))throw g.retryLane=x,ia(s,x),Cn(c,s,x),qm;Qh(),r=cw(s,r,l)}else s=g.treeContext,lt=ni(x.nextSibling),tn=r,$e=!0,Js=null,ei=!1,s!==null&&Q0(r,s),r=Uh(r,c),r.flags|=4096;return r}return s=ms(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Bh(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Fm(s,r,l,c,p){return oa(r),l=Tm(s,r,l,c,void 0,p),c=Em(),s!==null&&!Vt?(Sm(s,r,p),ws(s,r,p)):($e&&c&&sm(r),r.flags|=1,sn(s,r,l,p),r.child)}function hw(s,r,l,c,p,g){return oa(r),r.updateQueue=null,l=mb(r,c,l,p),fb(s),c=Em(),s!==null&&!Vt?(Sm(s,r,g),ws(s,r,g)):($e&&c&&sm(r),r.flags|=1,sn(s,r,l,g),r.child)}function dw(s,r,l,c,p){if(oa(r),r.stateNode===null){var g=ro,x=l.contextType;typeof x=="object"&&x!==null&&(g=nn(x)),g=new l(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Bm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},pm(r),x=l.contextType,g.context=typeof x=="object"&&x!==null?nn(x):ro,g.state=r.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Um(r,l,x,c),g.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Bm.enqueueReplaceState(g,g.state,null),ru(r,c,g,p),su(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){g=r.stateNode;var S=r.memoizedProps,L=fa(l,S);g.props=L;var W=g.context,ie=l.contextType;x=ro,typeof ie=="object"&&ie!==null&&(x=nn(ie));var oe=l.getDerivedStateFromProps;ie=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||W!==x)&&Jb(r,g,c,x),tr=!1;var Q=r.memoizedState;g.state=Q,ru(r,c,g,p),su(),W=r.memoizedState,S||Q!==W||tr?(typeof oe=="function"&&(Um(r,l,oe,c),W=r.memoizedState),(L=tr||Xb(r,l,L,c,Q,W,x))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=W),g.props=c,g.state=W,g.context=x,c=L):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,gm(s,r),x=r.memoizedProps,ie=fa(l,x),g.props=ie,oe=r.pendingProps,Q=g.context,W=l.contextType,L=ro,typeof W=="object"&&W!==null&&(L=nn(W)),S=l.getDerivedStateFromProps,(W=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==oe||Q!==L)&&Jb(r,g,c,L),tr=!1,Q=r.memoizedState,g.state=Q,ru(r,c,g,p),su();var Z=r.memoizedState;x!==oe||Q!==Z||tr||s!==null&&s.dependencies!==null&&_h(s.dependencies)?(typeof S=="function"&&(Um(r,l,S,c),Z=r.memoizedState),(ie=tr||Xb(r,l,ie,c,Q,Z,L)||s!==null&&s.dependencies!==null&&_h(s.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Z,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Z,L)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Z),g.props=c,g.state=Z,g.context=L,c=ie):(typeof g.componentDidUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),c=!1)}return g=c,Bh(s,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&c?(r.child=ha(r,s.child,null,p),r.child=ha(r,null,l,p)):sn(s,r,l,p),r.memoizedState=g.state,s=r.child):s=ws(s,r,p),s}function fw(s,r,l,c){return ra(),r.flags|=256,sn(s,r,l,c),r.child}var $m={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(s){return{baseLanes:s,cachePool:nb()}}function Gm(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Un),s}function mw(s,r,l){var c=r.pendingProps,p=!1,g=(r.flags&128)!==0,x;if((x=g)||(x=s!==null&&s.memoizedState===null?!1:(At.current&2)!==0),x&&(p=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,s===null){if($e){if(p?sr(r):rr(),(s=lt)?(s=x_(s,ei),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Xs!==null?{id:Xi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},l=K0(s),l.return=r,r.child=l,tn=r,lt=null)):s=null,s===null)throw Zs(r);return Rp(s)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,p?(rr(),p=r.mode,S=zh({mode:"hidden",children:S},p),c=sa(c,p,l,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=Hm(l),c.childLanes=Gm(s,x,l),r.memoizedState=$m,cu(null,c)):(sr(r),Km(r,S))}var L=s.memoizedState;if(L!==null&&(S=L.dehydrated,S!==null)){if(g)r.flags&256?(sr(r),r.flags&=-257,r=Ym(s,r,l)):r.memoizedState!==null?(rr(),r.child=s.child,r.flags|=128,r=null):(rr(),S=c.fallback,p=r.mode,c=zh({mode:"visible",children:c.children},p),S=sa(S,p,l,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,ha(r,s.child,null,l),c=r.child,c.memoizedState=Hm(l),c.childLanes=Gm(s,x,l),r.memoizedState=$m,r=cu(null,c));else if(sr(r),Rp(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var W=x.dgst;x=W,c=Error(i(419)),c.stack="",c.digest=x,Jl({value:c,source:null,stack:null}),r=Ym(s,r,l)}else if(Vt||uo(s,r,l,!1),x=(l&s.childLanes)!==0,Vt||x){if(x=rt,x!==null&&(c=Ol(x,l),c!==0&&c!==L.retryLane))throw L.retryLane=c,ia(s,c),Cn(x,s,c),qm;kp(S)||Qh(),r=Ym(s,r,l)}else kp(S)?(r.flags|=192,r.child=s.child,r=null):(s=L.treeContext,lt=ni(S.nextSibling),tn=r,$e=!0,Js=null,ei=!1,s!==null&&Q0(r,s),r=Km(r,c.children),r.flags|=4096);return r}return p?(rr(),S=c.fallback,p=r.mode,L=s.child,W=L.sibling,c=ms(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,W!==null?S=ms(W,S):(S=sa(S,p,l,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,cu(null,c),c=r.child,S=s.child.memoizedState,S===null?S=Hm(l):(p=S.cachePool,p!==null?(L=jt._currentValue,p=p.parent!==L?{parent:L,pool:L}:p):p=nb(),S={baseLanes:S.baseLanes|l,cachePool:p}),c.memoizedState=S,c.childLanes=Gm(s,x,l),r.memoizedState=$m,cu(s.child,c)):(sr(r),l=s.child,s=l.sibling,l=ms(l,{mode:"visible",children:c.children}),l.return=r,l.sibling=null,s!==null&&(x=r.deletions,x===null?(r.deletions=[s],r.flags|=16):x.push(s)),r.child=l,r.memoizedState=null,l)}function Km(s,r){return r=zh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function zh(s,r){return s=Pn(22,s,null,r),s.lanes=0,s}function Ym(s,r,l){return ha(r,s.child,null,l),s=Km(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function pw(s,r,l){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),um(s.return,r,l)}function Wm(s,r,l,c,p,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p,treeForkCount:g}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=l,x.tailMode=p,x.treeForkCount=g)}function gw(s,r,l){var c=r.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var x=At.current,S=(x&2)!==0;if(S?(x=x&1|2,r.flags|=128):x&=1,de(At,x),sn(s,r,c,l),c=$e?Xl:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&pw(s,l,r);else if(s.tag===19)pw(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(l=r.child,p=null;l!==null;)s=l.alternate,s!==null&&Ch(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=r.child,r.child=null):(p=l.sibling,l.sibling=null),Wm(r,!1,p,l,g,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=r.child,r.child=null;p!==null;){if(s=p.alternate,s!==null&&Ch(s)===null){r.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Wm(r,!0,l,null,g,c);break;case"together":Wm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function ws(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),lr|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(uo(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=ms(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=ms(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Qm(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&_h(s)))}function XC(s,r,l){switch(r.tag){case 3:bt(r,r.stateNode.containerInfo),er(r,jt,s.memoizedState.cache),ra();break;case 27:case 5:Ur(r);break;case 4:bt(r,r.stateNode.containerInfo);break;case 10:er(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,_m(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(sr(r),r.flags|=128,null):(l&r.child.childLanes)!==0?mw(s,r,l):(sr(r),s=ws(s,r,l),s!==null?s.sibling:null);sr(r);break;case 19:var p=(s.flags&128)!==0;if(c=(l&r.childLanes)!==0,c||(uo(s,r,l,!1),c=(l&r.childLanes)!==0),p){if(c)return gw(s,r,l);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),de(At,At.current),c)break;return null;case 22:return r.lanes=0,lw(s,r,l,r.pendingProps);case 24:er(r,jt,s.memoizedState.cache)}return ws(s,r,l)}function yw(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Qm(s,l)&&(r.flags&128)===0)return Vt=!1,XC(s,r,l);Vt=(s.flags&131072)!==0}else Vt=!1,$e&&(r.flags&1048576)!==0&&W0(r,Xl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(s=ua(r.elementType),r.type=s,typeof s=="function")tm(s)?(c=fa(s,c),r.tag=1,r=dw(null,r,s,c,l)):(r.tag=0,r=Fm(null,r,s,c,l));else{if(s!=null){var p=s.$$typeof;if(p===ne){r.tag=11,r=rw(null,r,s,c,l);break e}else if(p===I){r.tag=14,r=aw(null,r,s,c,l);break e}}throw r=ae(s)||s,Error(i(306,r,""))}}return r;case 0:return Fm(s,r,r.type,r.pendingProps,l);case 1:return c=r.type,p=fa(c,r.pendingProps),dw(s,r,c,p,l);case 3:e:{if(bt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;p=g.element,gm(s,r),ru(r,c,null,l);var x=r.memoizedState;if(c=x.cache,er(r,jt,c),c!==g.cache&&cm(r,[jt],l,!0),su(),c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=fw(s,r,c,l);break e}else if(c!==p){p=Xn(Error(i(424)),r),Jl(p),r=fw(s,r,c,l);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,lt=ni(s.firstChild),tn=r,$e=!0,Js=null,ei=!0,l=lb(r,null,c,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ra(),c===p){r=ws(s,r,l);break e}sn(s,r,c,l)}r=r.child}return r;case 26:return Bh(s,r),s===null?(l=R_(r.type,null,r.pendingProps,null))?r.memoizedState=l:$e||(l=r.type,s=r.pendingProps,c=id(Ie.current).createElement(l),c[Ot]=r,c[Wt]=s,rn(c,l,s),Dt(c),r.stateNode=c):r.memoizedState=R_(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Ur(r),s===null&&$e&&(c=r.stateNode=S_(r.type,r.pendingProps,Ie.current),tn=r,ei=!0,p=lt,fr(r.type)?(Cp=p,lt=ni(c.firstChild)):lt=p),sn(s,r,r.pendingProps.children,l),Bh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&$e&&((p=c=lt)&&(c=k2(c,r.type,r.pendingProps,ei),c!==null?(r.stateNode=c,tn=r,lt=ni(c.firstChild),ei=!1,p=!0):p=!1),p||Zs(r)),Ur(r),p=r.type,g=r.pendingProps,x=s!==null?s.memoizedProps:null,c=g.children,Ep(p,g)?c=null:x!==null&&Ep(p,x)&&(r.flags|=32),r.memoizedState!==null&&(p=Tm(s,r,qC,null,null,l),Su._currentValue=p),Bh(s,r),sn(s,r,c,l),r.child;case 6:return s===null&&$e&&((s=l=lt)&&(l=R2(l,r.pendingProps,ei),l!==null?(r.stateNode=l,tn=r,lt=null,s=!0):s=!1),s||Zs(r)),null;case 13:return mw(s,r,l);case 4:return bt(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=ha(r,null,c,l):sn(s,r,c,l),r.child;case 11:return rw(s,r,r.type,r.pendingProps,l);case 7:return sn(s,r,r.pendingProps,l),r.child;case 8:return sn(s,r,r.pendingProps.children,l),r.child;case 12:return sn(s,r,r.pendingProps.children,l),r.child;case 10:return c=r.pendingProps,er(r,r.type,c.value),sn(s,r,c.children,l),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,oa(r),p=nn(p),c=c(p),r.flags|=1,sn(s,r,c,l),r.child;case 14:return aw(s,r,r.type,r.pendingProps,l);case 15:return ow(s,r,r.type,r.pendingProps,l);case 19:return gw(s,r,l);case 31:return QC(s,r,l);case 22:return lw(s,r,l,r.pendingProps);case 24:return oa(r),c=nn(jt),s===null?(p=fm(),p===null&&(p=rt,g=hm(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),r.memoizedState={parent:c,cache:p},pm(r),er(r,jt,p)):((s.lanes&l)!==0&&(gm(s,r),ru(r,null,null,l),su()),p=s.memoizedState,g=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),er(r,jt,c)):(c=g.cache,er(r,jt,c),c!==p.cache&&cm(r,[jt],l,!0))),sn(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function _s(s){s.flags|=4}function Xm(s,r,l,c,p){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if($w())s.flags|=8192;else throw ca=Sh,mm}else s.flags&=-16777217}function vw(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!N_(r))if($w())s.flags|=8192;else throw ca=Sh,mm}function qh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Yc():536870912,s.lanes|=r,xo|=r)}function hu(s,r){if(!$e)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ut(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(r)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=c,s.childLanes=l,r}function JC(s,r,l){var c=r.pendingProps;switch(rm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return l=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ys(jt),dt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(lo(r)?_s(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,om())),ut(r),null;case 26:var p=r.type,g=r.memoizedState;return s===null?(_s(r),g!==null?(ut(r),vw(r,g)):(ut(r),Xm(r,p,null,c,l))):g?g!==s.memoizedState?(_s(r),ut(r),vw(r,g)):(ut(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&_s(r),ut(r),Xm(r,p,s,c,l)),null;case 27:if(Ba(r),l=Ie.current,p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&_s(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ut(r),null}s=fe.current,lo(r)?X0(r):(s=S_(p,c,l),r.stateNode=s,_s(r))}return ut(r),null;case 5:if(Ba(r),p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&_s(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ut(r),null}if(g=fe.current,lo(r))X0(r);else{var x=id(Ie.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?x.createElement(p,{is:c.is}):x.createElement(p)}}g[Ot]=r,g[Wt]=c;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=g;e:switch(rn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&_s(r)}}return ut(r),Xm(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,l),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&_s(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ie.current,lo(r)){if(s=r.stateNode,l=r.memoizedProps,c=null,p=tn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}s[Ot]=r,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||m_(s.nodeValue,l)),s||Zs(r,!0)}else s=id(s).createTextNode(c),s[Ot]=r,r.stateNode=s}return ut(r),null;case 31:if(l=r.memoizedState,s===null||s.memoizedState!==null){if(c=lo(r),l!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ot]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),s=!1}else l=om(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return r.flags&256?(Mn(r),r):(Mn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ut(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=lo(r),c!==null&&c.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Ot]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),p=!1}else p=om(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Mn(r),r):(Mn(r),null)}return Mn(r),(r.flags&128)!==0?(r.lanes=l,r):(l=c!==null,s=s!==null&&s.memoizedState!==null,l&&(c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),l!==s&&l&&(r.child.flags|=8192),qh(r,r.updateQueue),ut(r),null);case 4:return dt(),s===null&&bp(r.stateNode.containerInfo),ut(r),null;case 10:return ys(r.type),ut(r),null;case 19:if(te(At),c=r.memoizedState,c===null)return ut(r),null;if(p=(r.flags&128)!==0,g=c.rendering,g===null)if(p)hu(c,!1);else{if(_t!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=Ch(s),g!==null){for(r.flags|=128,hu(c,!1),s=g.updateQueue,r.updateQueue=s,qh(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)G0(l,s),l=l.sibling;return de(At,At.current&1|2),$e&&ps(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&vn()>Kh&&(r.flags|=128,p=!0,hu(c,!1),r.lanes=4194304)}else{if(!p)if(s=Ch(g),s!==null){if(r.flags|=128,p=!0,s=s.updateQueue,r.updateQueue=s,qh(r,s),hu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!$e)return ut(r),null}else 2*vn()-c.renderingStartTime>Kh&&l!==536870912&&(r.flags|=128,p=!0,hu(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(s=c.last,s!==null?s.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=vn(),s.sibling=null,l=At.current,de(At,p?l&1|2:l&1),$e&&ps(r,c.treeForkCount),s):(ut(r),null);case 22:case 23:return Mn(r),wm(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(l&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),l=r.updateQueue,l!==null&&qh(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==l&&(r.flags|=2048),s!==null&&te(la),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ys(jt),ut(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function ZC(s,r){switch(rm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return ys(jt),dt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Ba(r),null;case 31:if(r.memoizedState!==null){if(Mn(r),r.alternate===null)throw Error(i(340));ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Mn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return te(At),null;case 4:return dt(),null;case 10:return ys(r.type),null;case 22:case 23:return Mn(r),wm(),s!==null&&te(la),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return ys(jt),null;case 25:return null;default:return null}}function bw(s,r){switch(rm(r),r.tag){case 3:ys(jt),dt();break;case 26:case 27:case 5:Ba(r);break;case 4:dt();break;case 31:r.memoizedState!==null&&Mn(r);break;case 13:Mn(r);break;case 19:te(At);break;case 10:ys(r.type);break;case 22:case 23:Mn(r),wm(),s!==null&&te(la);break;case 24:ys(jt)}}function du(s,r){try{var l=r.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&s)===s){c=void 0;var g=l.create,x=l.inst;c=g(),x.destroy=c}l=l.next}while(l!==p)}}catch(S){et(r,r.return,S)}}function ar(s,r,l){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&s)===s){var x=c.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,p=r;var L=l,W=S;try{W()}catch(ie){et(p,L,ie)}}}c=c.next}while(c!==g)}}catch(ie){et(r,r.return,ie)}}function ww(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{cb(r,l)}catch(c){et(s,s.return,c)}}}function _w(s,r,l){l.props=fa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){et(s,r,c)}}function fu(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(p){et(s,r,p)}}function Zi(s,r){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){et(s,r,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){et(s,r,p)}else l.current=null}function xw(s){var r=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){et(s,s.return,p)}}function Jm(s,r,l){try{var c=s.stateNode;_2(c,s.type,l,r),c[Wt]=r}catch(p){et(s,s.return,p)}}function Tw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&fr(s.type)||s.tag===4}function Zm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Tw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&fr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ep(s,r,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=pi));else if(c!==4&&(c===27&&fr(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(ep(s,r,l),s=s.sibling;s!==null;)ep(s,r,l),s=s.sibling}function Fh(s,r,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(c!==4&&(c===27&&fr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Fh(s,r,l),s=s.sibling;s!==null;)Fh(s,r,l),s=s.sibling}function Ew(s){var r=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);rn(r,c,l),r[Ot]=s,r[Wt]=l}catch(g){et(s,s.return,g)}}var xs=!1,Mt=!1,tp=!1,Sw=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function e2(s,r){if(s=s.containerInfo,xp=cd,s=M0(s),Yf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var x=0,S=-1,L=-1,W=0,ie=0,oe=s,Q=null;t:for(;;){for(var Z;oe!==l||p!==0&&oe.nodeType!==3||(S=x+p),oe!==g||c!==0&&oe.nodeType!==3||(L=x+c),oe.nodeType===3&&(x+=oe.nodeValue.length),(Z=oe.firstChild)!==null;)Q=oe,oe=Z;for(;;){if(oe===s)break t;if(Q===l&&++W===p&&(S=x),Q===g&&++ie===c&&(L=x),(Z=oe.nextSibling)!==null)break;oe=Q,Q=oe.parentNode}oe=Z}l=S===-1||L===-1?null:{start:S,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Tp={focusedElem:s,selectionRange:l},cd=!1,Xt=r;Xt!==null;)if(r=Xt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Xt=s;else for(;Xt!==null;){switch(r=Xt,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)p=s[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,l=r,p=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var ve=fa(l.type,p);s=c.getSnapshotBeforeUpdate(ve,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ee){et(l,l.return,Ee)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)Ap(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ap(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Xt=s;break}Xt=r.return}}function Aw(s,r,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Es(s,l),c&4&&du(5,l);break;case 1:if(Es(s,l),c&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(x){et(l,l.return,x)}else{var p=fa(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(p,r,s.__reactInternalSnapshotBeforeUpdate)}catch(x){et(l,l.return,x)}}c&64&&ww(l),c&512&&fu(l,l.return);break;case 3:if(Es(s,l),c&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{cb(s,r)}catch(x){et(l,l.return,x)}}break;case 27:r===null&&c&4&&Ew(l);case 26:case 5:Es(s,l),r===null&&c&4&&xw(l),c&512&&fu(l,l.return);break;case 12:Es(s,l);break;case 31:Es(s,l),c&4&&Cw(s,l);break;case 13:Es(s,l),c&4&&Iw(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=u2.bind(null,l),C2(s,l))));break;case 22:if(c=l.memoizedState!==null||xs,!c){r=r!==null&&r.memoizedState!==null||Mt,p=xs;var g=Mt;xs=c,(Mt=r)&&!g?Ss(s,l,(l.subtreeFlags&8772)!==0):Es(s,l),xs=p,Mt=g}break;case 30:break;default:Es(s,l)}}function kw(s){var r=s.alternate;r!==null&&(s.alternate=null,kw(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Ha(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var mt=null,Sn=!1;function Ts(s,r,l){for(l=l.child;l!==null;)Rw(s,r,l),l=l.sibling}function Rw(s,r,l){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(hi,l)}catch{}switch(l.tag){case 26:Mt||Zi(l,r),Ts(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Mt||Zi(l,r);var c=mt,p=Sn;fr(l.type)&&(mt=l.stateNode,Sn=!1),Ts(s,r,l),xu(l.stateNode),mt=c,Sn=p;break;case 5:Mt||Zi(l,r);case 6:if(c=mt,p=Sn,mt=null,Ts(s,r,l),mt=c,Sn=p,mt!==null)if(Sn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(l.stateNode)}catch(g){et(l,r,g)}else try{mt.removeChild(l.stateNode)}catch(g){et(l,r,g)}break;case 18:mt!==null&&(Sn?(s=mt,w_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Io(s)):w_(mt,l.stateNode));break;case 4:c=mt,p=Sn,mt=l.stateNode.containerInfo,Sn=!0,Ts(s,r,l),mt=c,Sn=p;break;case 0:case 11:case 14:case 15:ar(2,l,r),Mt||ar(4,l,r),Ts(s,r,l);break;case 1:Mt||(Zi(l,r),c=l.stateNode,typeof c.componentWillUnmount=="function"&&_w(l,r,c)),Ts(s,r,l);break;case 21:Ts(s,r,l);break;case 22:Mt=(c=Mt)||l.memoizedState!==null,Ts(s,r,l),Mt=c;break;default:Ts(s,r,l)}}function Cw(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Io(s)}catch(l){et(r,r.return,l)}}}function Iw(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Io(s)}catch(l){et(r,r.return,l)}}function t2(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Sw),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Sw),r;default:throw Error(i(435,s.tag))}}function $h(s,r){var l=t2(s);r.forEach(function(c){if(!l.has(c)){l.add(c);var p=c2.bind(null,s,c);c.then(p,p)}})}function An(s,r){var l=r.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],g=s,x=r,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(fr(S.type)){mt=S.stateNode,Sn=!1;break e}break;case 5:mt=S.stateNode,Sn=!1;break e;case 3:case 4:mt=S.stateNode.containerInfo,Sn=!0;break e}S=S.return}if(mt===null)throw Error(i(160));Rw(g,x,p),mt=null,Sn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ow(r,s),r=r.sibling}var _i=null;function Ow(s,r){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:An(r,s),kn(s),c&4&&(ar(3,s,s.return),du(3,s),ar(5,s,s.return));break;case 1:An(r,s),kn(s),c&512&&(Mt||l===null||Zi(l,l.return)),c&64&&xs&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=_i;if(An(r,s),kn(s),c&512&&(Mt||l===null||Zi(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Ui]||g[Ot]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),rn(g,c,l),g[Ot]=s,Dt(g),c=g;break e;case"link":var x=O_("link","href",p).get(c+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(g=x[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}g=p.createElement(c),rn(g,c,l),p.head.appendChild(g);break;case"meta":if(x=O_("meta","content",p).get(c+(l.content||""))){for(S=0;S<x.length;S++)if(g=x[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}g=p.createElement(c),rn(g,c,l),p.head.appendChild(g);break;default:throw Error(i(468,c))}g[Ot]=s,Dt(g),c=g}s.stateNode=c}else D_(p,s.type,s.stateNode);else s.stateNode=I_(p,c,s.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?D_(p,s.type,s.stateNode):I_(p,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Jm(s,s.memoizedProps,l.memoizedProps)}break;case 27:An(r,s),kn(s),c&512&&(Mt||l===null||Zi(l,l.return)),l!==null&&c&4&&Jm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(An(r,s),kn(s),c&512&&(Mt||l===null||Zi(l,l.return)),s.flags&32){p=s.stateNode;try{En(p,"")}catch(ve){et(s,s.return,ve)}}c&4&&s.stateNode!=null&&(p=s.memoizedProps,Jm(s,p,l!==null?l.memoizedProps:p)),c&1024&&(tp=!0);break;case 6:if(An(r,s),kn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(ve){et(s,s.return,ve)}}break;case 3:if(ad=null,p=_i,_i=sd(r.containerInfo),An(r,s),_i=p,kn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Io(r.containerInfo)}catch(ve){et(s,s.return,ve)}tp&&(tp=!1,Dw(s));break;case 4:c=_i,_i=sd(s.stateNode.containerInfo),An(r,s),kn(s),_i=c;break;case 12:An(r,s),kn(s);break;case 31:An(r,s),kn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,$h(s,c)));break;case 13:An(r,s),kn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Gh=vn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,$h(s,c)));break;case 22:p=s.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,W=xs,ie=Mt;if(xs=W||p,Mt=ie||L,An(r,s),Mt=ie,xs=W,kn(s),c&8192)e:for(r=s.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(l===null||L||xs||Mt||ma(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){L=l=r;try{if(g=L.stateNode,p)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=L.stateNode;var oe=L.memoizedProps.style,Q=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ve){et(L,L.return,ve)}}}else if(r.tag===6){if(l===null){L=r;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(ve){et(L,L.return,ve)}}}else if(r.tag===18){if(l===null){L=r;try{var Z=L.stateNode;p?__(Z,!0):__(L.stateNode,!1)}catch(ve){et(L,L.return,ve)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,$h(s,l))));break;case 19:An(r,s),kn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,$h(s,c)));break;case 30:break;case 21:break;default:An(r,s),kn(s)}}function kn(s){var r=s.flags;if(r&2){try{for(var l,c=s.return;c!==null;){if(Tw(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,g=Zm(s);Fh(s,g,p);break;case 5:var x=l.stateNode;l.flags&32&&(En(x,""),l.flags&=-33);var S=Zm(s);Fh(s,S,x);break;case 3:case 4:var L=l.stateNode.containerInfo,W=Zm(s);ep(s,W,L);break;default:throw Error(i(161))}}catch(ie){et(s,s.return,ie)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Dw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Dw(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Es(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Aw(s,r.alternate,r),r=r.sibling}function ma(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:ar(4,r,r.return),ma(r);break;case 1:Zi(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&_w(r,r.return,l),ma(r);break;case 27:xu(r.stateNode);case 26:case 5:Zi(r,r.return),ma(r);break;case 22:r.memoizedState===null&&ma(r);break;case 30:ma(r);break;default:ma(r)}s=s.sibling}}function Ss(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=s,g=r,x=g.flags;switch(g.tag){case 0:case 11:case 15:Ss(p,g,l),du(4,g);break;case 1:if(Ss(p,g,l),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){et(c,c.return,W)}if(c=g,p=c.updateQueue,p!==null){var S=c.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)ub(L[p],S)}catch(W){et(c,c.return,W)}}l&&x&64&&ww(g),fu(g,g.return);break;case 27:Ew(g);case 26:case 5:Ss(p,g,l),l&&c===null&&x&4&&xw(g),fu(g,g.return);break;case 12:Ss(p,g,l);break;case 31:Ss(p,g,l),l&&x&4&&Cw(p,g);break;case 13:Ss(p,g,l),l&&x&4&&Iw(p,g);break;case 22:g.memoizedState===null&&Ss(p,g,l),fu(g,g.return);break;case 30:break;default:Ss(p,g,l)}r=r.sibling}}function np(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Zl(l))}function ip(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Zl(s))}function xi(s,r,l,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Nw(s,r,l,c),r=r.sibling}function Nw(s,r,l,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:xi(s,r,l,c),p&2048&&du(9,r);break;case 1:xi(s,r,l,c);break;case 3:xi(s,r,l,c),p&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Zl(s)));break;case 12:if(p&2048){xi(s,r,l,c),s=r.stateNode;try{var g=r.memoizedProps,x=g.id,S=g.onPostCommit;typeof S=="function"&&S(x,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){et(r,r.return,L)}}else xi(s,r,l,c);break;case 31:xi(s,r,l,c);break;case 13:xi(s,r,l,c);break;case 23:break;case 22:g=r.stateNode,x=r.alternate,r.memoizedState!==null?g._visibility&2?xi(s,r,l,c):mu(s,r):g._visibility&2?xi(s,r,l,c):(g._visibility|=2,bo(s,r,l,c,(r.subtreeFlags&10256)!==0||!1)),p&2048&&np(x,r);break;case 24:xi(s,r,l,c),p&2048&&ip(r.alternate,r);break;default:xi(s,r,l,c)}}function bo(s,r,l,c,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,x=r,S=l,L=c,W=x.flags;switch(x.tag){case 0:case 11:case 15:bo(g,x,S,L,p),du(8,x);break;case 23:break;case 22:var ie=x.stateNode;x.memoizedState!==null?ie._visibility&2?bo(g,x,S,L,p):mu(g,x):(ie._visibility|=2,bo(g,x,S,L,p)),p&&W&2048&&np(x.alternate,x);break;case 24:bo(g,x,S,L,p),p&&W&2048&&ip(x.alternate,x);break;default:bo(g,x,S,L,p)}r=r.sibling}}function mu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,c=r,p=c.flags;switch(c.tag){case 22:mu(l,c),p&2048&&np(c.alternate,c);break;case 24:mu(l,c),p&2048&&ip(c.alternate,c);break;default:mu(l,c)}r=r.sibling}}var pu=8192;function wo(s,r,l){if(s.subtreeFlags&pu)for(s=s.child;s!==null;)jw(s,r,l),s=s.sibling}function jw(s,r,l){switch(s.tag){case 26:wo(s,r,l),s.flags&pu&&s.memoizedState!==null&&z2(l,_i,s.memoizedState,s.memoizedProps);break;case 5:wo(s,r,l);break;case 3:case 4:var c=_i;_i=sd(s.stateNode.containerInfo),wo(s,r,l),_i=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=pu,pu=16777216,wo(s,r,l),pu=c):wo(s,r,l));break;default:wo(s,r,l)}}function Pw(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function gu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Xt=c,Mw(c,s)}Pw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vw(s),s=s.sibling}function Vw(s){switch(s.tag){case 0:case 11:case 15:gu(s),s.flags&2048&&ar(9,s,s.return);break;case 3:gu(s);break;case 12:gu(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Hh(s)):gu(s);break;default:gu(s)}}function Hh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Xt=c,Mw(c,s)}Pw(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:ar(8,r,r.return),Hh(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Hh(r));break;default:Hh(r)}s=s.sibling}}function Mw(s,r){for(;Xt!==null;){var l=Xt;switch(l.tag){case 0:case 11:case 15:ar(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Zl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Xt=c;else e:for(l=s;Xt!==null;){c=Xt;var p=c.sibling,g=c.return;if(kw(c),c===l){Xt=null;break e}if(p!==null){p.return=g,Xt=p;break e}Xt=g}}}var n2={getCacheForType:function(s){var r=nn(jt),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l},cacheSignal:function(){return nn(jt).controller.signal}},i2=typeof WeakMap=="function"?WeakMap:Map,Qe=0,rt=null,Me=null,Be=0,Ze=0,Ln=null,or=!1,_o=!1,sp=!1,As=0,_t=0,lr=0,pa=0,rp=0,Un=0,xo=0,yu=null,Rn=null,ap=!1,Gh=0,Lw=0,Kh=1/0,Yh=null,ur=null,$t=0,cr=null,To=null,ks=0,op=0,lp=null,Uw=null,vu=0,up=null;function Bn(){return(Qe&2)!==0&&Be!==0?Be&-Be:M.T!==null?pp():Wc()}function Bw(){if(Un===0)if((Be&536870912)===0||$e){var s=qr;qr<<=1,(qr&3932160)===0&&(qr=262144),Un=s}else Un=536870912;return s=Vn.current,s!==null&&(s.flags|=32),Un}function Cn(s,r,l){(s===rt&&(Ze===2||Ze===9)||s.cancelPendingCommit!==null)&&(Eo(s,0),hr(s,Be,Un,!1)),Fr(s,l),((Qe&2)===0||s!==rt)&&(s===rt&&((Qe&2)===0&&(pa|=l),_t===4&&hr(s,Be,Un,!1)),es(s))}function zw(s,r,l){if((Qe&6)!==0)throw Error(i(327));var c=!l&&(r&127)===0&&(r&s.expiredLanes)===0||di(s,r),p=c?a2(s,r):hp(s,r,!0),g=c;do{if(p===0){_o&&!c&&hr(s,r,0,!1);break}else{if(l=s.current.alternate,g&&!s2(l)){p=hp(s,r,!1),g=!1;continue}if(p===2){if(g=r,s.errorRecoveryDisabledLanes&g)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var S=s;p=yu;var L=S.current.memoizedState.isDehydrated;if(L&&(Eo(S,x).flags|=256),x=hp(S,x,!1),x!==2){if(sp&&!L){S.errorRecoveryDisabledLanes|=g,pa|=g,p=4;break e}g=Rn,Rn=p,g!==null&&(Rn===null?Rn=g:Rn.push.apply(Rn,g))}p=x}if(g=!1,p!==2)continue}}if(p===1){Eo(s,0),hr(s,r,0,!0);break}e:{switch(c=s,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:hr(c,r,Un,!or);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=Gh+300-vn(),10<p)){if(hr(c,r,Un,!or),Vi(c,0,!0)!==0)break e;ks=r,c.timeoutHandle=v_(qw.bind(null,c,l,Rn,Yh,ap,r,Un,pa,xo,or,g,"Throttled",-0,0),p);break e}qw(c,l,Rn,Yh,ap,r,Un,pa,xo,or,g,null,-0,0)}}break}while(!0);es(s)}function qw(s,r,l,c,p,g,x,S,L,W,ie,oe,Q,Z){if(s.timeoutHandle=-1,oe=r.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},jw(r,g,oe);var ve=(g&62914560)===g?Gh-vn():(g&4194048)===g?Lw-vn():0;if(ve=q2(oe,ve),ve!==null){ks=g,s.cancelPendingCommit=ve(Qw.bind(null,s,r,g,l,c,p,x,S,L,ie,oe,null,Q,Z)),hr(s,g,x,!W);return}}Qw(s,r,g,l,c,p,x,S,L)}function s2(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],g=p.getSnapshot;p=p.value;try{if(!jn(g(),p))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function hr(s,r,l,c){r&=~rp,r&=~pa,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var p=r;0<p;){var g=31-Et(p),x=1<<g;c[g]=-1,p&=~x}l!==0&&$r(s,l,r)}function Wh(){return(Qe&6)===0?(bu(0),!1):!0}function cp(){if(Me!==null){if(Ze===0)var s=Me.return;else s=Me,gs=aa=null,Am(s),mo=null,tu=0,s=Me;for(;s!==null;)bw(s.alternate,s),s=s.return;Me=null}}function Eo(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,E2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ks=0,cp(),rt=s,Me=l=ms(s.current,null),Be=r,Ze=0,Ln=null,or=!1,_o=di(s,r),sp=!1,xo=Un=rp=pa=lr=_t=0,Rn=yu=null,ap=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var p=31-Et(c),g=1<<p;r|=s[p],c&=~g}return As=r,gh(),l}function Fw(s,r){je=null,M.H=uu,r===fo||r===Eh?(r=rb(),Ze=3):r===mm?(r=rb(),Ze=4):Ze=r===qm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ln=r,Me===null&&(_t=1,Lh(s,Xn(r,s.current)))}function $w(){var s=Vn.current;return s===null?!0:(Be&4194048)===Be?ti===null:(Be&62914560)===Be||(Be&536870912)!==0?s===ti:!1}function Hw(){var s=M.H;return M.H=uu,s===null?uu:s}function Gw(){var s=M.A;return M.A=n2,s}function Qh(){_t=4,or||(Be&4194048)!==Be&&Vn.current!==null||(_o=!0),(lr&134217727)===0&&(pa&134217727)===0||rt===null||hr(rt,Be,Un,!1)}function hp(s,r,l){var c=Qe;Qe|=2;var p=Hw(),g=Gw();(rt!==s||Be!==r)&&(Yh=null,Eo(s,r)),r=!1;var x=_t;e:do try{if(Ze!==0&&Me!==null){var S=Me,L=Ln;switch(Ze){case 8:cp(),x=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var W=Ze;if(Ze=0,Ln=null,So(s,S,L,W),l&&_o){x=0;break e}break;default:W=Ze,Ze=0,Ln=null,So(s,S,L,W)}}r2(),x=_t;break}catch(ie){Fw(s,ie)}while(!0);return r&&s.shellSuspendCounter++,gs=aa=null,Qe=c,M.H=p,M.A=g,Me===null&&(rt=null,Be=0,gh()),x}function r2(){for(;Me!==null;)Kw(Me)}function a2(s,r){var l=Qe;Qe|=2;var c=Hw(),p=Gw();rt!==s||Be!==r?(Yh=null,Kh=vn()+500,Eo(s,r)):_o=di(s,r);e:do try{if(Ze!==0&&Me!==null){r=Me;var g=Ln;t:switch(Ze){case 1:Ze=0,Ln=null,So(s,r,g,1);break;case 2:case 9:if(ib(g)){Ze=0,Ln=null,Yw(r);break}r=function(){Ze!==2&&Ze!==9||rt!==s||(Ze=7),es(s)},g.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:ib(g)?(Ze=0,Ln=null,Yw(r)):(Ze=0,Ln=null,So(s,r,g,7));break;case 5:var x=null;switch(Me.tag){case 26:x=Me.memoizedState;case 5:case 27:var S=Me;if(x?N_(x):S.stateNode.complete){Ze=0,Ln=null;var L=S.sibling;if(L!==null)Me=L;else{var W=S.return;W!==null?(Me=W,Xh(W)):Me=null}break t}}Ze=0,Ln=null,So(s,r,g,5);break;case 6:Ze=0,Ln=null,So(s,r,g,6);break;case 8:cp(),_t=6;break e;default:throw Error(i(462))}}o2();break}catch(ie){Fw(s,ie)}while(!0);return gs=aa=null,M.H=c,M.A=p,Qe=l,Me!==null?0:(rt=null,Be=0,gh(),_t)}function o2(){for(;Me!==null&&!zf();)Kw(Me)}function Kw(s){var r=yw(s.alternate,s,As);s.memoizedProps=s.pendingProps,r===null?Xh(s):Me=r}function Yw(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=hw(l,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=hw(l,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Am(r);default:bw(l,r),r=Me=G0(r,As),r=yw(l,r,As)}s.memoizedProps=s.pendingProps,r===null?Xh(s):Me=r}function So(s,r,l,c){gs=aa=null,Am(r),mo=null,tu=0;var p=r.return;try{if(WC(s,p,r,l,Be)){_t=1,Lh(s,Xn(l,s.current)),Me=null;return}}catch(g){if(p!==null)throw Me=p,g;_t=1,Lh(s,Xn(l,s.current)),Me=null;return}r.flags&32768?($e||c===1?s=!0:_o||(Be&536870912)!==0?s=!1:(or=s=!0,(c===2||c===9||c===3||c===6)&&(c=Vn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ww(r,s)):Xh(r)}function Xh(s){var r=s;do{if((r.flags&32768)!==0){Ww(r,or);return}s=r.return;var l=JC(r.alternate,r,As);if(l!==null){Me=l;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=s}while(r!==null);_t===0&&(_t=5)}function Ww(s,r){do{var l=ZC(s.alternate,s);if(l!==null){l.flags&=32767,Me=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Me=s;return}Me=s=l}while(s!==null);_t=6,Me=null}function Qw(s,r,l,c,p,g,x,S,L){s.cancelPendingCommit=null;do Jh();while($t!==0);if((Qe&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Zf,$f(s,l,g,x,S,L),s===rt&&(Me=rt=null,Be=0),To=r,cr=s,ks=l,op=g,lp=p,Uw=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,h2(zs,function(){return t_(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=M.T,M.T=null,p=$.p,$.p=2,x=Qe,Qe|=4;try{e2(s,r,l)}finally{Qe=x,$.p=p,M.T=c}}$t=1,Xw(),Jw(),Zw()}}function Xw(){if($t===1){$t=0;var s=cr,r=To,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=M.T,M.T=null;var c=$.p;$.p=2;var p=Qe;Qe|=4;try{Ow(r,s);var g=Tp,x=M0(s.containerInfo),S=g.focusedElem,L=g.selectionRange;if(x!==S&&S&&S.ownerDocument&&V0(S.ownerDocument.documentElement,S)){if(L!==null&&Yf(S)){var W=L.start,ie=L.end;if(ie===void 0&&(ie=W),"selectionStart"in S)S.selectionStart=W,S.selectionEnd=Math.min(ie,S.value.length);else{var oe=S.ownerDocument||document,Q=oe&&oe.defaultView||window;if(Q.getSelection){var Z=Q.getSelection(),ve=S.textContent.length,Ee=Math.min(L.start,ve),st=L.end===void 0?Ee:Math.min(L.end,ve);!Z.extend&&Ee>st&&(x=st,st=Ee,Ee=x);var G=P0(S,Ee),F=P0(S,st);if(G&&F&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var Y=oe.createRange();Y.setStart(G.node,G.offset),Z.removeAllRanges(),Ee>st?(Z.addRange(Y),Z.extend(F.node,F.offset)):(Y.setEnd(F.node,F.offset),Z.addRange(Y))}}}}for(oe=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&oe.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var re=oe[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}cd=!!xp,Tp=xp=null}finally{Qe=p,$.p=c,M.T=l}}s.current=r,$t=2}}function Jw(){if($t===2){$t=0;var s=cr,r=To,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=M.T,M.T=null;var c=$.p;$.p=2;var p=Qe;Qe|=4;try{Aw(s,r.alternate,r)}finally{Qe=p,$.p=c,M.T=l}}$t=3}}function Zw(){if($t===4||$t===3){$t=0,qc();var s=cr,r=To,l=ks,c=Uw;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,To=cr=null,e_(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(ur=null),cs(l),r=r.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(hi,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=M.T,p=$.p,$.p=2,M.T=null;try{for(var g=s.onRecoverableError,x=0;x<c.length;x++){var S=c[x];g(S.value,{componentStack:S.stack})}}finally{M.T=r,$.p=p}}(ks&3)!==0&&Jh(),es(s),p=s.pendingLanes,(l&261930)!==0&&(p&42)!==0?s===up?vu++:(vu=0,up=s):vu=0,bu(0)}}function e_(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Zl(r)))}function Jh(){return Xw(),Jw(),Zw(),t_()}function t_(){if($t!==5)return!1;var s=cr,r=op;op=0;var l=cs(ks),c=M.T,p=$.p;try{$.p=32>l?32:l,M.T=null,l=lp,lp=null;var g=cr,x=ks;if($t=0,To=cr=null,ks=0,(Qe&6)!==0)throw Error(i(331));var S=Qe;if(Qe|=4,Vw(g.current),Nw(g,g.current,x,l),Qe=S,bu(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(hi,g)}catch{}return!0}finally{$.p=p,M.T=c,e_(s,r)}}function n_(s,r,l){r=Xn(l,r),r=zm(s.stateNode,r,2),s=ir(s,r,2),s!==null&&(Fr(s,2),es(s))}function et(s,r,l){if(s.tag===3)n_(s,s,l);else for(;r!==null;){if(r.tag===3){n_(r,s,l);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ur===null||!ur.has(c))){s=Xn(l,s),l=iw(2),c=ir(r,l,2),c!==null&&(sw(l,c,r,s),Fr(c,2),es(c));break}}r=r.return}}function dp(s,r,l){var c=s.pingCache;if(c===null){c=s.pingCache=new i2;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(l)||(sp=!0,p.add(l),s=l2.bind(null,s,r,l),r.then(s,s))}function l2(s,r,l){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,rt===s&&(Be&l)===l&&(_t===4||_t===3&&(Be&62914560)===Be&&300>vn()-Gh?(Qe&2)===0&&Eo(s,0):rp|=l,xo===Be&&(xo=0)),es(s)}function i_(s,r){r===0&&(r=Yc()),s=ia(s,r),s!==null&&(Fr(s,r),es(s))}function u2(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),i_(s,l)}function c2(s,r){var l=0;switch(s.tag){case 31:case 13:var c=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),i_(s,l)}function h2(s,r){return Ft(s,r)}var Zh=null,Ao=null,fp=!1,ed=!1,mp=!1,dr=0;function es(s){s!==Ao&&s.next===null&&(Ao===null?Zh=Ao=s:Ao=Ao.next=s),ed=!0,fp||(fp=!0,f2())}function bu(s,r){if(!mp&&ed){mp=!0;do for(var l=!1,c=Zh;c!==null;){if(s!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var x=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-Et(42|s)+1)-1,g&=p&~(x&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,o_(c,g))}else g=Be,g=Vi(c,c===rt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||di(c,g)||(l=!0,o_(c,g));c=c.next}while(l);mp=!1}}function d2(){s_()}function s_(){ed=fp=!1;var s=0;dr!==0&&T2()&&(s=dr);for(var r=vn(),l=null,c=Zh;c!==null;){var p=c.next,g=r_(c,r);g===0?(c.next=null,l===null?Zh=p:l.next=p,p===null&&(Ao=l)):(l=c,(s!==0||(g&3)!==0)&&(ed=!0)),c=p}$t!==0&&$t!==5||bu(s),dr!==0&&(dr=0)}function r_(s,r){for(var l=s.suspendedLanes,c=s.pingedLanes,p=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var x=31-Et(g),S=1<<x,L=p[x];L===-1?((S&l)===0||(S&c)!==0)&&(p[x]=Ff(S,r)):L<=r&&(s.expiredLanes|=S),g&=~S}if(r=rt,l=Be,l=Vi(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===r&&(Ze===2||Ze===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Bs(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||di(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(c!==null&&Bs(c),cs(l)){case 2:case 8:l=Cl;break;case 32:l=zs;break;case 268435456:l=Fc;break;default:l=zs}return c=a_.bind(null,s),l=Ft(l,c),s.callbackPriority=r,s.callbackNode=l,r}return c!==null&&c!==null&&Bs(c),s.callbackPriority=2,s.callbackNode=null,2}function a_(s,r){if($t!==0&&$t!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Jh()&&s.callbackNode!==l)return null;var c=Be;return c=Vi(s,s===rt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(zw(s,c,r),r_(s,vn()),s.callbackNode!=null&&s.callbackNode===l?a_.bind(null,s):null)}function o_(s,r){if(Jh())return null;zw(s,r,!0)}function f2(){S2(function(){(Qe&6)!==0?Ft(Rl,d2):s_()})}function pp(){if(dr===0){var s=co;s===0&&(s=ji,ji<<=1,(ji&261888)===0&&(ji=256)),dr=s}return dr}function l_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Wa(""+s)}function u_(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function m2(s,r,l,c,p){if(r==="submit"&&l&&l.stateNode===p){var g=l_((p[Wt]||null).action),x=c.submitter;x&&(r=(r=x[Wt]||null)?l_(r.formAction):x.getAttribute("formAction"),r!==null&&(g=r,x=null));var S=new Ki("action","action",null,c,p);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(dr!==0){var L=x?u_(p,x):new FormData(p);Pm(l,{pending:!0,data:L,method:p.method,action:g},null,L)}}else typeof g=="function"&&(S.preventDefault(),L=x?u_(p,x):new FormData(p),Pm(l,{pending:!0,data:L,method:p.method,action:g},g,L))},currentTarget:p}]})}}for(var gp=0;gp<Jf.length;gp++){var yp=Jf[gp],p2=yp.toLowerCase(),g2=yp[0].toUpperCase()+yp.slice(1);wi(p2,"on"+g2)}wi(B0,"onAnimationEnd"),wi(z0,"onAnimationIteration"),wi(q0,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(DC,"onTransitionRun"),wi(NC,"onTransitionStart"),wi(jC,"onTransitionCancel"),wi(F0,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function c_(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],p=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var x=c.length-1;0<=x;x--){var S=c[x],L=S.instance,W=S.currentTarget;if(S=S.listener,L!==g&&p.isPropagationStopped())break e;g=S,p.currentTarget=W;try{g(p)}catch(ie){ph(ie)}p.currentTarget=null,g=L}else for(x=0;x<c.length;x++){if(S=c[x],L=S.instance,W=S.currentTarget,S=S.listener,L!==g&&p.isPropagationStopped())break e;g=S,p.currentTarget=W;try{g(p)}catch(ie){ph(ie)}p.currentTarget=null,g=L}}}}function Le(s,r){var l=r[$a];l===void 0&&(l=r[$a]=new Set);var c=s+"__bubble";l.has(c)||(h_(r,s,2,!1),l.add(c))}function vp(s,r,l){var c=0;r&&(c|=4),h_(l,s,c,r)}var td="_reactListening"+Math.random().toString(36).slice(2);function bp(s){if(!s[td]){s[td]=!0,Dl.forEach(function(l){l!=="selectionchange"&&(y2.has(l)||vp(l,!1,s),vp(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[td]||(r[td]=!0,vp("selectionchange",!1,r))}}function h_(s,r,l,c){switch(B_(r)){case 2:var p=H2;break;case 8:p=G2;break;default:p=jp}l=p.bind(null,r,l,s),p=void 0,!Wr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?s.addEventListener(r,l,{capture:!0,passive:p}):s.addEventListener(r,l,!0):p!==void 0?s.addEventListener(r,l,{passive:p}):s.addEventListener(r,l,!1)}function wp(s,r,l,c,p){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var S=c.stateNode.containerInfo;if(S===p)break;if(x===4)for(x=c.return;x!==null;){var L=x.tag;if((L===3||L===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;S!==null;){if(x=Bi(S),x===null)return;if(L=x.tag,L===5||L===6||L===26||L===27){c=g=x;continue e}S=S.parentNode}}c=c.return}Ks(function(){var W=g,ie=Kn(l),oe=[];e:{var Q=$0.get(s);if(Q!==void 0){var Z=Ki,ve=s;switch(s){case"keypress":if(Xr(l)===0)break e;case"keydown":case"keyup":Z=dh;break;case"focusin":ve="focus",Z=Zr;break;case"focusout":ve="blur",Z=Zr;break;case"beforeblur":case"afterblur":Z=Zr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=b;break;case B0:case z0:case q0:Z=rh;break;case F0:Z=C;break;case"scroll":case"scrollend":Z=$l;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=fs;break;case"toggle":case"beforetoggle":Z=Ne}var Ee=(r&4)!==0,st=!Ee&&(s==="scroll"||s==="scrollend"),G=Ee?Q!==null?Q+"Capture":null:Q;Ee=[];for(var F=W,Y;F!==null;){var re=F;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||G===null||(re=gi(F,G),re!=null&&Ee.push(_u(F,re,Y))),st)break;F=F.return}0<Ee.length&&(Q=new Z(Q,ve,null,l,ie),oe.push({event:Q,listeners:Ee}))}}if((r&7)===0){e:{if(Q=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",Q&&l!==zl&&(ve=l.relatedTarget||l.fromElement)&&(Bi(ve)||ve[Li]))break e;if((Z||Q)&&(Q=ie.window===ie?ie:(Q=ie.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(ve=l.relatedTarget||l.toElement,Z=W,ve=ve?Bi(ve):null,ve!==null&&(st=o(ve),Ee=ve.tag,ve!==st||Ee!==5&&Ee!==27&&Ee!==6)&&(ve=null)):(Z=null,ve=W),Z!==ve)){if(Ee=Hl,re="onMouseLeave",G="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=fs,re="onPointerLeave",G="onPointerEnter",F="pointer"),st=Z==null?Q:Dn(Z),Y=ve==null?Q:Dn(ve),Q=new Ee(re,F+"leave",Z,l,ie),Q.target=st,Q.relatedTarget=Y,re=null,Bi(ie)===W&&(Ee=new Ee(G,F+"enter",ve,l,ie),Ee.target=Y,Ee.relatedTarget=st,re=Ee),st=re,Z&&ve)t:{for(Ee=v2,G=Z,F=ve,Y=0,re=G;re;re=Ee(re))Y++;re=0;for(var xe=F;xe;xe=Ee(xe))re++;for(;0<Y-re;)G=Ee(G),Y--;for(;0<re-Y;)F=Ee(F),re--;for(;Y--;){if(G===F||F!==null&&G===F.alternate){Ee=G;break t}G=Ee(G),F=Ee(F)}Ee=null}else Ee=null;Z!==null&&d_(oe,Q,Z,Ee,!1),ve!==null&&st!==null&&d_(oe,st,ve,Ee,!0)}}e:{if(Q=W?Dn(W):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var Ke=C0;else if(k0(Q))if(I0)Ke=CC;else{Ke=kC;var we=AC}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?W&&Ya(W.elementType)&&(Ke=C0):Ke=RC;if(Ke&&(Ke=Ke(s,W))){R0(oe,Ke,l,ie);break e}we&&we(s,Q,W),s==="focusout"&&W&&Q.type==="number"&&W.memoizedProps.value!=null&&Ll(Q,"number",Q.value)}switch(we=W?Dn(W):window,s){case"focusin":(k0(we)||we.contentEditable==="true")&&(no=we,Wf=W,Ql=null);break;case"focusout":Ql=Wf=no=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,L0(oe,l,ie);break;case"selectionchange":if(OC)break;case"keydown":case"keyup":L0(oe,l,ie)}var Pe;if(We)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else to?ea(s,l)&&(ze="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(Qi&&l.locale!=="ko"&&(to||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&to&&(Pe=Fl()):(Gi=ie,ql="value"in Gi?Gi.value:Gi.textContent,to=!0)),we=nd(W,ze),0<we.length&&(ze=new Wi(ze,s,null,l,ie),oe.push({event:ze,listeners:we}),Pe?ze.data=Pe:(Pe=eo(l),Pe!==null&&(ze.data=Pe)))),(Pe=Wn?xC(s,l):TC(s,l))&&(ze=nd(W,"onBeforeInput"),0<ze.length&&(we=new Wi("onBeforeInput","beforeinput",null,l,ie),oe.push({event:we,listeners:ze}),we.data=Pe)),m2(oe,s,W,l,ie)}c_(oe,r)})}function _u(s,r,l){return{instance:s,listener:r,currentTarget:l}}function nd(s,r){for(var l=r+"Capture",c=[];s!==null;){var p=s,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=gi(s,l),p!=null&&c.unshift(_u(s,p,g)),p=gi(s,r),p!=null&&c.push(_u(s,p,g))),s.tag===3)return c;s=s.return}return[]}function v2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function d_(s,r,l,c,p){for(var g=r._reactName,x=[];l!==null&&l!==c;){var S=l,L=S.alternate,W=S.stateNode;if(S=S.tag,L!==null&&L===c)break;S!==5&&S!==26&&S!==27||W===null||(L=W,p?(W=gi(l,g),W!=null&&x.unshift(_u(l,W,L))):p||(W=gi(l,g),W!=null&&x.push(_u(l,W,L)))),l=l.return}x.length!==0&&s.push({event:r,listeners:x})}var b2=/\r\n?/g,w2=/\u0000|\uFFFD/g;function f_(s){return(typeof s=="string"?s:""+s).replace(b2,`
`).replace(w2,"")}function m_(s,r){return r=f_(r),f_(s)===r}function it(s,r,l,c,p,g){switch(l){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||En(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&En(s,""+c);break;case"className":Nn(s,"class",c);break;case"tabIndex":Nn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(s,l,c);break;case"style":Bl(s,c,g);break;case"data":if(r!=="object"){Nn(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Wa(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(r!=="input"&&it(s,r,"name",p.name,p,null),it(s,r,"formEncType",p.formEncType,p,null),it(s,r,"formMethod",p.formMethod,p,null),it(s,r,"formTarget",p.formTarget,p,null)):(it(s,r,"encType",p.encType,p,null),it(s,r,"method",p.method,p,null),it(s,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Wa(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=pi);break;case"onScroll":c!=null&&Le("scroll",s);break;case"onScrollEnd":c!=null&&Le("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Wa(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Le("beforetoggle",s),Le("toggle",s),Ga(s,"popover",c);break;case"xlinkActuate":Nt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Nt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Nt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Nt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Nt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Nt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Nt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Nt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Nt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ga(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=nh.get(l)||l,Ga(s,l,c))}}function _p(s,r,l,c,p,g){switch(l){case"style":Bl(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?En(s,c):(typeof c=="number"||typeof c=="bigint")&&En(s,""+c);break;case"onScroll":c!=null&&Le("scroll",s);break;case"onScrollEnd":c!=null&&Le("scrollend",s);break;case"onClick":c!=null&&(s.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),r=l.slice(2,p?l.length-7:void 0),g=s[Wt]||null,g=g!=null?g[l]:null,typeof g=="function"&&s.removeEventListener(r,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,c,p);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Ga(s,l,c)}}}function rn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",s),Le("load",s);var c=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var x=l[g];if(x!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:it(s,r,g,x,l,null)}}p&&it(s,r,"srcSet",l.srcSet,l,null),c&&it(s,r,"src",l.src,l,null);return;case"input":Le("invalid",s);var S=g=x=p=null,L=null,W=null;for(c in l)if(l.hasOwnProperty(c)){var ie=l[c];if(ie!=null)switch(c){case"name":p=ie;break;case"type":x=ie;break;case"checked":L=ie;break;case"defaultChecked":W=ie;break;case"value":g=ie;break;case"defaultValue":S=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,r));break;default:it(s,r,c,ie,l,null)}}Zc(s,g,S,L,W,x,p,!1);return;case"select":Le("invalid",s),c=x=g=null;for(p in l)if(l.hasOwnProperty(p)&&(S=l[p],S!=null))switch(p){case"value":g=S;break;case"defaultValue":x=S;break;case"multiple":c=S;default:it(s,r,p,S,l,null)}r=g,l=x,s.multiple=!!c,r!=null?Fs(s,!!c,r,!1):l!=null&&Fs(s,!!c,l,!0);return;case"textarea":Le("invalid",s),g=p=c=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":c=S;break;case"defaultValue":p=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:it(s,r,x,S,l,null)}$s(s,c,p,g);return;case"option":for(L in l)l.hasOwnProperty(L)&&(c=l[L],c!=null)&&(L==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":it(s,r,L,c,l,null));return;case"dialog":Le("beforetoggle",s),Le("toggle",s),Le("cancel",s),Le("close",s);break;case"iframe":case"object":Le("load",s);break;case"video":case"audio":for(c=0;c<wu.length;c++)Le(wu[c],s);break;case"image":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"embed":case"source":case"link":Le("error",s),Le("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(c=l[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:it(s,r,W,c,l,null)}return;default:if(Ya(r)){for(ie in l)l.hasOwnProperty(ie)&&(c=l[ie],c!==void 0&&_p(s,r,ie,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&it(s,r,S,c,l,null))}function _2(s,r,l,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,x=null,S=null,L=null,W=null,ie=null;for(Z in l){var oe=l[Z];if(l.hasOwnProperty(Z)&&oe!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":L=oe;default:c.hasOwnProperty(Z)||it(s,r,Z,null,c,oe)}}for(var Q in c){var Z=c[Q];if(oe=l[Q],c.hasOwnProperty(Q)&&(Z!=null||oe!=null))switch(Q){case"type":g=Z;break;case"name":p=Z;break;case"checked":W=Z;break;case"defaultChecked":ie=Z;break;case"value":x=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:Z!==oe&&it(s,r,Q,Z,c,oe)}}Ka(s,x,S,L,W,ie,g,p);return;case"select":Z=x=S=Q=null;for(g in l)if(L=l[g],l.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":Z=L;default:c.hasOwnProperty(g)||it(s,r,g,null,c,L)}for(p in c)if(g=c[p],L=l[p],c.hasOwnProperty(p)&&(g!=null||L!=null))switch(p){case"value":Q=g;break;case"defaultValue":S=g;break;case"multiple":x=g;default:g!==L&&it(s,r,p,g,c,L)}r=S,l=x,c=Z,Q!=null?Fs(s,!!l,Q,!1):!!c!=!!l&&(r!=null?Fs(s,!!l,r,!0):Fs(s,!!l,l?[]:"",!1));return;case"textarea":Z=Q=null;for(S in l)if(p=l[S],l.hasOwnProperty(S)&&p!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(s,r,S,null,c,p)}for(x in c)if(p=c[x],g=l[x],c.hasOwnProperty(x)&&(p!=null||g!=null))switch(x){case"value":Q=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&it(s,r,x,p,c,g)}eh(s,Q,Z);return;case"option":for(var ve in l)Q=l[ve],l.hasOwnProperty(ve)&&Q!=null&&!c.hasOwnProperty(ve)&&(ve==="selected"?s.selected=!1:it(s,r,ve,null,c,Q));for(L in c)Q=c[L],Z=l[L],c.hasOwnProperty(L)&&Q!==Z&&(Q!=null||Z!=null)&&(L==="selected"?s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":it(s,r,L,Q,c,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)Q=l[Ee],l.hasOwnProperty(Ee)&&Q!=null&&!c.hasOwnProperty(Ee)&&it(s,r,Ee,null,c,Q);for(W in c)if(Q=c[W],Z=l[W],c.hasOwnProperty(W)&&Q!==Z&&(Q!=null||Z!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:it(s,r,W,Q,c,Z)}return;default:if(Ya(r)){for(var st in l)Q=l[st],l.hasOwnProperty(st)&&Q!==void 0&&!c.hasOwnProperty(st)&&_p(s,r,st,void 0,c,Q);for(ie in c)Q=c[ie],Z=l[ie],!c.hasOwnProperty(ie)||Q===Z||Q===void 0&&Z===void 0||_p(s,r,ie,Q,c,Z);return}}for(var G in l)Q=l[G],l.hasOwnProperty(G)&&Q!=null&&!c.hasOwnProperty(G)&&it(s,r,G,null,c,Q);for(oe in c)Q=c[oe],Z=l[oe],!c.hasOwnProperty(oe)||Q===Z||Q==null&&Z==null||it(s,r,oe,Q,c,Z)}function p_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var p=l[c],g=p.transferSize,x=p.initiatorType,S=p.duration;if(g&&S&&p_(x)){for(x=0,S=p.responseEnd,c+=1;c<l.length;c++){var L=l[c],W=L.startTime;if(W>S)break;var ie=L.transferSize,oe=L.initiatorType;ie&&p_(oe)&&(L=L.responseEnd,x+=ie*(L<S?1:(S-W)/(L-W)))}if(--c,r+=8*(g+x)/(p.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var xp=null,Tp=null;function id(s){return s.nodeType===9?s:s.ownerDocument}function g_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Ep(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sp=null;function T2(){var s=window.event;return s&&s.type==="popstate"?s===Sp?!1:(Sp=s,!0):(Sp=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,E2=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(s){return b_.resolve(null).then(s).catch(A2)}:v_;function A2(s){setTimeout(function(){throw s})}function fr(s){return s==="head"}function w_(s,r){var l=r,c=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(c===0){s.removeChild(p),Io(r);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")xu(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,xu(l);for(var g=l.firstChild;g;){var x=g.nextSibling,S=g.nodeName;g[Ui]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=x}}else l==="body"&&xu(s.ownerDocument.body);l=p}while(l);Io(r)}function __(s,r){var l=s;s=0;do{var c=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=c}while(l)}function Ap(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ap(l),Ha(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function k2(s,r,l,c){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Ui])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=ni(s.nextSibling),s===null)break}return null}function R2(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ni(s.nextSibling),s===null))return null;return s}function x_(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=ni(s.nextSibling),s===null))return null;return s}function kp(s){return s.data==="$?"||s.data==="$~"}function Rp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function C2(s,r){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||l.readyState!=="loading")r();else{var c=function(){r(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ni(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Cp=null;function T_(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(r===0)return ni(s.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}s=s.nextSibling}return null}function E_(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return s;r--}else l!=="/$"&&l!=="/&"||r++}s=s.previousSibling}return null}function S_(s,r,l){switch(r=id(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function xu(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Ha(s)}var ii=new Map,A_=new Set;function sd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Rs=$.d;$.d={f:I2,r:O2,D:D2,C:N2,L:j2,m:P2,X:M2,S:V2,M:L2};function I2(){var s=Rs.f(),r=Wh();return s||r}function O2(s){var r=Gn(s);r!==null&&r.tag===5&&r.type==="form"?Fb(r):Rs.r(s)}var ko=typeof document>"u"?null:document;function k_(s,r,l){var c=ko;if(c&&typeof r=="string"&&r){var p=Tn(r);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),A_.has(p)||(A_.add(p),s={rel:s,crossOrigin:l,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),rn(r,"link",s),Dt(r),c.head.appendChild(r)))}}function D2(s){Rs.D(s),k_("dns-prefetch",s,null)}function N2(s,r){Rs.C(s,r),k_("preconnect",s,r)}function j2(s,r,l){Rs.L(s,r,l);var c=ko;if(c&&s&&r){var p='link[rel="preload"][as="'+Tn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Tn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Tn(l.imageSizes)+'"]')):p+='[href="'+Tn(s)+'"]';var g=p;switch(r){case"style":g=Ro(s);break;case"script":g=Co(s)}ii.has(g)||(s=v({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),ii.set(g,s),c.querySelector(p)!==null||r==="style"&&c.querySelector(Tu(g))||r==="script"&&c.querySelector(Eu(g))||(r=c.createElement("link"),rn(r,"link",s),Dt(r),c.head.appendChild(r)))}}function P2(s,r){Rs.m(s,r);var l=ko;if(l&&s){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Tn(c)+'"][href="'+Tn(s)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Co(s)}if(!ii.has(g)&&(s=v({rel:"modulepreload",href:s},r),ii.set(g,s),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Eu(g)))return}c=l.createElement("link"),rn(c,"link",s),Dt(c),l.head.appendChild(c)}}}function V2(s,r,l){Rs.S(s,r,l);var c=ko;if(c&&s){var p=zi(c).hoistableStyles,g=Ro(s);r=r||"default";var x=p.get(g);if(!x){var S={loading:0,preload:null};if(x=c.querySelector(Tu(g)))S.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},l),(l=ii.get(g))&&Ip(s,l);var L=x=c.createElement("link");Dt(L),rn(L,"link",s),L._p=new Promise(function(W,ie){L.onload=W,L.onerror=ie}),L.addEventListener("load",function(){S.loading|=1}),L.addEventListener("error",function(){S.loading|=2}),S.loading|=4,rd(x,r,c)}x={type:"stylesheet",instance:x,count:1,state:S},p.set(g,x)}}}function M2(s,r){Rs.X(s,r);var l=ko;if(l&&s){var c=zi(l).hoistableScripts,p=Co(s),g=c.get(p);g||(g=l.querySelector(Eu(p)),g||(s=v({src:s,async:!0},r),(r=ii.get(p))&&Op(s,r),g=l.createElement("script"),Dt(g),rn(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function L2(s,r){Rs.M(s,r);var l=ko;if(l&&s){var c=zi(l).hoistableScripts,p=Co(s),g=c.get(p);g||(g=l.querySelector(Eu(p)),g||(s=v({src:s,async:!0,type:"module"},r),(r=ii.get(p))&&Op(s,r),g=l.createElement("script"),Dt(g),rn(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function R_(s,r,l,c){var p=(p=Ie.current)?sd(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Ro(l.href),l=zi(p).hoistableStyles,c=l.get(r),c||(c={type:"style",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Ro(l.href);var g=zi(p).hoistableStyles,x=g.get(s);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,x),(g=p.querySelector(Tu(s)))&&!g._p&&(x.instance=g,x.state.loading=5),ii.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ii.set(s,l),g||U2(p,s,l,x.state))),r&&c===null)throw Error(i(528,""));return x}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Co(l),l=zi(p).hoistableScripts,c=l.get(r),c||(c={type:"script",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ro(s){return'href="'+Tn(s)+'"'}function Tu(s){return'link[rel="stylesheet"]['+s+"]"}function C_(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function U2(s,r,l,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),rn(r,"link",l),Dt(r),s.head.appendChild(r))}function Co(s){return'[src="'+Tn(s)+'"]'}function Eu(s){return"script[async]"+s}function I_(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+Tn(l.href)+'"]');if(c)return r.instance=c,Dt(c),c;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Dt(c),rn(c,"style",p),rd(c,l.precedence,s),r.instance=c;case"stylesheet":p=Ro(l.href);var g=s.querySelector(Tu(p));if(g)return r.state.loading|=4,r.instance=g,Dt(g),g;c=C_(l),(p=ii.get(p))&&Ip(c,p),g=(s.ownerDocument||s).createElement("link"),Dt(g);var x=g;return x._p=new Promise(function(S,L){x.onload=S,x.onerror=L}),rn(g,"link",c),r.state.loading|=4,rd(g,l.precedence,s),r.instance=g;case"script":return g=Co(l.src),(p=s.querySelector(Eu(g)))?(r.instance=p,Dt(p),p):(c=l,(p=ii.get(g))&&(c=v({},l),Op(c,p)),s=s.ownerDocument||s,p=s.createElement("script"),Dt(p),rn(p,"link",c),s.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,rd(c,l.precedence,s));return r.instance}function rd(s,r,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,x=0;x<c.length;x++){var S=c[x];if(S.dataset.precedence===r)g=S;else if(g!==p)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Ip(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Op(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var ad=null;function O_(s,r,l){if(ad===null){var c=new Map,p=ad=new Map;p.set(l,c)}else p=ad,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var g=l[p];if(!(g[Ui]||g[Ot]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(r)||"";x=s+x;var S=c.get(x);S?S.push(g):c.set(x,[g])}}return c}function D_(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function B2(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function N_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function z2(s,r,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Ro(c.href),g=r.querySelector(Tu(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=od.bind(s),r.then(s,s)),l.state.loading|=4,l.instance=g,Dt(g);return}g=r.ownerDocument||r,c=C_(c),(p=ii.get(p))&&Ip(c,p),g=g.createElement("link"),Dt(g);var x=g;x._p=new Promise(function(S,L){x.onload=S,x.onerror=L}),rn(g,"link",c),l.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=od.bind(s),r.addEventListener("load",l),r.addEventListener("error",l))}}var Dp=0;function q2(s,r){return s.stylesheets&&s.count===0&&ud(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var c=setTimeout(function(){if(s.stylesheets&&ud(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&Dp===0&&(Dp=62500*x2());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ud(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>Dp?50:800)+r);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function od(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ld=null;function ud(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ld=new Map,r.forEach(F2,s),ld=null,od.call(s))}function F2(s,r){if(!(r.state.loading&4)){var l=ld.get(s);if(l)var c=l.get(null);else{l=new Map,ld.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var x=p[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),c=x)}c&&l.set(null,c)}p=r.instance,x=p.getAttribute("data-precedence"),g=l.get(x)||c,g===c&&l.set(null,p),l.set(x,p),this.count++,c=od.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),r.state.loading|=4}}var Su={$$typeof:V,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function $2(s,r,l,c,p,g,x,S,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function j_(s,r,l,c,p,g,x,S,L,W,ie,oe){return s=new $2(s,r,l,x,L,W,ie,oe,S),r=1,g===!0&&(r|=24),g=Pn(3,null,null,r),s.current=g,g.stateNode=s,r=hm(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:r},pm(g),s}function P_(s){return s?(s=ro,s):ro}function V_(s,r,l,c,p,g){p=P_(p),c.context===null?c.context=p:c.pendingContext=p,c=nr(r),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=ir(s,c,r),l!==null&&(Cn(l,s,r),iu(l,s,r))}function M_(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Np(s,r){M_(s,r),(s=s.alternate)&&M_(s,r)}function L_(s){if(s.tag===13||s.tag===31){var r=ia(s,67108864);r!==null&&Cn(r,s,67108864),Np(s,67108864)}}function U_(s){if(s.tag===13||s.tag===31){var r=Bn();r=Hr(r);var l=ia(s,r);l!==null&&Cn(l,s,r),Np(s,r)}}var cd=!0;function H2(s,r,l,c){var p=M.T;M.T=null;var g=$.p;try{$.p=2,jp(s,r,l,c)}finally{$.p=g,M.T=p}}function G2(s,r,l,c){var p=M.T;M.T=null;var g=$.p;try{$.p=8,jp(s,r,l,c)}finally{$.p=g,M.T=p}}function jp(s,r,l,c){if(cd){var p=Pp(c);if(p===null)wp(s,r,c,hd,l),z_(s,c);else if(Y2(p,s,r,l,c))c.stopPropagation();else if(z_(s,c),r&4&&-1<K2.indexOf(s)){for(;p!==null;){var g=Gn(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Pi(g.pendingLanes);if(x!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var L=1<<31-Et(x);S.entanglements[1]|=L,x&=~L}es(g),(Qe&6)===0&&(Kh=vn()+500,bu(0))}}break;case 31:case 13:S=ia(g,2),S!==null&&Cn(S,g,2),Wh(),Np(g,2)}if(g=Pp(c),g===null&&wp(s,r,c,hd,l),g===p)break;p=g}p!==null&&c.stopPropagation()}else wp(s,r,c,null,l)}}function Pp(s){return s=Kn(s),Vp(s)}var hd=null;function Vp(s){if(hd=null,s=Bi(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=u(r),s!==null)return s;s=null}else if(l===31){if(s=h(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return hd=s,null}function B_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zr()){case Rl:return 2;case Cl:return 8;case zs:case qf:return 32;case Fc:return 268435456;default:return 32}default:return 32}}var Mp=!1,mr=null,pr=null,gr=null,Au=new Map,ku=new Map,yr=[],K2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(s,r){switch(s){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Au.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(r.pointerId)}}function Ru(s,r,l,c,p,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},r!==null&&(r=Gn(r),r!==null&&L_(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),s)}function Y2(s,r,l,c,p){switch(r){case"focusin":return mr=Ru(mr,s,r,l,c,p),!0;case"dragenter":return pr=Ru(pr,s,r,l,c,p),!0;case"mouseover":return gr=Ru(gr,s,r,l,c,p),!0;case"pointerover":var g=p.pointerId;return Au.set(g,Ru(Au.get(g)||null,s,r,l,c,p)),!0;case"gotpointercapture":return g=p.pointerId,ku.set(g,Ru(ku.get(g)||null,s,r,l,c,p)),!0}return!1}function q_(s){var r=Bi(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){s.blockedOn=r,fi(s.priority,function(){U_(l)});return}}else if(r===31){if(r=h(l),r!==null){s.blockedOn=r,fi(s.priority,function(){U_(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function dd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Pp(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);zl=c,l.target.dispatchEvent(c),zl=null}else return r=Gn(l),r!==null&&L_(r),s.blockedOn=l,!1;r.shift()}return!0}function F_(s,r,l){dd(s)&&l.delete(r)}function W2(){Mp=!1,mr!==null&&dd(mr)&&(mr=null),pr!==null&&dd(pr)&&(pr=null),gr!==null&&dd(gr)&&(gr=null),Au.forEach(F_),ku.forEach(F_)}function fd(s,r){s.blockedOn===r&&(s.blockedOn=null,Mp||(Mp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,W2)))}var md=null;function $_(s){md!==s&&(md=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){md===s&&(md=null);for(var r=0;r<s.length;r+=3){var l=s[r],c=s[r+1],p=s[r+2];if(typeof c!="function"){if(Vp(c||l)===null)continue;break}var g=Gn(l);g!==null&&(s.splice(r,3),r-=3,Pm(g,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Io(s){function r(L){return fd(L,s)}mr!==null&&fd(mr,s),pr!==null&&fd(pr,s),gr!==null&&fd(gr,s),Au.forEach(r),ku.forEach(r);for(var l=0;l<yr.length;l++){var c=yr[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<yr.length&&(l=yr[0],l.blockedOn===null);)q_(l),l.blockedOn===null&&yr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],x=p[Wt]||null;if(typeof g=="function")x||$_(l);else if(x){var S=null;if(g&&g.hasAttribute("formAction")){if(p=g,x=g[Wt]||null)S=x.formAction;else if(Vp(p)!==null)continue}else S=x.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),$_(l)}}}function H_(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function Lp(s){this._internalRoot=s}pd.prototype.render=Lp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,c=Bn();V_(l,c,s,r,null,null)},pd.prototype.unmount=Lp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;V_(s.current,2,null,s,null,null),Wh(),r[Li]=null}};function pd(s){this._internalRoot=s}pd.prototype.unstable_scheduleHydration=function(s){if(s){var r=Wc();s={blockedOn:null,target:s,priority:r};for(var l=0;l<yr.length&&r!==0&&r<yr[l].priority;l++);yr.splice(l,0,s),l===0&&q_(s)}};var G_=e.version;if(G_!=="19.2.3")throw Error(i(527,G_,"19.2.3"));$.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var Q2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{hi=gd.inject(Q2),Zt=gd}catch{}}return Iu.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,c="",p=Zb,g=ew,x=tw;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=j_(s,1,!1,null,null,l,c,null,p,g,x,H_),s[Li]=r.current,bp(s),new Lp(r)},Iu.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var c=!1,p="",g=Zb,x=ew,S=tw,L=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(L=l.formState)),r=j_(s,1,!0,r,l??null,c,p,L,g,x,S,H_),r.context=P_(null),l=r.current,c=Bn(),c=Hr(c),p=nr(c),p.callback=null,ir(l,p,c),l=c,r.current.lanes=l,Fr(r,l),es(r),s[Li]=r.current,bp(s),new pd(r)},Iu.version="19.2.3",Iu}var nx;function aI(){if(nx)return zp.exports;nx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zp.exports=rI(),zp.exports}var kS=aI();const oI=fl(kS);var ix="popstate";function lI(t={}){function e(i,a){let{pathname:o,search:u,hash:h}=i.location;return Bg("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:nc(a)}return cI(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uI(){return Math.random().toString(36).substring(2,10)}function sx(t,e){return{usr:t.state,key:t.key,idx:e}}function Bg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ml(e):e,state:n,key:e&&e.key||i||uI()}}function nc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ml(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function cI(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,h="POP",d=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let O=y(),N=O==null?null:O-m;m=O,d&&d({action:h,location:R.location,delta:N})}function _(O,N){h="PUSH";let U=Bg(R.location,O,N);m=y()+1;let V=sx(U,m),ne=R.createHref(U);try{u.pushState(V,"",ne)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(ne)}o&&d&&d({action:h,location:R.location,delta:1})}function E(O,N){h="REPLACE";let U=Bg(R.location,O,N);m=y();let V=sx(U,m),ne=R.createHref(U);u.replaceState(V,"",ne),o&&d&&d({action:h,location:R.location,delta:0})}function k(O){return hI(O)}let R={get action(){return h},get location(){return t(a,u)},listen(O){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(ix,v),d=O,()=>{a.removeEventListener(ix,v),d=null}},createHref(O){return e(a,O)},createURL:k,encodeLocation(O){let N=k(O);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:E,go(O){return u.go(O)}};return R}function hI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:nc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function RS(t,e,n="/"){return dI(t,e,n,!1)}function dI(t,e,n,i){let a=typeof e=="string"?ml(e):e,o=Ns(a.pathname||"/",n);if(o==null)return null;let u=CS(t);fI(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=EI(o);h=xI(u[d],m,i)}return h}function CS(t,e=[],n=[],i="",a=!1){let o=(u,h,d=a,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&d)return;yt(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=Is([i,y.relativePath]),_=n.concat(y);u.children&&u.children.length>0&&(yt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),CS(u.children,e,_,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:wI(v,u.index),routesMeta:_})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of IS(u.path))o(u,h,!0,d)}),e}function IS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=IS(i.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function fI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_I(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var mI=/^:[\w-]+$/,pI=3,gI=2,yI=1,vI=10,bI=-2,rx=t=>t==="*";function wI(t,e){let n=t.split("/"),i=n.length;return n.some(rx)&&(i+=bI),e&&(i+=gI),n.filter(a=>!rx(a)).reduce((a,o)=>a+(mI.test(o)?pI:o===""?yI:vI),i)}function _I(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function xI(t,e,n=!1){let{routesMeta:i}=t,a={},o="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=Hd({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),_=d.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=Hd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Is([o,v.pathname]),pathnameBase:RI(Is([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=Is([o,v.pathnameBase]))}return u}function Hd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=TI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:v},_)=>{if(y==="*"){let k=h[_]||"";u=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const E=h[_];return v&&!E?m[y]=void 0:m[y]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:t}}function TI(t,e=!1,n=!0){Oi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function EI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var OS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SI=t=>OS.test(t);function AI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?ml(t):t,o;if(n)if(SI(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?o=ax(n.substring(1),"/"):o=ax(n,e)}else o=e;return{pathname:o,search:CI(i),hash:II(a)}}function ax(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Hp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DS(t){let e=kI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function NS(t,e,n,i=!1){let a;typeof t=="string"?a=ml(t):(a={...t},yt(!a.pathname||!a.pathname.includes("?"),Hp("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Hp("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Hp("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!i&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}h=v>=0?e[v]:"/"}let d=AI(a,h),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var Is=t=>t.join("/").replace(/\/\/+/g,"/"),RI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,II=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,OI=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function DI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function NI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function PS(t,e){let n=t;if(typeof n!="string"||!OS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(jS)try{let o=new URL(window.location.href),u=n.startsWith("//")?new URL(o.protocol+n):new URL(n),h=Ns(u.pathname,e);u.origin===o.origin&&h!=null?n=h+u.search+u.hash:a=!0}catch{Oi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VS=["POST","PUT","PATCH","DELETE"];new Set(VS);var jI=["GET",...VS];new Set(jI);var pl=j.createContext(null);pl.displayName="DataRouter";var vf=j.createContext(null);vf.displayName="DataRouterState";var PI=j.createContext(!1),MS=j.createContext({isTransitioning:!1});MS.displayName="ViewTransition";var VI=j.createContext(new Map);VI.displayName="Fetchers";var MI=j.createContext(null);MI.displayName="Await";var ci=j.createContext(null);ci.displayName="Navigation";var Ac=j.createContext(null);Ac.displayName="Location";var us=j.createContext({outlet:null,matches:[],isDataRoute:!1});us.displayName="Route";var Zy=j.createContext(null);Zy.displayName="RouteError";var LS="REACT_ROUTER_ERROR",LI="REDIRECT",UI="ROUTE_ERROR_RESPONSE";function BI(t){if(t.startsWith(`${LS}:${LI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function zI(t){if(t.startsWith(`${LS}:${UI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new OI(e.status,e.statusText,e.data)}catch{}}function qI(t,{relative:e}={}){yt(kc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(ci),{hash:a,pathname:o,search:u}=Rc(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Is([n,o])),i.createHref({pathname:h,search:u,hash:a})}function kc(){return j.useContext(Ac)!=null}function Ls(){return yt(kc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Ac).location}var US="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BS(t){j.useContext(ci).static||j.useLayoutEffect(t)}function Vr(){let{isDataRoute:t}=j.useContext(us);return t?tO():FI()}function FI(){yt(kc(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(pl),{basename:e,navigator:n}=j.useContext(ci),{matches:i}=j.useContext(us),{pathname:a}=Ls(),o=JSON.stringify(DS(i)),u=j.useRef(!1);return BS(()=>{u.current=!0}),j.useCallback((d,m={})=>{if(Oi(u.current,US),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=NS(d,JSON.parse(o),a,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Is([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,o,a,t])}j.createContext(null);function zS(){let{matches:t}=j.useContext(us),e=t[t.length-1];return e?e.params:{}}function Rc(t,{relative:e}={}){let{matches:n}=j.useContext(us),{pathname:i}=Ls(),a=JSON.stringify(DS(n));return j.useMemo(()=>NS(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function $I(t,e){return qS(t,e)}function qS(t,e,n,i,a){yt(kc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(ci),{matches:u}=j.useContext(us),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let U=v&&v.path||"";$S(m,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let _=Ls(),E;if(e){let U=typeof e=="string"?ml(e):e;yt(y==="/"||U.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),E=U}else E=_;let k=E.pathname||"/",R=k;if(y!=="/"){let U=y.replace(/^\//,"").split("/");R="/"+k.replace(/^\//,"").split("/").slice(U.length).join("/")}let O=RS(t,{pathname:R});Oi(v||O!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Oi(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=WI(O&&O.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:Is([y,o.encodeLocation?o.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:Is([y,o.encodeLocation?o.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),u,n,i,a);return e&&N?j.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},N):N}function HI(){let t=eO(),e=DI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:a},n):null,u)}var GI=j.createElement(HI,null),FS=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=zI(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(us.Provider,{value:this.props.routeContext},j.createElement(Zy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(KI,{error:t},e):e}};FS.contextType=PI;var Gp=new WeakMap;function KI({children:t,error:e}){let{basename:n}=j.useContext(ci);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=BI(e.digest);if(i){let a=Gp.get(e);if(a)throw a;let o=PS(i.location,n);if(jS&&!Gp.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw Gp.set(e,u),u}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function YI({routeContext:t,match:e,children:n}){let i=j.useContext(pl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(us.Provider,{value:t},n)}function WI(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n?.errors;if(u!=null){let y=o.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);yt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<o.length;y++){let v=o[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:_,errors:E}=n,k=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||k){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let m=n&&i?(y,v)=>{i(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:NI(n.matches),errorInfo:v})}:void 0;return o.reduceRight((y,v,_)=>{let E,k=!1,R=null,O=null;n&&(E=u&&v.route.id?u[v.route.id]:void 0,R=v.route.errorElement||GI,h&&(d<0&&_===0?($S("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,O=null):d===_&&(k=!0,O=v.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,_+1)),U=()=>{let V;return E?V=R:k?V=O:v.route.Component?V=j.createElement(v.route.Component,null):v.route.element?V=v.route.element:V=y,j.createElement(YI,{match:v,routeContext:{outlet:y,matches:N,isDataRoute:n!=null},children:V})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?j.createElement(FS,{location:n.location,revalidation:n.revalidation,component:R,error:E,children:U(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:m}):U()},null)}function ev(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QI(t){let e=j.useContext(pl);return yt(e,ev(t)),e}function XI(t){let e=j.useContext(vf);return yt(e,ev(t)),e}function JI(t){let e=j.useContext(us);return yt(e,ev(t)),e}function tv(t){let e=JI(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ZI(){return tv("useRouteId")}function eO(){let t=j.useContext(Zy),e=XI("useRouteError"),n=tv("useRouteError");return t!==void 0?t:e.errors?.[n]}function tO(){let{router:t}=QI("useNavigate"),e=tv("useNavigate"),n=j.useRef(!1);return BS(()=>{n.current=!0}),j.useCallback(async(a,o={})=>{Oi(n.current,US),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var ox={};function $S(t,e,n){!e&&!ox[t]&&(ox[t]=!0,Oi(!1,n))}j.memo(nO);function nO({routes:t,future:e,state:n,onError:i}){return qS(t,void 0,n,i,e)}function ts(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iO({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){yt(!kc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[h,a,o,u]);typeof n=="string"&&(n=ml(n));let{pathname:m="/",search:y="",hash:v="",state:_=null,key:E="default"}=n,k=j.useMemo(()=>{let R=Ns(m,h);return R==null?null:{location:{pathname:R,search:y,hash:v,state:_,key:E},navigationType:i}},[h,m,y,v,_,E,i]);return Oi(k!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(ci.Provider,{value:d},j.createElement(Ac.Provider,{children:e,value:k}))}function sO({children:t,location:e}){return $I(zg(t),e)}function zg(t,e=[]){let n=[];return j.Children.forEach(t,(i,a)=>{if(!j.isValidElement(i))return;let o=[...e,a];if(i.type===j.Fragment){n.push.apply(n,zg(i.props.children,o));return}yt(i.type===ts,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=zg(i.props.children,o)),n.push(u)}),n}var Dd="get",Nd="application/x-www-form-urlencoded";function bf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function rO(t){return bf(t)&&t.tagName.toLowerCase()==="button"}function aO(t){return bf(t)&&t.tagName.toLowerCase()==="form"}function oO(t){return bf(t)&&t.tagName.toLowerCase()==="input"}function lO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uO(t,e){return t.button===0&&(!e||e==="_self")&&!lO(t)}var yd=null;function cO(){if(yd===null)try{new FormData(document.createElement("form"),0),yd=!1}catch{yd=!0}return yd}var hO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kp(t){return t!=null&&!hO.has(t)?(Oi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nd}"`),null):t}function dO(t,e){let n,i,a,o,u;if(aO(t)){let h=t.getAttribute("action");i=h?Ns(h,e):null,n=t.getAttribute("method")||Dd,a=Kp(t.getAttribute("enctype"))||Nd,o=new FormData(t)}else if(rO(t)||oO(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(i=d?Ns(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Dd,a=Kp(t.getAttribute("formenctype"))||Kp(h.getAttribute("enctype"))||Nd,o=new FormData(h,t),!cO()){let{name:m,type:y,value:v}=t;if(y==="image"){let _=m?`${m}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else m&&o.append(m,v)}}else{if(bf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dd,i=null,a=Nd,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fO(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Ns(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function mO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function gO(t,e,n){let i=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await mO(o,n);return u.links?u.links():[]}return[]}));return wO(i.flat(1).filter(pO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function lx(t,e,n,i,a,o){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):o==="data"?e.filter((d,m)=>{let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function yO(t,e,{includeHydrateFallback:n}={}){return vO(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function vO(t){return[...new Set(t)]}function bO(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function wO(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let o=JSON.stringify(bO(a));return n.has(o)||(n.add(o),i.push({key:o,link:a})),i},[])}function HS(){let t=j.useContext(pl);return nv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _O(){let t=j.useContext(vf);return nv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iv=j.createContext(void 0);iv.displayName="FrameworkContext";function GS(){let t=j.useContext(iv);return nv(t,"You must render this element inside a <HydratedRouter> element"),t}function xO(t,e){let n=j.useContext(iv),[i,a]=j.useState(!1),[o,u]=j.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,_=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=N=>{N.forEach(U=>{u(U.isIntersecting)})},O=new IntersectionObserver(R,{threshold:.5});return _.current&&O.observe(_.current),()=>{O.disconnect()}}},[t]),j.useEffect(()=>{if(i){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[i]);let E=()=>{a(!0)},k=()=>{a(!1),u(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:Ou(h,E),onBlur:Ou(d,k),onMouseEnter:Ou(m,E),onMouseLeave:Ou(y,k),onTouchStart:Ou(v,E)}]:[!1,_,{}]}function Ou(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function TO({page:t,...e}){let{router:n}=HS(),i=j.useMemo(()=>RS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?j.createElement(SO,{page:t,matches:i,...e}):null}function EO(t){let{manifest:e,routeModules:n}=GS(),[i,a]=j.useState([]);return j.useEffect(()=>{let o=!1;return gO(t,e,n).then(u=>{o||a(u)}),()=>{o=!0}},[t,e,n]),i}function SO({page:t,matches:e,...n}){let i=Ls(),{future:a,manifest:o,routeModules:u}=GS(),{basename:h}=HS(),{loaderData:d,matches:m}=_O(),y=j.useMemo(()=>lx(t,e,m,o,i,"data"),[t,e,m,o,i]),v=j.useMemo(()=>lx(t,e,m,o,i,"assets"),[t,e,m,o,i]),_=j.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let R=new Set,O=!1;if(e.forEach(U=>{let V=o.routes[U.route.id];!V||!V.hasLoader||(!y.some(ne=>ne.route.id===U.route.id)&&U.route.id in d&&u[U.route.id]?.shouldRevalidate||V.hasClientLoader?O=!0:R.add(U.route.id))}),R.size===0)return[];let N=fO(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return O&&R.size>0&&N.searchParams.set("_routes",e.filter(U=>R.has(U.route.id)).map(U=>U.route.id).join(",")),[N.pathname+N.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,i,o,y,e,t,u]),E=j.useMemo(()=>yO(v,o),[v,o]),k=EO(v);return j.createElement(j.Fragment,null,_.map(R=>j.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),E.map(R=>j.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),k.map(({key:R,link:O})=>j.createElement("link",{key:R,nonce:n.nonce,...O})))}function AO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kO&&(window.__reactRouterVersion="7.12.0")}catch{}function RO({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=j.useRef();a.current==null&&(a.current=lI({window:i,v5Compat:!0}));let o=a.current,[u,h]=j.useState({action:o.action,location:o.location}),d=j.useCallback(m=>{n===!1?h(m):j.startTransition(()=>h(m))},[n]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.createElement(iO,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:n})}var KS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,On=j.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:_,...E},k){let{basename:R,unstable_useTransitions:O}=j.useContext(ci),N=typeof m=="string"&&KS.test(m),U=PS(m,R);m=U.to;let V=qI(m,{relative:a}),[ne,se,ce]=xO(i,E),I=DO(m,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:_,unstable_useTransitions:O});function A(q){e&&e(q),q.defaultPrevented||I(q)}let D=j.createElement("a",{...E,...ce,href:U.absoluteURL||V,onClick:U.isExternal||o?e:A,ref:AO(k,se),target:d,"data-discover":!N&&n==="render"?"true":void 0});return ne&&!N?j.createElement(j.Fragment,null,D,j.createElement(TO,{page:V})):D});On.displayName="Link";var CO=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...m},y){let v=Rc(u,{relative:m.relative}),_=Ls(),E=j.useContext(vf),{navigator:k,basename:R}=j.useContext(ci),O=E!=null&&MO(v)&&h===!0,N=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,U=_.pathname,V=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(U=U.toLowerCase(),V=V?V.toLowerCase():null,N=N.toLowerCase()),V&&R&&(V=Ns(V,R)||V);const ne=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let se=U===N||!a&&U.startsWith(N)&&U.charAt(ne)==="/",ce=V!=null&&(V===N||!a&&V.startsWith(N)&&V.charAt(N.length)==="/"),I={isActive:se,isPending:ce,isTransitioning:O},A=se?e:void 0,D;typeof i=="function"?D=i(I):D=[i,se?"active":null,ce?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(I):o;return j.createElement(On,{...m,"aria-current":A,className:D,ref:y,style:q,to:u,viewTransition:h},typeof d=="function"?d(I):d)});CO.displayName="NavLink";var IO=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:o,method:u=Dd,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:_,...E},k)=>{let{unstable_useTransitions:R}=j.useContext(ci),O=PO(),N=VO(h,{relative:m}),U=u.toLowerCase()==="get"?"get":"post",V=typeof h=="string"&&KS.test(h),ne=se=>{if(d&&d(se),se.defaultPrevented)return;se.preventDefault();let ce=se.nativeEvent.submitter,I=ce?.getAttribute("formmethod")||u,A=()=>O(ce||se.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:o,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:_});R&&n!==!1?j.startTransition(()=>A()):A()};return j.createElement("form",{ref:k,method:U,action:N,onSubmit:i?d:ne,...E,"data-discover":!V&&t==="render"?"true":void 0})});IO.displayName="Form";function OO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YS(t){let e=j.useContext(pl);return yt(e,OO(t)),e}function DO(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=Vr(),y=Ls(),v=Rc(t,{relative:o});return j.useCallback(_=>{if(uO(_,e)){_.preventDefault();let E=n!==void 0?n:nc(y)===nc(v),k=()=>m(t,{replace:E,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h});d?j.startTransition(()=>k()):k()}},[y,m,v,n,i,e,t,a,o,u,h,d])}var NO=0,jO=()=>`__${String(++NO)}__`;function PO(){let{router:t}=YS("useSubmit"),{basename:e}=j.useContext(ci),n=ZI(),i=t.fetch,a=t.navigate;return j.useCallback(async(o,u={})=>{let{action:h,method:d,encType:m,formData:y,body:v}=dO(o,e);if(u.navigate===!1){let _=u.fetcherKey||jO();await i(_,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||m,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,n])}function VO(t,{relative:e}={}){let{basename:n}=j.useContext(ci),i=j.useContext(us);yt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Rc(t||".",{relative:e})},u=Ls();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Is([n,o.pathname])),nc(o)}function MO(t,{relative:e}={}){let n=j.useContext(MS);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=YS("useViewTransitionState"),a=Rc(t,{relative:e});if(!n.isTransitioning)return!1;let o=Ns(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Ns(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Hd(a.pathname,u)!=null||Hd(a.pathname,o)!=null}const LO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),ux=t=>{const e=UO(t);return e.charAt(0).toUpperCase()+e.slice(1)},WS=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),BO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var zO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qO=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:u,...h},d)=>j.createElement("svg",{ref:d,...zO,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:WS("lucide",a),...!o&&!BO(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,y])=>j.createElement(m,y)),...Array.isArray(o)?o:[o]]));const Ue=(t,e)=>{const n=j.forwardRef(({className:i,...a},o)=>j.createElement(qO,{ref:o,iconNode:e,className:WS(`lucide-${LO(ux(t))}`,`lucide-${t}`,i),...a}));return n.displayName=ux(t),n};const FO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ja=Ue("arrow-left",FO);const $O=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],sl=Ue("arrow-right",$O);const HO=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Cc=Ue("book-open",HO);const GO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],KO=Ue("calendar",GO);const YO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],QS=Ue("check",YO);const WO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],XS=Ue("chevron-down",WO);const QO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],XO=Ue("chevron-up",QO);const JO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ZO=Ue("circle-alert",JO);const eD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tD=Ue("circle-check-big",eD);const nD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],JS=Ue("clock",nD);const iD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],sD=Ue("crown",iD);const rD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],aD=Ue("globe",rD);const oD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ZS=Ue("heart",oD);const lD=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],uD=Ue("languages",lD);const cD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],hD=Ue("layers",cD);const dD=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],fD=Ue("layout-grid",dD);const mD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qg=Ue("loader-circle",mD);const pD=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],gD=Ue("loader",pD);const yD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],e1=Ue("lock",yD);const vD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Fg=Ue("mail",vD);const bD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],wD=Ue("map-pin",bD);const _D=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]],t1=Ue("message-square-plus",_D);const xD=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],TD=Ue("moon",xD);const ED=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],SD=Ue("quote",ED);const AD=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],kD=Ue("rotate-cw",AD);const RD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cx=Ue("search",RD);const CD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],n1=Ue("send",CD);const ID=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],i1=Ue("share-2",ID);const OD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],DD=Ue("shield",OD);const ND=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rl=Ue("sparkles",ND);const jD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],hx=Ue("square",jD);const PD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Yp=Ue("star",PD);const VD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],MD=Ue("sun",VD);const LD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],s1=Ue("user",LD);const UD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],dx=Ue("volume-2",UD);const BD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sv=Ue("x",BD);const zD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qD=Ue("zap",zD);var Wp={},Qp={},Xp={},fx;function FD(){return fx||(fx=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];if(typeof window<"u"){var h;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(h=window).gtag.apply(h,o)}},n=e;t.default=n})(Xp)),Xp}var Jp={},mx;function $D(){return mx||(mx=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(h){return h.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(d,m,y){return m>0&&m+d.length!==y.length&&d.search(e)>-1&&y.charAt(m-2)!==":"&&(y.charAt(m+d.length)!=="-"||y.charAt(m-1)==="-")&&y.charAt(m-1).search(/[^\s-]/)<0?d.toLowerCase():d.substr(1).search(/[A-Z]|\../)>-1?d:d.charAt(0).toUpperCase()+d.substr(1)})}function i(h){return typeof h=="string"&&h.indexOf("@")!==-1}var a="REDACTED (Potential Email Address)";function o(h){return i(h)?(console.warn("This arg looks like an email address, redacting."),a):h}function u(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,y=h||"";return d&&(y=n(h)),m&&(y=o(y)),y}})(Jp)),Jp}var px;function HD(){return px||(px=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=u(FD()),n=u($D()),i=["eventCategory","eventAction","eventLabel","eventValue","hitType"],a=["title","location"],o=["page","hitType"];function u(ae){return ae&&ae.__esModule?ae:{default:ae}}function h(ae,X){if(ae==null)return{};var M=d(ae,X),$,ee;if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(ae);for(ee=0;ee<he.length;ee++)$=he[ee],!(X.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(ae,$)&&(M[$]=ae[$])}return M}function d(ae,X){if(ae==null)return{};var M={},$=Object.keys(ae),ee,he;for(he=0;he<$.length;he++)ee=$[he],!(X.indexOf(ee)>=0)&&(M[ee]=ae[ee]);return M}function m(ae){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},m(ae)}function y(ae){return E(ae)||_(ae)||U(ae)||v()}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(ae){if(typeof Symbol<"u"&&ae[Symbol.iterator]!=null||ae["@@iterator"]!=null)return Array.from(ae)}function E(ae){if(Array.isArray(ae))return V(ae)}function k(ae,X){var M=Object.keys(ae);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(ae);X&&($=$.filter(function(ee){return Object.getOwnPropertyDescriptor(ae,ee).enumerable})),M.push.apply(M,$)}return M}function R(ae){for(var X=1;X<arguments.length;X++){var M=arguments[X]!=null?arguments[X]:{};X%2?k(Object(M),!0).forEach(function($){D(ae,$,M[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(M)):k(Object(M)).forEach(function($){Object.defineProperty(ae,$,Object.getOwnPropertyDescriptor(M,$))})}return ae}function O(ae,X){return se(ae)||ne(ae,X)||U(ae,X)||N()}function N(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(ae,X){if(ae){if(typeof ae=="string")return V(ae,X);var M=Object.prototype.toString.call(ae).slice(8,-1);if(M==="Object"&&ae.constructor&&(M=ae.constructor.name),M==="Map"||M==="Set")return Array.from(ae);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return V(ae,X)}}function V(ae,X){(X==null||X>ae.length)&&(X=ae.length);for(var M=0,$=new Array(X);M<X;M++)$[M]=ae[M];return $}function ne(ae,X){var M=ae==null?null:typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(M!=null){var $,ee,he,be,B=[],te=!0,de=!1;try{if(he=(M=M.call(ae)).next,X!==0)for(;!(te=($=he.call(M)).done)&&(B.push($.value),B.length!==X);te=!0);}catch(fe){de=!0,ee=fe}finally{try{if(!te&&M.return!=null&&(be=M.return(),Object(be)!==be))return}finally{if(de)throw ee}}return B}}function se(ae){if(Array.isArray(ae))return ae}function ce(ae,X){if(!(ae instanceof X))throw new TypeError("Cannot call a class as a function")}function I(ae,X){for(var M=0;M<X.length;M++){var $=X[M];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(ae,q($.key),$)}}function A(ae,X,M){return X&&I(ae.prototype,X),Object.defineProperty(ae,"prototype",{writable:!1}),ae}function D(ae,X,M){return X=q(X),X in ae?Object.defineProperty(ae,X,{value:M,enumerable:!0,configurable:!0,writable:!0}):ae[X]=M,ae}function q(ae){var X=z(ae,"string");return m(X)==="symbol"?X:String(X)}function z(ae,X){if(m(ae)!=="object"||ae===null)return ae;var M=ae[Symbol.toPrimitive];if(M!==void 0){var $=M.call(ae,X);if(m($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(ae)}var H=(function(){function ae(){var X=this;ce(this,ae),D(this,"reset",function(){X.isInitialized=!1,X._testMode=!1,X._currentMeasurementId,X._hasLoadedGA=!1,X._isQueuing=!1,X._queueGtag=[]}),D(this,"_gtag",function(){for(var M=arguments.length,$=new Array(M),ee=0;ee<M;ee++)$[ee]=arguments[ee];X._testMode||X._isQueuing?X._queueGtag.push($):e.default.apply(void 0,$)}),D(this,"_loadGA",function(M,$){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!X._hasLoadedGA){var he=document.createElement("script");he.async=!0,he.src="".concat(ee,"?id=").concat(M),$&&he.setAttribute("nonce",$),document.body.appendChild(he),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},X._hasLoadedGA=!0}}),D(this,"_toGtagOptions",function(M){if(M){var $={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},ee=Object.entries(M).reduce(function(he,be){var B=O(be,2),te=B[0],de=B[1];return $[te]?he[$[te]]=de:he[te]=de,he},{});return ee}}),D(this,"initialize",function(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!M)throw new Error("Require GA_MEASUREMENT_ID");var ee=typeof M=="string"?[{trackingId:M}]:M;X._currentMeasurementId=ee[0].trackingId;var he=$.gaOptions,be=$.gtagOptions,B=$.nonce,te=$.testMode,de=te===void 0?!1:te,fe=$.gtagUrl;if(X._testMode=de,de||X._loadGA(X._currentMeasurementId,B,fe),X.isInitialized||(X._gtag("js",new Date),ee.forEach(function(Ve){var bt=R(R(R({},X._toGtagOptions(R(R({},he),Ve.gaOptions))),be),Ve.gtagOptions);Object.keys(bt).length?X._gtag("config",Ve.trackingId,bt):X._gtag("config",Ve.trackingId)})),X.isInitialized=!0,!de){var ke=y(X._queueGtag);for(X._queueGtag=[],X._isQueuing=!1;ke.length;){var Ie=ke.shift();X._gtag.apply(X,y(Ie)),Ie[0]==="get"&&(X._isQueuing=!0)}}}),D(this,"set",function(M){if(!M){console.warn("`fieldsObject` is required in .set()");return}if(m(M)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(M).length===0&&console.warn("empty `fieldsObject` given to .set()"),X._gaCommand("set",M)}),D(this,"_gaCommandSendEvent",function(M,$,ee,he,be){X._gtag("event",$,R(R({event_category:M,event_label:ee,value:he},be&&{non_interaction:be.nonInteraction}),X._toGtagOptions(be)))}),D(this,"_gaCommandSendEventParameters",function(){for(var M=arguments.length,$=new Array(M),ee=0;ee<M;ee++)$[ee]=arguments[ee];if(typeof $[0]=="string")X._gaCommandSendEvent.apply(X,y($.slice(1)));else{var he=$[0],be=he.eventCategory,B=he.eventAction,te=he.eventLabel,de=he.eventValue;he.hitType;var fe=h(he,i);X._gaCommandSendEvent(be,B,te,de,fe)}}),D(this,"_gaCommandSendTiming",function(M,$,ee,he){X._gtag("event","timing_complete",{name:$,value:ee,event_category:M,event_label:he})}),D(this,"_gaCommandSendPageview",function(M,$){if($&&Object.keys($).length){var ee=X._toGtagOptions($),he=ee.title,be=ee.location,B=h(ee,a);X._gtag("event","page_view",R(R(R(R({},M&&{page_path:M}),he&&{page_title:he}),be&&{page_location:be}),B))}else M?X._gtag("event","page_view",{page_path:M}):X._gtag("event","page_view")}),D(this,"_gaCommandSendPageviewParameters",function(){for(var M=arguments.length,$=new Array(M),ee=0;ee<M;ee++)$[ee]=arguments[ee];if(typeof $[0]=="string")X._gaCommandSendPageview.apply(X,y($.slice(1)));else{var he=$[0],be=he.page;he.hitType;var B=h(he,o);X._gaCommandSendPageview(be,B)}}),D(this,"_gaCommandSend",function(){for(var M=arguments.length,$=new Array(M),ee=0;ee<M;ee++)$[ee]=arguments[ee];var he=typeof $[0]=="string"?$[0]:$[0].hitType;switch(he){case"event":X._gaCommandSendEventParameters.apply(X,$);break;case"pageview":X._gaCommandSendPageviewParameters.apply(X,$);break;case"timing":X._gaCommandSendTiming.apply(X,y($.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(he));break;default:console.warn("Send command doesn't exist: ".concat(he))}}),D(this,"_gaCommandSet",function(){for(var M=arguments.length,$=new Array(M),ee=0;ee<M;ee++)$[ee]=arguments[ee];typeof $[0]=="string"&&($[0]=D({},$[0],$[1])),X._gtag("set",X._toGtagOptions($[0]))}),D(this,"_gaCommand",function(M){for(var $=arguments.length,ee=new Array($>1?$-1:0),he=1;he<$;he++)ee[he-1]=arguments[he];switch(M){case"send":X._gaCommandSend.apply(X,ee);break;case"set":X._gaCommandSet.apply(X,ee);break;default:console.warn("Command doesn't exist: ".concat(M))}}),D(this,"ga",function(){for(var M=arguments.length,$=new Array(M),ee=0;ee<M;ee++)$[ee]=arguments[ee];if(typeof $[0]=="string")X._gaCommand.apply(X,$);else{var he=$[0];X._gtag("get",X._currentMeasurementId,"client_id",function(be){X._isQueuing=!1;var B=X._queueGtag;for(he({get:function(fe){return fe==="clientId"?be:fe==="trackingId"?X._currentMeasurementId:fe==="apiVersion"?"1":void 0}});B.length;){var te=B.shift();X._gtag.apply(X,y(te))}}),X._isQueuing=!0}return X.ga}),D(this,"event",function(M,$){if(typeof M=="string")X._gtag("event",M,X._toGtagOptions($));else{var ee=M.action,he=M.category,be=M.label,B=M.value,te=M.nonInteraction,de=M.transport;if(!he||!ee){console.warn("args.category AND args.action are required in event()");return}var fe={hitType:"event",eventCategory:(0,n.default)(he),eventAction:(0,n.default)(ee)};be&&(fe.eventLabel=(0,n.default)(be)),typeof B<"u"&&(typeof B!="number"?console.warn("Expected `args.value` arg to be a Number."):fe.eventValue=B),typeof te<"u"&&(typeof te!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):fe.nonInteraction=te),typeof de<"u"&&(typeof de!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(de)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),fe.transport=de)),X._gaCommand("send",fe)}}),D(this,"send",function(M){X._gaCommand("send",M)}),this.reset()}return A(ae,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),ae})();t.GA4=H;var P=new H;t.default=P})(Qp)),Qp}var gx;function GD(){return gx||(gx=1,(function(t){function e(h){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},e(h)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var n=a(HD());function i(h){if(typeof WeakMap!="function")return null;var d=new WeakMap,m=new WeakMap;return(i=function(v){return v?m:d})(h)}function a(h,d){if(h&&h.__esModule)return h;if(h===null||e(h)!=="object"&&typeof h!="function")return{default:h};var m=i(d);if(m&&m.has(h))return m.get(h);var y={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in h)if(_!=="default"&&Object.prototype.hasOwnProperty.call(h,_)){var E=v?Object.getOwnPropertyDescriptor(h,_):null;E&&(E.get||E.set)?Object.defineProperty(y,_,E):y[_]=h[_]}return y.default=h,m&&m.set(h,y),y}var o=n.GA4;t.ReactGAImplementation=o;var u=n.default;t.default=u})(Wp)),Wp}var KD=GD();const r1=fl(KD);var Zp,yx;function YD(){if(yx)return Zp;yx=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(o,u){if(o===u)return!0;if(o&&u&&typeof o=="object"&&typeof u=="object"){if(o.constructor!==u.constructor)return!1;var h,d,m;if(Array.isArray(o)){if(h=o.length,h!=u.length)return!1;for(d=h;d--!==0;)if(!a(o[d],u[d]))return!1;return!0}var y;if(e&&o instanceof Map&&u instanceof Map){if(o.size!==u.size)return!1;for(y=o.entries();!(d=y.next()).done;)if(!u.has(d.value[0]))return!1;for(y=o.entries();!(d=y.next()).done;)if(!a(d.value[1],u.get(d.value[0])))return!1;return!0}if(n&&o instanceof Set&&u instanceof Set){if(o.size!==u.size)return!1;for(y=o.entries();!(d=y.next()).done;)if(!u.has(d.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(u)){if(h=o.length,h!=u.length)return!1;for(d=h;d--!==0;)if(o[d]!==u[d])return!1;return!0}if(o.constructor===RegExp)return o.source===u.source&&o.flags===u.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof u.valueOf=="function")return o.valueOf()===u.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof u.toString=="function")return o.toString()===u.toString();if(m=Object.keys(o),h=m.length,h!==Object.keys(u).length)return!1;for(d=h;d--!==0;)if(!Object.prototype.hasOwnProperty.call(u,m[d]))return!1;if(t&&o instanceof Element)return!1;for(d=h;d--!==0;)if(!((m[d]==="_owner"||m[d]==="__v"||m[d]==="__o")&&o.$$typeof)&&!a(o[m[d]],u[m[d]]))return!1;return!0}return o!==o&&u!==u}return Zp=function(u,h){try{return a(u,h)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},Zp}var WD=YD();const QD=fl(WD);var eg,vx;function XD(){if(vx)return eg;vx=1;var t=function(e,n,i,a,o,u,h,d){if(!e){var m;if(n===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[i,a,o,u,h,d],v=0;m=new Error(n.replace(/%s/g,function(){return y[v++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return eg=t,eg}var JD=XD();const bx=fl(JD);var tg,wx;function ZD(){return wx||(wx=1,tg=function(e,n,i,a){var o=i?i.call(a,e,n):void 0;if(o!==void 0)return!!o;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var u=Object.keys(e),h=Object.keys(n);if(u.length!==h.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(n),m=0;m<u.length;m++){var y=u[m];if(!d(y))return!1;var v=e[y],_=n[y];if(o=i?i.call(a,v,_,y):void 0,o===!1||o===void 0&&v!==_)return!1}return!0}),tg}var eN=ZD();const tN=fl(eN);var a1=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(a1||{}),ng={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},_x=Object.values(a1),rv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},nN=Object.entries(rv).reduce((t,[e,n])=>(t[n]=e,t),{}),Ri="data-rh",Qo={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Xo=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const i=t[n];if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}return null},iN=t=>{let e=Xo(t,"title");const n=Xo(t,Qo.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const i=Xo(t,Qo.DEFAULT_TITLE);return e||i||void 0},sN=t=>Xo(t,Qo.ON_CHANGE_CLIENT_STATE)||(()=>{}),ig=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,i)=>({...n,...i}),{}),rN=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,i)=>{if(!n.length){const a=Object.keys(i);for(let o=0;o<a.length;o+=1){const h=a[o].toLowerCase();if(t.indexOf(h)!==-1&&i[h])return n.concat(i)}}return n},[]),aN=t=>console&&typeof console.warn=="function"&&console.warn(t),Du=(t,e,n)=>{const i={};return n.filter(a=>Array.isArray(a[t])?!0:(typeof a[t]<"u"&&aN(`Helmet: ${t} should be of type "Array". Instead found type "${typeof a[t]}"`),!1)).map(a=>a[t]).reverse().reduce((a,o)=>{const u={};o.filter(d=>{let m;const y=Object.keys(d);for(let _=0;_<y.length;_+=1){const E=y[_],k=E.toLowerCase();e.indexOf(k)!==-1&&!(m==="rel"&&d[m].toLowerCase()==="canonical")&&!(k==="rel"&&d[k].toLowerCase()==="stylesheet")&&(m=k),e.indexOf(E)!==-1&&(E==="innerHTML"||E==="cssText"||E==="itemprop")&&(m=E)}if(!m||!d[m])return!1;const v=d[m].toLowerCase();return i[m]||(i[m]={}),u[m]||(u[m]={}),i[m][v]?!1:(u[m][v]=!0,!0)}).reverse().forEach(d=>a.push(d));const h=Object.keys(u);for(let d=0;d<h.length;d+=1){const m=h[d],y={...i[m],...u[m]};i[m]=y}return a},[]).reverse()},oN=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},lN=t=>({baseTag:rN(["href"],t),bodyAttributes:ig("bodyAttributes",t),defer:Xo(t,Qo.DEFER),encode:Xo(t,Qo.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ig("htmlAttributes",t),linkTags:Du("link",["rel","href"],t),metaTags:Du("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Du("noscript",["innerHTML"],t),onChangeClientState:sN(t),scriptTags:Du("script",["src","innerHTML"],t),styleTags:Du("style",["cssText"],t),title:iN(t),titleAttributes:ig("titleAttributes",t),prioritizeSeoTags:oN(t,Qo.PRIORITIZE_SEO_TAGS)}),o1=t=>Array.isArray(t)?t.join(""):t,uN=(t,e)=>{const n=Object.keys(t);for(let i=0;i<n.length;i+=1)if(e[n[i]]&&e[n[i]].includes(t[n[i]]))return!0;return!1},sg=(t,e)=>Array.isArray(t)?t.reduce((n,i)=>(uN(i,e)?n.priority.push(i):n.default.push(i),n),{priority:[],default:[]}):{default:t,priority:[]},xx=(t,e)=>({...t,[e]:void 0}),cN=["noscript","script","style"],$g=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),l1=t=>Object.keys(t).reduce((e,n)=>{const i=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${i}`:i},""),hN=(t,e,n,i)=>{const a=l1(n),o=o1(e);return a?`<${t} ${Ri}="true" ${a}>${$g(o,i)}</${t}>`:`<${t} ${Ri}="true">${$g(o,i)}</${t}>`},dN=(t,e,n=!0)=>e.reduce((i,a)=>{const o=a,u=Object.keys(o).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,y)=>{const v=typeof o[y]>"u"?y:`${y}="${$g(o[y],n)}"`;return m?`${m} ${v}`:v},""),h=o.innerHTML||o.cssText||"",d=cN.indexOf(t)===-1;return`${i}<${t} ${Ri}="true" ${u}${d?"/>":`>${h}</${t}>`}`},""),u1=(t,e={})=>Object.keys(t).reduce((n,i)=>{const a=rv[i];return n[a||i]=t[i],n},e),fN=(t,e,n)=>{const i={key:e,[Ri]:!0},a=u1(n,i);return[$n.createElement("title",a,e)]},jd=(t,e)=>e.map((n,i)=>{const a={key:i,[Ri]:!0};return Object.keys(n).forEach(o=>{const h=rv[o]||o;if(h==="innerHTML"||h==="cssText"){const d=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:d}}else a[h]=n[o]}),$n.createElement(t,a)}),ri=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>fN(t,e.title,e.titleAttributes),toString:()=>hN(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>u1(e),toString:()=>l1(e)};default:return{toComponent:()=>jd(t,e),toString:()=>dN(t,e,n)}}},mN=({metaTags:t,linkTags:e,scriptTags:n,encode:i})=>{const a=sg(t,ng.meta),o=sg(e,ng.link),u=sg(n,ng.script);return{priorityMethods:{toComponent:()=>[...jd("meta",a.priority),...jd("link",o.priority),...jd("script",u.priority)],toString:()=>`${ri("meta",a.priority,i)} ${ri("link",o.priority,i)} ${ri("script",u.priority,i)}`},metaTags:a.default,linkTags:o.default,scriptTags:u.default}},pN=t=>{const{baseTag:e,bodyAttributes:n,encode:i=!0,htmlAttributes:a,noscriptTags:o,styleTags:u,title:h="",titleAttributes:d,prioritizeSeoTags:m}=t;let{linkTags:y,metaTags:v,scriptTags:_}=t,E={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:E,linkTags:y,metaTags:v,scriptTags:_}=mN(t)),{priority:E,base:ri("base",e,i),bodyAttributes:ri("bodyAttributes",n,i),htmlAttributes:ri("htmlAttributes",a,i),link:ri("link",y,i),meta:ri("meta",v,i),noscript:ri("noscript",o,i),script:ri("script",_,i),style:ri("style",u,i),title:ri("title",{title:h,titleAttributes:d},i)}},Hg=pN,vd=[],c1=!!(typeof window<"u"&&window.document&&window.document.createElement),Gg=class{instances=[];canUseDOM=c1;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?vd:this.instances,add:t=>{(this.canUseDOM?vd:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?vd:this.instances).indexOf(t);(this.canUseDOM?vd:this.instances).splice(e,1)}}};constructor(t,e){this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Hg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},gN={},h1=$n.createContext(gN),av=class d1 extends j.Component{static canUseDOM=c1;helmetData;constructor(e){super(e),this.helmetData=new Gg(this.props.context||{},d1.canUseDOM)}render(){return $n.createElement(h1.Provider,{value:this.helmetData.value},this.props.children)}},Oo=(t,e)=>{const n=document.head||document.querySelector("head"),i=n.querySelectorAll(`${t}[${Ri}]`),a=[].slice.call(i),o=[];let u;return e&&e.length&&e.forEach(h=>{const d=document.createElement(t);for(const m in h)if(Object.prototype.hasOwnProperty.call(h,m))if(m==="innerHTML")d.innerHTML=h.innerHTML;else if(m==="cssText")d.styleSheet?d.styleSheet.cssText=h.cssText:d.appendChild(document.createTextNode(h.cssText));else{const y=m,v=typeof h[y]>"u"?"":h[y];d.setAttribute(m,v)}d.setAttribute(Ri,"true"),a.some((m,y)=>(u=y,d.isEqualNode(m)))?a.splice(u,1):o.push(d)}),a.forEach(h=>h.parentNode?.removeChild(h)),o.forEach(h=>n.appendChild(h)),{oldTags:a,newTags:o}},Kg=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const i=n.getAttribute(Ri),a=i?i.split(","):[],o=[...a],u=Object.keys(e);for(const h of u){const d=e[h]||"";n.getAttribute(h)!==d&&n.setAttribute(h,d),a.indexOf(h)===-1&&a.push(h);const m=o.indexOf(h);m!==-1&&o.splice(m,1)}for(let h=o.length-1;h>=0;h-=1)n.removeAttribute(o[h]);a.length===o.length?n.removeAttribute(Ri):n.getAttribute(Ri)!==u.join(",")&&n.setAttribute(Ri,u.join(","))},yN=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=o1(t)),Kg("title",e)},Tx=(t,e)=>{const{baseTag:n,bodyAttributes:i,htmlAttributes:a,linkTags:o,metaTags:u,noscriptTags:h,onChangeClientState:d,scriptTags:m,styleTags:y,title:v,titleAttributes:_}=t;Kg("body",i),Kg("html",a),yN(v,_);const E={baseTag:Oo("base",n),linkTags:Oo("link",o),metaTags:Oo("meta",u),noscriptTags:Oo("noscript",h),scriptTags:Oo("script",m),styleTags:Oo("style",y)},k={},R={};Object.keys(E).forEach(O=>{const{newTags:N,oldTags:U}=E[O];N.length&&(k[O]=N),U.length&&(R[O]=E[O].oldTags)}),e&&e(),d(t,k,R)},Nu=null,vN=t=>{Nu&&cancelAnimationFrame(Nu),t.defer?Nu=requestAnimationFrame(()=>{Tx(t,()=>{Nu=null})}):(Tx(t),Nu=null)},bN=vN,Ex=class extends j.Component{rendered=!1;shouldComponentUpdate(t){return!tN(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:e}=this.props.context;let n=null;const i=lN(t.get().map(a=>{const o={...a.props};return delete o.context,o}));av.canUseDOM?bN(i):Hg&&(n=Hg(i)),e(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},ov=class extends j.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(t){return!QD(xx(this.props,"helmetData"),xx(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,i){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,i)}]}}mapObjectTypeChildren(t,e,n,i){switch(t.type){case"title":return{...e,[t.type]:i,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(i=>{n={...n,[i]:t[i]}}),n}warnOnInvalidChildren(t,e){return bx(_x.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${_x.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),bx(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return $n.Children.forEach(t,i=>{if(!i||!i.props)return;const{children:a,...o}=i.props,u=Object.keys(o).reduce((d,m)=>(d[nN[m]||m]=o[m],d),{});let{type:h}=i;switch(typeof h=="symbol"?h=h.toString():this.warnOnInvalidChildren(i,a),h){case"Symbol(react.fragment)":e=this.mapChildrenToProps(a,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(i,n,u,a);break;default:e=this.mapObjectTypeChildren(i,e,u,a);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:i}=e;if(t&&(n=this.mapChildrenToProps(t,n)),i&&!(i instanceof Gg)){const a=i;i=new Gg(a.context,!0),delete n.helmetData}return i?$n.createElement(Ex,{...n,context:i.value}):$n.createElement(h1.Consumer,null,a=>$n.createElement(Ex,{...n,context:a}))}};const Sx=t=>{let e;const n=new Set,i=(m,y)=>{const v=typeof m=="function"?m(e):m;if(!Object.is(v,e)){const _=e;e=y??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(E=>E(e,_))}},a=()=>e,h={setState:i,getState:a,getInitialState:()=>d,subscribe:m=>(n.add(m),()=>n.delete(m))},d=e=t(i,a,h);return h},wN=(t=>t?Sx(t):Sx),_N=t=>t;function xN(t,e=_N){const n=$n.useSyncExternalStore(t.subscribe,$n.useCallback(()=>e(t.getState()),[t,e]),$n.useCallback(()=>e(t.getInitialState()),[t,e]));return $n.useDebugValue(n),n}const Ax=t=>{const e=wN(t),n=i=>xN(e,i);return Object.assign(n,e),n},f1=(t=>t?Ax(t):Ax);function TN(t,e){let n;try{n=t()}catch{return}return{getItem:a=>{var o;const u=d=>d===null?null:JSON.parse(d,void 0),h=(o=n.getItem(a))!=null?o:null;return h instanceof Promise?h.then(u):u(h)},setItem:(a,o)=>n.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>n.removeItem(a)}}const Yg=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(i){return Yg(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return Yg(i)(n)}}}},EN=(t,e)=>(n,i,a)=>{let o={storage:TN(()=>localStorage),partialize:O=>O,version:0,merge:(O,N)=>({...N,...O}),...e},u=!1,h=0;const d=new Set,m=new Set;let y=o.storage;if(!y)return t((...O)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...O)},i,a);const v=()=>{const O=o.partialize({...i()});return y.setItem(o.name,{state:O,version:o.version})},_=a.setState;a.setState=(O,N)=>(_(O,N),v());const E=t((...O)=>(n(...O),v()),i,a);a.getInitialState=()=>E;let k;const R=()=>{var O,N;if(!y)return;const U=++h;u=!1,d.forEach(ne=>{var se;return ne((se=i())!=null?se:E)});const V=((N=o.onRehydrateStorage)==null?void 0:N.call(o,(O=i())!=null?O:E))||void 0;return Yg(y.getItem.bind(y))(o.name).then(ne=>{if(ne)if(typeof ne.version=="number"&&ne.version!==o.version){if(o.migrate){const se=o.migrate(ne.state,ne.version);return se instanceof Promise?se.then(ce=>[!0,ce]):[!0,se]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ne.state];return[!1,void 0]}).then(ne=>{var se;if(U!==h)return;const[ce,I]=ne;if(k=o.merge(I,(se=i())!=null?se:E),n(k,!0),ce)return v()}).then(()=>{U===h&&(V?.(k,void 0),k=i(),u=!0,m.forEach(ne=>ne(k)))}).catch(ne=>{U===h&&V?.(void 0,ne)})};return a.persist={setOptions:O=>{o={...o,...O},O.storage&&(y=O.storage)},clearStorage:()=>{y?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>R(),hasHydrated:()=>u,onHydrate:O=>(d.add(O),()=>{d.delete(O)}),onFinishHydration:O=>(m.add(O),()=>{m.delete(O)})},o.skipHydration||R(),k||E},m1=EN,p1=f1(m1((t,e)=>({unlockedCards:["gita-1","yogasutra-1","upanishads-1"],adCredits:0,unlockCard:n=>t(i=>i.unlockedCards.includes(n)?i:{unlockedCards:[...i.unlockedCards,n]}),isUnlocked:n=>e().unlockedCards.includes(n),watchAd:()=>new Promise(n=>{console.log("Ad started..."),setTimeout(()=>{console.log("Ad finished!"),n(!0)},3e3)}),isFeedbackOpen:!1,toggleFeedback:()=>t(n=>({isFeedbackOpen:!n.isFeedbackOpen}))}),{name:"shloki-storage"})),SN=f1(m1(t=>({theme:"dark",toggleTheme:()=>t(e=>{const n=e.theme==="dark"?"light":"dark";return n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),{theme:n}}),initTheme:()=>{(JSON.parse(localStorage.getItem("shloki-theme"))?.state?.theme||"dark")==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}),{name:"shloki-theme"}));function Mr(){const{toggleFeedback:t}=p1(),{theme:e,toggleTheme:n,initTheme:i}=SN();return j.useEffect(()=>{i()},[]),w.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-spiritual-bg/95 backdrop-blur-md border-b border-black/5 dark:border-white/10 transition-all duration-300 h-14 md:h-20",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 h-full",children:w.jsxs("div",{className:"flex items-center justify-between h-full",children:[w.jsxs(On,{to:"/",className:"flex items-center gap-2 md:gap-3 group",children:[w.jsx("img",{src:"https://res.cloudinary.com/do0rlgy7c/image/upload/v1768768394/Shloki-logo_fi3hjj.png",alt:"Shloki Logo",className:"w-8 h-8 md:w-12 md:h-12 object-contain group-hover:scale-110 transition-transform duration-300 drop-shadow-lg"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"font-serif text-lg md:text-2xl font-bold text-parchment tracking-widest leading-none group-hover:text-saffron transition-colors",children:"SHLOKI"}),w.jsx("span",{className:"hidden md:block text-[9px] text-stone-500 uppercase tracking-[0.3em] font-medium group-hover:text-parchment-dim transition-colors",children:"Timeless Wisdom"})]})]}),w.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[w.jsx("button",{onClick:n,className:"w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center border border-black/10 dark:border-white/10 hover:bg-black/5 dark:hover:bg-white/5 text-parchment transition-all",children:e==="dark"?w.jsx(MD,{size:16,className:"md:w-[18px] md:h-[18px] text-saffron"}):w.jsx(TD,{size:16,className:"md:w-[18px] md:h-[18px] text-stone-600"})}),w.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-3 py-1.5 md:px-4 md:py-2 rounded-full border border-black/10 dark:border-white/10 hover:bg-black/5 dark:hover:bg-white/5 hover:border-saffron/30 transition-all group",children:[w.jsx(t1,{size:16,className:"text-saffron md:w-[18px]"}),w.jsx("span",{className:"hidden md:inline text-xs font-bold text-parchment uppercase tracking-wider",children:"FeedBack"})]}),w.jsx(On,{to:"/blog/gita-wisdom",className:"px-5 py-2 rounded-full border border-stone-700 text-[10px] md:text-xs font-bold text-stone-300 hover:text-white hover:border-saffron hover:bg-saffron/10 transition-all uppercase tracking-widest",children:"BLOGS"})]})]})})})}class Ic{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const AN=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},cn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:AN()},lv=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},kN=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=lv(t);cn.publicKey=n.publicKey,cn.blockHeadless=n.blockHeadless,cn.storageProvider=n.storageProvider,cn.blockList=n.blockList,cn.limitRate=n.limitRate,cn.origin=n.origin||e},g1=async(t,e,n={})=>{const i=await fetch(cn.origin+t,{method:"POST",headers:n,body:e}),a=await i.text(),o=new Ic(i.status,a);if(i.ok)return o;throw o},y1=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},RN=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},v1=t=>t.webdriver||!t.languages||t.languages.length===0,b1=()=>new Ic(451,"Unavailable For Headless Browser"),CN=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},IN=t=>!t.list?.length||!t.watchVariable,ON=(t,e)=>t instanceof FormData?t.get(e):t[e],w1=(t,e)=>{if(IN(t))return!1;CN(t.list,t.watchVariable);const n=ON(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},_1=()=>new Ic(403,"Forbidden"),DN=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},NN=async(t,e,n)=>{const i=Number(await n.get(t)||0);return e-Date.now()+i},x1=async(t,e,n)=>{if(!e.throttle||!n)return!1;DN(e.throttle,e.id);const i=e.id||t;return await NN(i,e.throttle,n)>0?!0:(await n.set(i,Date.now().toString()),!1)},T1=()=>new Ic(429,"Too Many Requests"),jN=async(t,e,n,i)=>{const a=lv(i),o=a.publicKey||cn.publicKey,u=a.blockHeadless||cn.blockHeadless,h=a.storageProvider||cn.storageProvider,d={...cn.blockList,...a.blockList},m={...cn.limitRate,...a.limitRate};return u&&v1(navigator)?Promise.reject(b1()):(y1(o,t,e),RN(n),n&&w1(d,n)?Promise.reject(_1()):await x1(location.pathname,m,h)?Promise.reject(T1()):g1("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},PN=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},VN=t=>typeof t=="string"?document.querySelector(t):t,MN=async(t,e,n,i)=>{const a=lv(i),o=a.publicKey||cn.publicKey,u=a.blockHeadless||cn.blockHeadless,h=cn.storageProvider||a.storageProvider,d={...cn.blockList,...a.blockList},m={...cn.limitRate,...a.limitRate};if(u&&v1(navigator))return Promise.reject(b1());const y=VN(n);y1(o,t,e),PN(y);const v=new FormData(y);return w1(d,v)?Promise.reject(_1()):await x1(location.pathname,m,h)?Promise.reject(T1()):(v.append("lib_version","4.4.1"),v.append("service_id",t),v.append("template_id",e),v.append("user_id",o),g1("/api/v1.0/email/send-form",v))},LN={init:kN,send:jN,sendForm:MN,EmailJSResponseStatus:Ic};function UN(){const[t,e]=j.useState(""),[n,i]=j.useState("idle"),a=o=>{if(o.preventDefault(),!t)return;i("loading");const u="service_md5qp7j",h="template_b7o0sbl",d="Xlew6X8s0ftsmndSo",m={user_email:t,message:"New Subscriber for Shloki Daily Wisdom!"};LN.send(u,h,m,d).then(()=>{i("success"),e(""),setTimeout(()=>i("idle"),3e3)}).catch(y=>{console.error("FAILED...",y),i("error"),setTimeout(()=>i("idle"),3e3)})};return w.jsxs("div",{className:"relative w-full max-w-4xl mx-auto mt-20 mb-12",children:[w.jsx("div",{className:"absolute inset-0 bg-saffron/5 blur-3xl rounded-full opacity-50 pointer-events-none"}),w.jsxs("div",{className:"relative bg-black/40 backdrop-blur-md border border-white/10 rounded-3xl p-8 md:p-12 overflow-hidden text-center group hover:border-saffron/30 transition-all duration-500",children:[w.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5",children:w.jsx(rl,{size:120})}),w.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[w.jsx("div",{className:"w-12 h-12 rounded-full bg-saffron/10 flex items-center justify-center text-saffron mb-6 border border-saffron/20 group-hover:scale-110 transition-transform",children:w.jsx(Fg,{size:24})}),w.jsxs("h3",{className:"font-serif text-2xl md:text-3xl text-parchment mb-3",children:["Start Your Morning with ",w.jsx("span",{className:"text-saffron",children:"Power"}),"."]}),w.jsx("p",{className:"text-stone-400 text-sm md:text-base mb-8 max-w-lg leading-relaxed",children:"Join the inner circle. Receive one powerful Shloka or Law of Power every morning. No spam, just pure strategy."}),w.jsxs("form",{onSubmit:a,className:"relative w-full max-w-md",children:[w.jsxs("div",{className:"relative flex items-center group/input",children:[w.jsx(Fg,{className:"absolute left-4 text-stone-500 w-5 h-5 group-focus-within/input:text-saffron transition-colors"}),w.jsx("input",{type:"email",placeholder:"Enter your email address",value:t,onChange:o=>e(o.target.value),disabled:n==="loading"||n==="success",className:"w-full bg-white/5 border border-white/10 rounded-full py-4 pl-12 pr-14 text-sm text-stone-200 placeholder:text-stone-600 focus:outline-none focus:border-saffron/50 focus:bg-black/50 transition-all disabled:opacity-50",required:!0}),w.jsx("button",{type:"submit",disabled:n==="loading"||n==="success",className:`absolute right-1.5 p-2.5 rounded-full transition-all duration-300 shadow-lg ${n==="success"?"bg-green-500 text-white shadow-green-500/20":n==="error"?"bg-red-500 text-white":"bg-saffron text-stone-900 hover:bg-white hover:scale-105 shadow-saffron/20"}`,children:n==="loading"?w.jsx(qg,{className:"w-5 h-5 animate-spin"}):n==="success"?w.jsx(QS,{className:"w-5 h-5"}):n==="error"?w.jsx(ZO,{className:"w-5 h-5"}):w.jsx(sl,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"h-6 mt-2 relative overflow-hidden",children:[n==="success"&&w.jsx("p",{className:"text-[12px] text-green-400 font-medium animate-fade-in-up",children:"Welcome to the circle. Check your inbox soon."}),n==="error"&&w.jsx("p",{className:"text-[12px] text-red-400 font-medium animate-fade-in-up",children:"Something went wrong. Please try again."})]})]})]})]})]})}function BN(){return w.jsx("footer",{className:"border-t border-black/5 dark:border-white/5 py-10 bg-spiritual-bg mt-auto",children:w.jsxs("div",{className:"max-w-6xl mx-auto px-6 flex flex-col items-center text-center",children:[w.jsxs("div",{className:"mb-6",children:[w.jsx("span",{className:"font-serif text-xl font-bold text-parchment tracking-widest",children:"SHLOKI"}),w.jsx("p",{className:"text-[10px] text-stone-500 uppercase tracking-[0.3em] mt-1",children:"Timeless Wisdom"})]}),w.jsxs("div",{className:"flex flex-wrap justify-center gap-6 md:gap-8 mb-8 text-xs font-bold uppercase tracking-widest text-stone-500",children:[w.jsx(On,{to:"/",className:"hover:text-saffron transition-colors",children:"Home"}),w.jsx(On,{to:"/library",className:"hover:text-saffron transition-colors",children:"Library"}),w.jsx(On,{to:"/privacy-policy",className:"hover:text-saffron transition-colors",children:"Privacy Policy"}),w.jsx(On,{to:"/about",className:"hover:text-saffron transition-colors",children:"About Us"}),w.jsx(On,{to:"/contact",className:"hover:text-saffron transition-colors",children:"Contact"})]}),w.jsxs("div",{className:"flex items-center gap-2 text-stone-600 text-sm",children:[w.jsxs("span",{children:[" ",new Date().getFullYear()," Shloki."]}),w.jsx("span",{className:"hidden md:inline",children:"Made with"}),w.jsx(ZS,{size:12,className:"text-saffron fill-saffron"}),w.jsx("span",{className:"hidden md:inline",children:"for peace."})]})]})})}function E1({book:t}){return t.comingSoon?w.jsxs("div",{className:"flex flex-row md:flex-col bg-stone-100 dark:bg-white/5 border border-stone-200 dark:border-white/5 rounded-xl overflow-hidden opacity-60 cursor-not-allowed relative grayscale select-none",children:[w.jsx("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-stone-100/10 dark:bg-black/20 backdrop-blur-[1px]",children:w.jsxs("div",{className:"bg-stone-900/90 text-white px-4 py-2 rounded-full flex items-center gap-2 shadow-xl border border-white/10",children:[w.jsx(e1,{size:14,className:"text-stone-400"}),w.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Coming Soon"})]})}),w.jsx("div",{className:"w-28 md:w-full h-auto md:h-96 relative flex-shrink-0 bg-stone-200 dark:bg-stone-900/50",children:w.jsx("img",{src:t.cover,alt:t.title,className:"w-full h-full object-contain p-4 opacity-50"})}),w.jsxs("div",{className:"flex-1 p-4 md:p-6 flex flex-col justify-center md:justify-start",children:[w.jsx("div",{className:"flex items-start justify-between mb-1 md:mb-2",children:w.jsx("h3",{className:"font-serif text-lg md:text-2xl font-bold text-stone-500 dark:text-stone-600 leading-tight",children:t.title})}),w.jsxs("p",{className:"text-[10px] md:text-xs text-stone-400 font-bold uppercase tracking-widest mb-2 md:mb-3 flex items-center gap-1",children:[w.jsx(JS,{size:10})," In Production"]}),w.jsx("p",{className:"text-stone-400 text-xs md:text-sm line-clamp-2 leading-relaxed",children:t.description})]})]}):w.jsxs(On,{to:`/book/${t.id}`,className:"group flex flex-row md:flex-col bg-white dark:bg-white/5 border border-stone-200 dark:border-white/10 rounded-xl overflow-hidden hover:border-saffron/40 transition-all duration-300 hover:-translate-y-1 shadow-sm dark:shadow-none",children:[w.jsxs("div",{className:"w-28 md:w-full h-auto md:h-96 relative overflow-hidden flex-shrink-0 bg-stone-100 dark:bg-stone-900",children:[w.jsx("div",{className:"absolute inset-0 bg-stone-200 dark:bg-stone-800 animate-pulse"}),w.jsx("img",{src:t.cover,alt:t.title,className:"w-full h-full object-contain p-2 transition-transform duration-700 group-hover:scale-105 opacity-90 group-hover:opacity-100 relative z-10"}),w.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity hidden md:flex items-center justify-center z-20",children:w.jsx("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 p-3 rounded-full text-white",children:w.jsx(hD,{size:20})})})]}),w.jsxs("div",{className:"flex-1 p-4 md:p-6 flex flex-col justify-center md:justify-start",children:[w.jsxs("div",{className:"flex items-start justify-between mb-1 md:mb-2",children:[w.jsx("h3",{className:"font-serif text-lg md:text-2xl font-bold text-stone-800 dark:text-parchment leading-tight",children:t.title}),w.jsx(sl,{size:16,className:"text-saffron -rotate-45 md:hidden opacity-50"})]}),w.jsx("p",{className:"text-[10px] md:text-xs text-saffron font-bold uppercase tracking-widest mb-2 md:mb-3",children:t.subtitle}),w.jsx("p",{className:"text-stone-500 dark:text-parchment-dim text-xs md:text-sm line-clamp-2 md:line-clamp-3 leading-relaxed",children:t.description}),w.jsxs("div",{className:"hidden md:flex items-center gap-2 mt-4 pt-4 border-t border-stone-100 dark:border-white/5 text-[10px] font-bold uppercase tracking-wider text-stone-400 dark:text-stone-500 group-hover:text-saffron transition-colors",children:[w.jsx("span",{children:"Open Flashcards"}),w.jsx(sl,{size:12})]})]})]})}const uv=j.createContext({});function cv(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const S1=typeof window<"u",A1=S1?j.useLayoutEffect:j.useEffect,wf=j.createContext(null);function hv(t,e){t.indexOf(e)===-1&&t.push(e)}function dv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const os=(t,e,n)=>n>e?e:n<t?t:n;let fv=()=>{};const js={},k1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function R1(t){return typeof t=="object"&&t!==null}const C1=t=>/^0[^.\s]+$/u.test(t);function mv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ui=t=>t,zN=(t,e)=>n=>e(t(n)),Oc=(...t)=>t.reduce(zN),ic=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class pv{constructor(){this.subscriptions=[]}add(e){return hv(this.subscriptions,e),()=>dv(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Os=t=>t*1e3,li=t=>t/1e3;function I1(t,e){return e?t*(1e3/e):0}const O1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qN=1e-7,FN=12;function $N(t,e,n,i,a){let o,u,h=0;do u=e+(n-e)/2,o=O1(u,i,a)-t,o>0?n=u:e=u;while(Math.abs(o)>qN&&++h<FN);return u}function Dc(t,e,n,i){if(t===e&&n===i)return ui;const a=o=>$N(o,0,1,t,n);return o=>o===0||o===1?o:O1(a(o),e,i)}const D1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,N1=t=>e=>1-t(1-e),j1=Dc(.33,1.53,.69,.99),gv=N1(j1),P1=D1(gv),V1=t=>(t*=2)<1?.5*gv(t):.5*(2-Math.pow(2,-10*(t-1))),yv=t=>1-Math.sin(Math.acos(t)),M1=N1(yv),L1=D1(yv),HN=Dc(.42,0,1,1),GN=Dc(0,0,.58,1),U1=Dc(.42,0,.58,1),KN=t=>Array.isArray(t)&&typeof t[0]!="number",B1=t=>Array.isArray(t)&&typeof t[0]=="number",YN={linear:ui,easeIn:HN,easeInOut:U1,easeOut:GN,circIn:yv,circInOut:L1,circOut:M1,backIn:gv,backInOut:P1,backOut:j1,anticipate:V1},WN=t=>typeof t=="string",kx=t=>{if(B1(t)){fv(t.length===4);const[e,n,i,a]=t;return Dc(e,n,i,a)}else if(WN(t))return YN[t];return t},bd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function QN(t,e){let n=new Set,i=new Set,a=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(m.schedule(y),t()),y(h)}const m={schedule:(y,v=!1,_=!1)=>{const k=_&&a?n:i;return v&&u.add(y),k.has(y)||k.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){o=!0;return}a=!0,[n,i]=[i,n],n.forEach(d),n.clear(),a=!1,o&&(o=!1,m.process(y))}};return m}const XN=40;function z1(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=bd.reduce((V,ne)=>(V[ne]=QN(o),V),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:y,update:v,preRender:_,render:E,postRender:k}=u,R=()=>{const V=js.useManualTiming?a.timestamp:performance.now();n=!1,js.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(V-a.timestamp,XN),1)),a.timestamp=V,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),y.process(a),v.process(a),_.process(a),E.process(a),k.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(R))},O=()=>{n=!0,i=!0,a.isProcessing||t(R)};return{schedule:bd.reduce((V,ne)=>{const se=u[ne];return V[ne]=(ce,I=!1,A=!1)=>(n||O(),se.schedule(ce,I,A)),V},{}),cancel:V=>{for(let ne=0;ne<bd.length;ne++)u[bd[ne]].cancel(V)},state:a,steps:u}}const{schedule:ht,cancel:Rr,state:ln,steps:rg}=z1(typeof requestAnimationFrame<"u"?requestAnimationFrame:ui,!0);let Pd;function JN(){Pd=void 0}const _n={now:()=>(Pd===void 0&&_n.set(ln.isProcessing||js.useManualTiming?ln.timestamp:performance.now()),Pd),set:t=>{Pd=t,queueMicrotask(JN)}},q1=t=>e=>typeof e=="string"&&e.startsWith(t),F1=q1("--"),ZN=q1("var(--"),vv=t=>ZN(t)?ej.test(t.split("/*")[0].trim()):!1,ej=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Rx(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const gl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sc={...gl,transform:t=>os(0,1,t)},wd={...gl,default:1},Fu=t=>Math.round(t*1e5)/1e5,bv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tj(t){return t==null}const nj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wv=(t,e)=>n=>!!(typeof n=="string"&&nj.test(n)&&n.startsWith(t)||e&&!tj(n)&&Object.prototype.hasOwnProperty.call(n,e)),$1=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,o,u,h]=i.match(bv);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},ij=t=>os(0,255,t),ag={...gl,transform:t=>Math.round(ij(t))},Ea={test:wv("rgb","red"),parse:$1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ag.transform(t)+", "+ag.transform(e)+", "+ag.transform(n)+", "+Fu(sc.transform(i))+")"};function sj(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Wg={test:wv("#"),parse:sj,transform:Ea.transform},Nc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),br=Nc("deg"),is=Nc("%"),ye=Nc("px"),rj=Nc("vh"),aj=Nc("vw"),Cx={...is,parse:t=>is.parse(t)/100,transform:t=>is.transform(t*100)},Ho={test:wv("hsl","hue"),parse:$1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+is.transform(Fu(e))+", "+is.transform(Fu(n))+", "+Fu(sc.transform(i))+")"},Bt={test:t=>Ea.test(t)||Wg.test(t)||Ho.test(t),parse:t=>Ea.test(t)?Ea.parse(t):Ho.test(t)?Ho.parse(t):Wg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ea.transform(t):Ho.transform(t),getAnimatableNone:t=>{const e=Bt.parse(t);return e.alpha=0,Bt.transform(e)}},oj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lj(t){return isNaN(t)&&typeof t=="string"&&(t.match(bv)?.length||0)+(t.match(oj)?.length||0)>0}const H1="number",G1="color",uj="var",cj="var(",Ix="${}",hj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let o=0;const h=e.replace(hj,d=>(Bt.test(d)?(i.color.push(o),a.push(G1),n.push(Bt.parse(d))):d.startsWith(cj)?(i.var.push(o),a.push(uj),n.push(d)):(i.number.push(o),a.push(H1),n.push(parseFloat(d))),++o,Ix)).split(Ix);return{values:n,split:h,indexes:i,types:a}}function K1(t){return rc(t).values}function Y1(t){const{split:e,types:n}=rc(t),i=e.length;return a=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],a[u]!==void 0){const h=n[u];h===H1?o+=Fu(a[u]):h===G1?o+=Bt.transform(a[u]):o+=a[u]}return o}}const dj=t=>typeof t=="number"?0:Bt.test(t)?Bt.getAnimatableNone(t):t;function fj(t){const e=K1(t);return Y1(t)(e.map(dj))}const Cr={test:lj,parse:K1,createTransformer:Y1,getAnimatableNone:fj};function og(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mj({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,o=0,u=0;if(!e)a=o=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=og(d,h,t+1/3),o=og(d,h,t),u=og(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function Gd(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,lg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},pj=[Wg,Ea,Ho],gj=t=>pj.find(e=>e.test(t));function Ox(t){const e=gj(t);if(!e)return!1;let n=e.parse(t);return e===Ho&&(n=mj(n)),n}const Dx=(t,e)=>{const n=Ox(t),i=Ox(e);if(!n||!i)return Gd(t,e);const a={...n};return o=>(a.red=lg(n.red,i.red,o),a.green=lg(n.green,i.green,o),a.blue=lg(n.blue,i.blue,o),a.alpha=gt(n.alpha,i.alpha,o),Ea.transform(a))},Qg=new Set(["none","hidden"]);function yj(t,e){return Qg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function vj(t,e){return n=>gt(t,e,n)}function _v(t){return typeof t=="number"?vj:typeof t=="string"?vv(t)?Gd:Bt.test(t)?Dx:_j:Array.isArray(t)?W1:typeof t=="object"?Bt.test(t)?Dx:bj:Gd}function W1(t,e){const n=[...t],i=n.length,a=t.map((o,u)=>_v(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)n[u]=a[u](o);return n}}function bj(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=_v(t[a])(t[a],e[a]));return a=>{for(const o in i)n[o]=i[o](a);return n}}function wj(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],u=t.indexes[o][i[o]],h=t.values[u]??0;n[a]=h,i[o]++}return n}const _j=(t,e)=>{const n=Cr.createTransformer(e),i=rc(t),a=rc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Qg.has(t)&&!a.values.length||Qg.has(e)&&!i.values.length?yj(t,e):Oc(W1(wj(i,a),a.values),n):Gd(t,e)};function Q1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):_v(t)(t,e)}const xj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>Rr(e),now:()=>ln.isProcessing?ln.timestamp:_n.now()}},X1=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let o=0;o<a;o++)i+=Math.round(t(o/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Kd=2e4;function xv(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Kd;)e+=n,i=t.next(e);return e>=Kd?1/0:e}function Tj(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(xv(i),Kd);return{type:"keyframes",ease:o=>i.next(a*o).value/e,duration:li(a)}}const Ej=5;function J1(t,e,n){const i=Math.max(e-Ej,0);return I1(n-t(i),e-i)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ug=.001;function Sj({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:i=Tt.mass}){let a,o,u=1-e;u=os(Tt.minDamping,Tt.maxDamping,u),t=os(Tt.minDuration,Tt.maxDuration,li(t)),u<1?(a=m=>{const y=m*u,v=y*t,_=y-n,E=Xg(m,u),k=Math.exp(-v);return ug-_/E*k},o=m=>{const v=m*u*t,_=v*n+n,E=Math.pow(u,2)*Math.pow(m,2)*t,k=Math.exp(-v),R=Xg(Math.pow(m,2),u);return(-a(m)+ug>0?-1:1)*((_-E)*k)/R}):(a=m=>{const y=Math.exp(-m*t),v=(m-n)*t+1;return-ug+y*v},o=m=>{const y=Math.exp(-m*t),v=(n-m)*(t*t);return y*v});const h=5/t,d=kj(a,o,h);if(t=Os(t),isNaN(d))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:t}}}const Aj=12;function kj(t,e,n){let i=n;for(let a=1;a<Aj;a++)i=i-t(i)/e(i);return i}function Xg(t,e){return t*Math.sqrt(1-e*e)}const Rj=["duration","bounce"],Cj=["stiffness","damping","mass"];function Nx(t,e){return e.some(n=>t[n]!==void 0)}function Ij(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!Nx(t,Cj)&&Nx(t,Rj))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,o=2*os(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Tt.mass,stiffness:a,damping:o}}else{const n=Sj(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function Yd(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:m,mass:y,duration:v,velocity:_,isResolvedFromDuration:E}=Ij({...n,velocity:-li(n.velocity||0)}),k=_||0,R=m/(2*Math.sqrt(d*y)),O=u-o,N=li(Math.sqrt(d/y)),U=Math.abs(O)<5;i||(i=U?Tt.restSpeed.granular:Tt.restSpeed.default),a||(a=U?Tt.restDelta.granular:Tt.restDelta.default);let V;if(R<1){const se=Xg(N,R);V=ce=>{const I=Math.exp(-R*N*ce);return u-I*((k+R*N*O)/se*Math.sin(se*ce)+O*Math.cos(se*ce))}}else if(R===1)V=se=>u-Math.exp(-N*se)*(O+(k+N*O)*se);else{const se=N*Math.sqrt(R*R-1);V=ce=>{const I=Math.exp(-R*N*ce),A=Math.min(se*ce,300);return u-I*((k+R*N*O)*Math.sinh(A)+se*O*Math.cosh(A))/se}}const ne={calculatedDuration:E&&v||null,next:se=>{const ce=V(se);if(E)h.done=se>=v;else{let I=se===0?k:0;R<1&&(I=se===0?Os(k):J1(V,se,ce));const A=Math.abs(I)<=i,D=Math.abs(u-ce)<=a;h.done=A&&D}return h.value=h.done?u:ce,h},toString:()=>{const se=Math.min(xv(ne),Kd),ce=X1(I=>ne.next(se*I).value,se,30);return se+"ms "+ce},toTransition:()=>{}};return ne}Yd.applyToOptions=t=>{const e=Tj(t,100,Yd);return t.ease=e.ease,t.duration=Os(e.duration),t.type="keyframes",t};function Jg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:d,restDelta:m=.5,restSpeed:y}){const v=t[0],_={done:!1,value:v},E=A=>h!==void 0&&A<h||d!==void 0&&A>d,k=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let R=n*e;const O=v+R,N=u===void 0?O:u(O);N!==O&&(R=N-v);const U=A=>-R*Math.exp(-A/i),V=A=>N+U(A),ne=A=>{const D=U(A),q=V(A);_.done=Math.abs(D)<=m,_.value=_.done?N:q};let se,ce;const I=A=>{E(_.value)&&(se=A,ce=Yd({keyframes:[_.value,k(_.value)],velocity:J1(V,A,_.value),damping:a,stiffness:o,restDelta:m,restSpeed:y}))};return I(0),{calculatedDuration:null,next:A=>{let D=!1;return!ce&&se===void 0&&(D=!0,ne(A),I(A)),se!==void 0&&A>=se?ce.next(A-se):(!D&&ne(A),_)}}}function Oj(t,e,n){const i=[],a=n||js.mix||Q1,o=t.length-1;for(let u=0;u<o;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||ui:e;h=Oc(d,h)}i.push(h)}return i}function Dj(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const o=t.length;if(fv(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=Oj(e,i,a),d=h.length,m=y=>{if(u&&y<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const _=ic(t[v],t[v+1],y);return h[v](_)};return n?y=>m(os(t[0],t[o-1],y)):m}function Nj(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=ic(0,e,i);t.push(gt(n,1,a))}}function jj(t){const e=[0];return Nj(e,t.length-1),e}function Pj(t,e){return t.map(n=>n*e)}function Vj(t,e){return t.map(()=>e||U1).splice(0,t.length-1)}function $u({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=KN(i)?i.map(kx):kx(i),o={done:!1,value:e[0]},u=Pj(n&&n.length===e.length?n:jj(e),t),h=Dj(u,e,{ease:Array.isArray(a)?a:Vj(e,a)});return{calculatedDuration:t,next:d=>(o.value=h(d),o.done=d>=t,o)}}const Mj=t=>t!==null;function Tv(t,{repeat:e,repeatType:n="loop"},i,a=1){const o=t.filter(Mj),h=a<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const Lj={decay:Jg,inertia:Jg,tween:$u,keyframes:$u,spring:Yd};function Z1(t){typeof t.type=="string"&&(t.type=Lj[t.type])}class Ev{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Uj=t=>t/100;class Sv extends Ev{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==_n.now()&&this.tick(_n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Z1(e);const{type:n=$u,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=e;let{keyframes:h}=e;const d=n||$u;d!==$u&&typeof h[0]!="number"&&(this.mixKeyframes=Oc(Uj,Q1(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=xv(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:y,repeat:v,repeatType:_,repeatDelay:E,type:k,onUpdate:R,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-m*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let V=this.currentTime,ne=i;if(v){const A=Math.min(this.currentTime,a)/h;let D=Math.floor(A),q=A%1;!q&&A>=1&&(q=1),q===1&&D--,D=Math.min(D,v+1),D%2&&(_==="reverse"?(q=1-q,E&&(q-=E/h)):_==="mirror"&&(ne=u)),V=os(0,1,q)*h}const se=U?{done:!1,value:y[0]}:ne.next(V);o&&(se.value=o(se.value));let{done:ce}=se;!U&&d!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return I&&k!==Jg&&(se.value=Tv(y,this.options,O,this.speed)),R&&R(se.value),I&&this.finish(),se}then(e,n){return this.finished.then(e,n)}get duration(){return li(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+li(e)}get time(){return li(this.currentTime)}set time(e){e=Os(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(_n.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=li(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=xj,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Bj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Sa=t=>t*180/Math.PI,Zg=t=>{const e=Sa(Math.atan2(t[1],t[0]));return ey(e)},zj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Zg,rotateZ:Zg,skewX:t=>Sa(Math.atan(t[1])),skewY:t=>Sa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ey=t=>(t=t%360,t<0&&(t+=360),t),jx=Zg,Px=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Vx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),qj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Px,scaleY:Vx,scale:t=>(Px(t)+Vx(t))/2,rotateX:t=>ey(Sa(Math.atan2(t[6],t[5]))),rotateY:t=>ey(Sa(Math.atan2(-t[2],t[0]))),rotateZ:jx,rotate:jx,skewX:t=>Sa(Math.atan(t[4])),skewY:t=>Sa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ty(t){return t.includes("scale")?1:0}function ny(t,e){if(!t||t==="none")return ty(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=qj,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=zj,a=h}if(!a)return ty(e);const o=i[e],u=a[1].split(",").map($j);return typeof o=="function"?o(u):u[o]}const Fj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ny(n,e)};function $j(t){return parseFloat(t.trim())}const yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vl=new Set(yl),Mx=t=>t===gl||t===ye,Hj=new Set(["x","y","z"]),Gj=yl.filter(t=>!Hj.has(t));function Kj(t){const e=[];return Gj.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const xr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ny(e,"x"),y:(t,{transform:e})=>ny(e,"y")};xr.translateX=xr.x;xr.translateY=xr.y;const Ra=new Set;let iy=!1,sy=!1,ry=!1;function eA(){if(sy){const t=Array.from(Ra).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=Kj(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([o,u])=>{i.getValue(o)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}sy=!1,iy=!1,Ra.forEach(t=>t.complete(ry)),Ra.clear()}function tA(){Ra.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sy=!0)})}function Yj(){ry=!0,tA(),eA(),ry=!1}class Av{constructor(e,n,i,a,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ra.add(this),iy||(iy=!0,ht.read(tA),ht.resolveKeyframes(eA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const o=a?.get(),u=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const h=i.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&o===void 0&&a.set(e[0])}Bj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ra.delete(this)}cancel(){this.state==="scheduled"&&(Ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Wj=t=>t.startsWith("--");function Qj(t,e,n){Wj(e)?t.style.setProperty(e,n):t.style[e]=n}const Xj=mv(()=>window.ScrollTimeline!==void 0),Jj={};function Zj(t,e){const n=mv(t);return()=>Jj[e]??n()}const nA=Zj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Lx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vu([0,.65,.55,1]),circOut:Vu([.55,0,1,.45]),backIn:Vu([.31,.01,.66,-.59]),backOut:Vu([.33,1.53,.69,.99])};function iA(t,e){if(t)return typeof t=="function"?nA()?X1(t,e):"ease-out":B1(t)?Vu(t):Array.isArray(t)?t.map(n=>iA(n,e)||Lx.easeOut):Lx[t]}function e4(t,e,n,{delay:i=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:d}={},m=void 0){const y={[e]:n};d&&(y.offset=d);const v=iA(h,a);Array.isArray(v)&&(y.easing=v);const _={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return m&&(_.pseudoElement=m),t.animate(y,_)}function sA(t){return typeof t=="function"&&"applyToOptions"in t}function t4({type:t,...e}){return sA(t)&&nA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class n4 extends Ev{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=e,fv(typeof e.type!="string");const m=t4(e);this.animation=e4(n,i,a,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=Tv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):Qj(n,i,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return li(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+li(e)}get time(){return li(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Os(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Xj()?(this.animation.timeline=e,ui):n(this)}}const rA={anticipate:V1,backInOut:P1,circInOut:L1};function i4(t){return t in rA}function s4(t){typeof t.ease=="string"&&i4(t.ease)&&(t.ease=rA[t.ease])}const cg=10;class r4 extends n4{constructor(e){s4(e),Z1(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:o,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Sv({...u,autoplay:!1}),d=Math.max(cg,_n.now()-this.startTime),m=os(0,cg,d-cg);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const Ux=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Cr.test(t)||t==="0")&&!t.startsWith("url("));function a4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function o4(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],u=Ux(a,e),h=Ux(o,e);return!u||!h?!1:a4(t)||(n==="spring"||sA(n))&&i}function ay(t){t.duration=0,t.type="keyframes"}const l4=new Set(["opacity","clipPath","filter","transform"]),u4=mv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function c4(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:o,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return u4()&&n&&l4.has(n)&&(n!=="transform"||!m)&&!d&&!i&&a!=="mirror"&&o!==0&&u!=="inertia"}const h4=40;class d4 extends Ev{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:d,motionValue:m,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=_n.now();const _={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:o,repeatType:u,name:d,motionValue:m,element:y,...v},E=y?.KeyframeResolver||Av;this.keyframeResolver=new E(h,(k,R,O)=>this.onKeyframesResolved(k,R,_,!O),d,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:d,isHandoff:m,onUpdate:y}=i;this.resolvedAt=_n.now(),o4(e,o,u,h)||((js.instantAnimations||!d)&&y?.(Tv(e,i,n)),e[0]=e[e.length-1],ay(i),i.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>h4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},E=!m&&c4(_),k=_.motionValue?.owner?.current,R=E?new r4({..._,element:k}):new Sv(_);R.finished.then(()=>{this.notifyFinished()}).catch(ui),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Yj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function aA(t,e,n,i=0,a=1){const o=Array.from(t).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*i;return typeof n=="function"?n(o,u):a===1?o*i:h-o*i}const f4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function m4(t){const e=f4.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function oA(t,e,n=1){const[i,a]=m4(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return k1(u)?parseFloat(u):u}return vv(a)?oA(a,e,n+1):a}const p4={type:"spring",stiffness:500,damping:25,restSpeed:10},g4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),y4={type:"keyframes",duration:.8},v4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b4=(t,{keyframes:e})=>e.length>2?y4:vl.has(t)?t.startsWith("scale")?g4(e[1]):p4:v4,w4=t=>t!==null;function _4(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(w4),o=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[o]}function kv(t,e){return t?.[e]??t?.default??t}function x4({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:h,from:d,elapsed:m,...y}){return!!Object.keys(y).length}const Rv=(t,e,n,i={},a,o)=>u=>{const h=kv(i,t)||{},d=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Os(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:o?void 0:a};x4(h)||Object.assign(y,b4(t,y)),y.duration&&(y.duration=Os(y.duration)),y.repeatDelay&&(y.repeatDelay=Os(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ay(y),y.delay===0&&(v=!0)),(js.instantAnimations||js.skipAnimations)&&(v=!0,ay(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!o&&e.get()!==void 0){const _=_4(y.keyframes,h);if(_!==void 0){ht.update(()=>{y.onUpdate(_),y.onComplete()});return}}return h.isSync?new Sv(y):new d4(y)};function Bx(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Cv(t,e,n,i){if(typeof e=="function"){const[a,o]=Bx(i);e=e(n!==void 0?n:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=Bx(i);e=e(n!==void 0?n:t.custom,a,o)}return e}function Jo(t,e,n){const i=t.getProps();return Cv(i,e,n!==void 0?n:i.custom,t)}const lA=new Set(["width","height","top","left","right","bottom",...yl]),zx=30,T4=t=>!isNaN(parseFloat(t));class E4{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=_n.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=_n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=T4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new pv);const i=this.events[e].add(n);return e==="change"?()=>{i(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=_n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zx);return I1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function al(t,e){return new E4(t,e)}const oy=t=>Array.isArray(t);function S4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,al(n))}function A4(t){return oy(t)?t[t.length-1]||0:t}function k4(t,e){const n=Jo(t,e);let{transitionEnd:i={},transition:a={},...o}=n||{};o={...o,...i};for(const u in o){const h=A4(o[u]);S4(t,u,h)}}const yn=t=>!!(t&&t.getVelocity);function R4(t){return!!(yn(t)&&t.add)}function ly(t,e){const n=t.getValue("willChange");if(R4(n))return n.add(e);if(!n&&js.WillChange){const i=new js.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Iv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const C4="framerAppearId",uA="data-"+Iv(C4);function cA(t){return t.props[uA]}function I4({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function hA(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(o=i);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),_=h[y];if(_===void 0||m&&I4(m,y))continue;const E={delay:n,...kv(o||{},y)},k=v.get();if(k!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===k&&!E.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const N=cA(t);if(N){const U=window.MotionHandoffAnimation(N,y,ht);U!==null&&(E.startTime=U,R=!0)}}ly(t,y),v.start(Rv(y,v,_,t.shouldReduceMotion&&lA.has(y)?{type:!1}:E,t,R));const O=v.animation;O&&d.push(O)}return u&&Promise.all(d).then(()=>{ht.update(()=>{u&&k4(t,u)})}),d}function uy(t,e,n={}){const i=Jo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(hA(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=a;return O4(t,e,d,m,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[o,u]:[u,o];return d().then(()=>m())}else return Promise.all([o(),u(n.delay)])}function O4(t,e,n=0,i=0,a=0,o=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(uy(d,e,{...u,delay:n+(typeof i=="function"?0:i)+aA(t.variantChildren,d,i,a,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function D4(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>uy(t,o,n));i=Promise.all(a)}else if(typeof e=="string")i=uy(t,e,n);else{const a=typeof e=="function"?Jo(t,e,n.custom):e;i=Promise.all(hA(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const N4={test:t=>t==="auto",parse:t=>t},dA=t=>e=>e.test(t),fA=[gl,ye,is,br,aj,rj,N4],qx=t=>fA.find(dA(t));function j4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||C1(t):!0}const P4=new Set(["brightness","contrast","saturate","opacity"]);function V4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(bv)||[];if(!i)return t;const a=n.replace(i,"");let o=P4.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+a+")"}const M4=/\b([a-z-]*)\(.*?\)/gu,cy={...Cr,getAnimatableNone:t=>{const e=t.match(M4);return e?e.map(V4).join(" "):t}},Fx={...gl,transform:Math.round},L4={rotate:br,rotateX:br,rotateY:br,rotateZ:br,scale:wd,scaleX:wd,scaleY:wd,scaleZ:wd,skew:br,skewX:br,skewY:br,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:sc,originX:Cx,originY:Cx,originZ:ye},Ov={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,inset:ye,insetBlock:ye,insetBlockStart:ye,insetBlockEnd:ye,insetInline:ye,insetInlineStart:ye,insetInlineEnd:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,paddingBlock:ye,paddingBlockStart:ye,paddingBlockEnd:ye,paddingInline:ye,paddingInlineStart:ye,paddingInlineEnd:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,marginBlock:ye,marginBlockStart:ye,marginBlockEnd:ye,marginInline:ye,marginInlineStart:ye,marginInlineEnd:ye,backgroundPositionX:ye,backgroundPositionY:ye,...L4,zIndex:Fx,fillOpacity:sc,strokeOpacity:sc,numOctaves:Fx},U4={...Ov,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:cy,WebkitFilter:cy},mA=t=>U4[t];function pA(t,e){let n=mA(t);return n!==cy&&(n=Cr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const B4=new Set(["auto","none","0"]);function z4(t,e,n){let i=0,a;for(;i<t.length&&!a;){const o=t[i];typeof o=="string"&&!B4.has(o)&&rc(o).values.length&&(a=t[i]),i++}if(a&&n)for(const o of e)t[o]=pA(n,a)}class q4 extends Av{constructor(e,n,i,a,o){super(e,n,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),vv(v))){const _=oA(v,n.current);_!==void 0&&(e[y]=_),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!lA.has(i)||e.length!==2)return;const[a,o]=e,u=qx(a),h=qx(o),d=Rx(a),m=Rx(o);if(d!==m&&xr[i]){this.needsMeasurement=!0;return}if(u!==h)if(Mx(u)&&Mx(h))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else xr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||j4(e[a]))&&i.push(a);i.length&&z4(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=xr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function F4(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const gA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function yA(t){return R1(t)&&"offsetHeight"in t}const{schedule:Dv}=z1(queueMicrotask,!1),Si={x:!1,y:!1};function vA(){return Si.x||Si.y}function $4(t){return t==="x"||t==="y"?Si[t]?null:(Si[t]=!0,()=>{Si[t]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}function bA(t,e){const n=F4(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function $x(t){return!(t.pointerType==="touch"||vA())}function H4(t,e,n={}){const[i,a,o]=bA(t,n),u=h=>{if(!$x(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const y=v=>{$x(v)&&(m(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),o}const wA=(t,e)=>e?t===e?!0:wA(t,e.parentElement):!1,Nv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,G4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _A(t){return G4.has(t.tagName)||t.isContentEditable===!0}const Vd=new WeakSet;function Hx(t){return e=>{e.key==="Enter"&&t(e)}}function hg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const K4=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Hx(()=>{if(Vd.has(n))return;hg(n,"down");const a=Hx(()=>{hg(n,"up")}),o=()=>hg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Gx(t){return Nv(t)&&!vA()}function Y4(t,e,n={}){const[i,a,o]=bA(t,n),u=h=>{const d=h.currentTarget;if(!Gx(h))return;Vd.add(d);const m=e(d,h),y=(E,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),Vd.has(d)&&Vd.delete(d),Gx(E)&&typeof m=="function"&&m(E,{success:k})},v=E=>{y(E,d===window||d===document||n.useGlobalTarget||wA(d,E.target))},_=E=>{y(E,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",_,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),yA(h)&&(h.addEventListener("focus",m=>K4(m,a)),!_A(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function xA(t){return R1(t)&&"ownerSVGElement"in t}function W4(t){return xA(t)&&t.tagName==="svg"}const Q4=[...fA,Bt,Cr],X4=t=>Q4.find(dA(t)),Kx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Go=()=>({x:Kx(),y:Kx()}),Yx=()=>({min:0,max:0}),Gt=()=>({x:Yx(),y:Yx()}),hy={current:null},TA={current:!1},J4=typeof window<"u";function Z4(){if(TA.current=!0,!!J4)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hy.current=t.matches;t.addEventListener("change",e),e()}else hy.current=!1}const eP=new WeakMap;function _f(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ac(t){return typeof t=="string"||Array.isArray(t)}const jv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pv=["initial",...jv];function xf(t){return _f(t.animate)||Pv.some(e=>ac(t[e]))}function EA(t){return!!(xf(t)||t.variants)}function tP(t,e,n){for(const i in e){const a=e[i],o=n[i];if(yn(a))t.addValue(i,a);else if(yn(o))t.addValue(i,al(a,{owner:t}));else if(o!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,al(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Wx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Wd={};function SA(t){Wd=t}function nP(){return Wd}class iP{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Av,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=_n.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,ht.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=xf(n),this.isVariantNode=EA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in v){const E=v[_];d[_]!==void 0&&yn(E)&&E.set(d[_])}}mount(e){this.current=e,eP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(TA.current||Z4(),this.shouldReduceMotion=hy.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=vl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ht.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wd){const n=Wd[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Wx.length;i++){const a=Wx[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=e[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=tP(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=al(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(k1(i)||C1(i))?i=parseFloat(i):!X4(i)&&Cr.test(n)&&(i=pA(e,n)),this.setBaseTarget(e,yn(i)?i.get():i)),yn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=Cv(this.props,n,this.presenceContext?.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!yn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new pv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Dv.render(this.render)}}class AA extends iP{constructor(){super(...arguments),this.KeyframeResolver=q4}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Lr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function kA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function sP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function dg(t){return t===void 0||t===1}function dy({scale:t,scaleX:e,scaleY:n}){return!dg(t)||!dg(e)||!dg(n)}function ba(t){return dy(t)||RA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function RA(t){return Qx(t.x)||Qx(t.y)}function Qx(t){return t&&t!=="0%"}function Qd(t,e,n){const i=t-n,a=e*i;return n+a}function Xx(t,e,n,i,a){return a!==void 0&&(t=Qd(t,a,i)),Qd(t,n,i)+e}function fy(t,e=0,n=1,i,a){t.min=Xx(t.min,e,n,i,a),t.max=Xx(t.max,e,n,i,a)}function CA(t,{x:e,y:n}){fy(t.x,e.translate,e.scale,e.originPoint),fy(t.y,n.translate,n.scale,n.originPoint)}const Jx=.999999999999,Zx=1.0000000000001;function aP(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,u;for(let h=0;h<a;h++){o=n[h],u=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Yo(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,CA(t,u)),i&&ba(o.latestValues)&&Yo(t,o.latestValues))}e.x<Zx&&e.x>Jx&&(e.x=1),e.y<Zx&&e.y>Jx&&(e.y=1)}function Ko(t,e){t.min=t.min+e,t.max=t.max+e}function eT(t,e,n,i,a=.5){const o=gt(t.min,t.max,a);fy(t,e,n,o,i)}function Yo(t,e){eT(t.x,e.x,e.scaleX,e.scale,e.originX),eT(t.y,e.y,e.scaleY,e.scale,e.originY)}function IA(t,e){return kA(rP(t.getBoundingClientRect(),e))}function oP(t,e,n){const i=IA(t,n),{scroll:a}=e;return a&&(Ko(i.x,a.offset.x),Ko(i.y,a.offset.y)),i}const lP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uP=yl.length;function cP(t,e,n){let i="",a=!0;for(let o=0;o<uP;o++){const u=yl[o],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=gA(h,Ov[u]);if(!d){a=!1;const y=lP[u]||u;i+=`${y}(${m}) `}n&&(e[u]=m)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Vv(t,e,n){const{style:i,vars:a,transformOrigin:o}=t;let u=!1,h=!1;for(const d in e){const m=e[d];if(vl.has(d)){u=!0;continue}else if(F1(d)){a[d]=m;continue}else{const y=gA(m,Ov[d]);d.startsWith("origin")?(h=!0,o[d]=y):i[d]=y}}if(e.transform||(u||n?i.transform=cP(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:y=0}=o;i.transformOrigin=`${d} ${m} ${y}`}}function OA(t,{style:e,vars:n},i,a){const o=t.style;let u;for(u in e)o[u]=e[u];a?.applyProjectionStyles(o,i);for(u in n)o.setProperty(u,n[u])}function tT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ju={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ye.test(t))t=parseFloat(t);else return t;const n=tT(t,e.target.x),i=tT(t,e.target.y);return`${n}% ${i}%`}},hP={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Cr.parse(t);if(a.length>5)return i;const o=Cr.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const m=gt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),o(a)}},my={borderRadius:{...ju,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ju,borderTopRightRadius:ju,borderBottomLeftRadius:ju,borderBottomRightRadius:ju,boxShadow:hP};function DA(t,{layout:e,layoutId:n}){return vl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!my[t]||t==="opacity")}function Mv(t,e,n){const i=t.style,a=e?.style,o={};if(!i)return o;for(const u in i)(yn(i[u])||a&&yn(a[u])||DA(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=i[u]);return o}function dP(t){return window.getComputedStyle(t)}class fP extends AA{constructor(){super(...arguments),this.type="html",this.renderInstance=OA}readValueFromInstance(e,n){if(vl.has(n))return this.projection?.isProjecting?ty(n):Fj(e,n);{const i=dP(e),a=(F1(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return IA(e,n)}build(e,n,i){Vv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Mv(e,n,i)}}const mP={offset:"stroke-dashoffset",array:"stroke-dasharray"},pP={offset:"strokeDashoffset",array:"strokeDasharray"};function gP(t,e,n=1,i=0,a=!0){t.pathLength=1;const o=a?mP:pP;t[o.offset]=ye.transform(-i);const u=ye.transform(e),h=ye.transform(n);t[o.array]=`${u} ${h}`}const yP=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function NA(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...h},d,m,y){if(Vv(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const E of yP)v[E]!==void 0&&(_[E]=v[E],delete v[E]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&gP(v,a,o,u,!1)}const jA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),PA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function vP(t,e,n,i){OA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(jA.has(a)?a:Iv(a),e.attrs[a])}function VA(t,e,n){const i=Mv(t,e,n);for(const a in t)if(yn(t[a])||yn(e[a])){const o=yl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=t[a]}return i}class bP extends AA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vl.has(n)){const i=mA(n);return i&&i.default||0}return n=jA.has(n)?n:Iv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return VA(e,n,i)}build(e,n,i){NA(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){vP(e,n,i,a)}mount(e){this.isSVGTag=PA(e.tagName),super.mount(e)}}const wP=Pv.length;function MA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?MA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<wP;n++){const i=Pv[n],a=t.props[i];(ac(a)||a===!1)&&(e[i]=a)}return e}function LA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const _P=[...jv].reverse(),xP=jv.length;function TP(t){return e=>Promise.all(e.map(({animation:n,options:i})=>D4(t,n,i)))}function EP(t){let e=TP(t),n=nT(),i=!0;const a=d=>(m,y)=>{const v=Jo(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:E,...k}=v;m={...m,...k,...E}}return m};function o(d){e=d(t)}function u(d){const{props:m}=t,y=MA(t.parent)||{},v=[],_=new Set;let E={},k=1/0;for(let O=0;O<xP;O++){const N=_P[O],U=n[N],V=m[N]!==void 0?m[N]:y[N],ne=ac(V),se=N===d?U.isActive:null;se===!1&&(k=O);let ce=V===y[N]&&V!==m[N]&&ne;if(ce&&i&&t.manuallyAnimateOnMount&&(ce=!1),U.protectedKeys={...E},!U.isActive&&se===null||!V&&!U.prevProp||_f(V)||typeof V=="boolean")continue;const I=SP(U.prevProp,V);let A=I||N===d&&U.isActive&&!ce&&ne||O>k&&ne,D=!1;const q=Array.isArray(V)?V:[V];let z=q.reduce(a(N),{});se===!1&&(z={});const{prevResolvedValues:H={}}=U,P={...H,...z},ae=$=>{A=!0,_.has($)&&(D=!0,_.delete($)),U.needsAnimating[$]=!0;const ee=t.getValue($);ee&&(ee.liveStyle=!1)};for(const $ in P){const ee=z[$],he=H[$];if(E.hasOwnProperty($))continue;let be=!1;oy(ee)&&oy(he)?be=!LA(ee,he):be=ee!==he,be?ee!=null?ae($):_.add($):ee!==void 0&&_.has($)?ae($):U.protectedKeys[$]=!0}U.prevProp=V,U.prevResolvedValues=z,U.isActive&&(E={...E,...z}),i&&t.blockInitialAnimation&&(A=!1);const X=ce&&I;A&&(!X||D)&&v.push(...q.map($=>{const ee={type:N};if(typeof $=="string"&&i&&!X&&t.manuallyAnimateOnMount&&t.parent){const{parent:he}=t,be=Jo(he,$);if(he.enteringChildren&&be){const{delayChildren:B}=be.transition||{};ee.delay=aA(he.enteringChildren,t,B)}}return{animation:$,options:ee}}))}if(_.size){const O={};if(typeof m.initial!="boolean"){const N=Jo(t,Array.isArray(m.initial)?m.initial[0]:m.initial);N&&N.transition&&(O.transition=N.transition)}_.forEach(N=>{const U=t.getBaseTarget(N),V=t.getValue(N);V&&(V.liveStyle=!0),O[N]=U??null}),v.push({animation:O})}let R=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(R=!1),i=!1,R?e(v):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,m)),n[d].isActive=m;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=nT()}}}function SP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LA(e,t):!1}function ga(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nT(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}function iT(t,e){t.min=e.min,t.max=e.max}function Ti(t,e){iT(t.x,e.x),iT(t.y,e.y)}function sT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const UA=1e-4,AP=1-UA,kP=1+UA,BA=.01,RP=0-BA,CP=0+BA;function xn(t){return t.max-t.min}function IP(t,e,n){return Math.abs(t-e)<=n}function rT(t,e,n,i=.5){t.origin=i,t.originPoint=gt(e.min,e.max,t.origin),t.scale=xn(n)/xn(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=AP&&t.scale<=kP||isNaN(t.scale))&&(t.scale=1),(t.translate>=RP&&t.translate<=CP||isNaN(t.translate))&&(t.translate=0)}function Hu(t,e,n,i){rT(t.x,e.x,n.x,i?i.originX:void 0),rT(t.y,e.y,n.y,i?i.originY:void 0)}function aT(t,e,n){t.min=n.min+e.min,t.max=t.min+xn(e)}function OP(t,e,n){aT(t.x,e.x,n.x),aT(t.y,e.y,n.y)}function oT(t,e,n){t.min=e.min-n.min,t.max=t.min+xn(e)}function Xd(t,e,n){oT(t.x,e.x,n.x),oT(t.y,e.y,n.y)}function lT(t,e,n,i,a){return t-=e,t=Qd(t,1/n,i),a!==void 0&&(t=Qd(t,1/a,i)),t}function DP(t,e=0,n=1,i=.5,a,o=t,u=t){if(is.test(e)&&(e=parseFloat(e),e=gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=gt(o.min,o.max,i);t===o&&(h-=e),t.min=lT(t.min,e,n,h,a),t.max=lT(t.max,e,n,h,a)}function uT(t,e,[n,i,a],o,u){DP(t,e[n],e[i],e[a],e.scale,o,u)}const NP=["x","scaleX","originX"],jP=["y","scaleY","originY"];function cT(t,e,n,i){uT(t.x,e,NP,n?n.x:void 0,i?i.x:void 0),uT(t.y,e,jP,n?n.y:void 0,i?i.y:void 0)}function hT(t){return t.translate===0&&t.scale===1}function zA(t){return hT(t.x)&&hT(t.y)}function dT(t,e){return t.min===e.min&&t.max===e.max}function PP(t,e){return dT(t.x,e.x)&&dT(t.y,e.y)}function fT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qA(t,e){return fT(t.x,e.x)&&fT(t.y,e.y)}function mT(t){return xn(t.x)/xn(t.y)}function pT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function si(t){return[t("x"),t("y")]}function VP(t,e,n){let i="";const a=t.x.translate/e.x,o=t.y.translate/e.y,u=n?.z||0;if((a||o||u)&&(i=`translate3d(${a}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:_,skewX:E,skewY:k}=n;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),_&&(i+=`rotateY(${_}deg) `),E&&(i+=`skewX(${E}deg) `),k&&(i+=`skewY(${k}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const FA=["TopLeft","TopRight","BottomLeft","BottomRight"],MP=FA.length,gT=t=>typeof t=="string"?parseFloat(t):t,yT=t=>typeof t=="number"||ye.test(t);function LP(t,e,n,i,a,o){a?(t.opacity=gt(0,n.opacity??1,UP(i)),t.opacityExit=gt(e.opacity??1,0,BP(i))):o&&(t.opacity=gt(e.opacity??1,n.opacity??1,i));for(let u=0;u<MP;u++){const h=`border${FA[u]}Radius`;let d=vT(e,h),m=vT(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||yT(d)===yT(m)?(t[h]=Math.max(gt(gT(d),gT(m),i),0),(is.test(m)||is.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,i))}function vT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const UP=$A(0,.5,M1),BP=$A(.5,.95,ui);function $A(t,e,n){return i=>i<t?0:i>e?1:n(ic(t,e,i))}function zP(t,e,n){const i=yn(t)?t:al(t);return i.start(Rv("",i,e,n)),i.animation}function oc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const qP=(t,e)=>t.depth-e.depth;class FP{constructor(){this.children=[],this.isDirty=!1}add(e){hv(this.children,e),this.isDirty=!0}remove(e){dv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qP),this.isDirty=!1,this.children.forEach(e)}}function $P(t,e){const n=_n.now(),i=({timestamp:a})=>{const o=a-n;o>=e&&(Rr(i),t(o-e))};return ht.setup(i,!0),()=>Rr(i)}function Md(t){return yn(t)?t.get():t}class HP{constructor(){this.members=[]}add(e){hv(this.members,e),e.scheduleRender()}remove(e){if(dv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ld={hasAnimatedSinceResize:!0,hasEverUpdated:!1},fg=["","X","Y","Z"],GP=1e3;let KP=0;function mg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function HA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(a||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&HA(i)}function GA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=KP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QP),this.nodes.forEach(eV),this.nodes.forEach(tV),this.nodes.forEach(XP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new FP)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new pv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=xA(u)&&!W4(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const _=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{v=window.innerWidth}),t(u,()=>{const E=window.innerWidth;E!==v&&(v=E,this.root.updateBlockedByResize=!0,y&&y(),y=$P(_,250),Ld.hasAnimatedSinceResize&&(Ld.hasAnimatedSinceResize=!1,this.nodes.forEach(_T)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||aV,{onLayoutAnimationStart:R,onLayoutAnimationComplete:O}=m.getProps(),N=!this.targetLayout||!qA(this.targetLayout,E),U=!v&&_;if(this.options.layoutRoot||this.resumeFrom||U||v&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...kv(k,"layout"),onPlay:R,onComplete:O};(m.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(y,U)}else v||_T(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nV),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(wT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ZP),this.nodes.forEach(YP),this.nodes.forEach(WP)):this.nodes.forEach(wT),this.clearAllSnapshots();const h=_n.now();ln.delta=os(0,1e3/60,h-ln.timestamp),ln.timestamp=h,ln.isProcessing=!0,rg.update.process(ln),rg.preRender.process(ln),rg.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Dv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JP),this.sharedNodes.forEach(iV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xn(this.snapshot.measuredBox.x)&&!xn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!zA(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||ba(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),oV(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Gt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(lV))){const{scroll:m}=this.root;m&&(Ko(h.x,m.offset.x),Ko(h.y,m.offset.y))}return h}removeElementScroll(u){const h=Gt();if(Ti(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ti(h,u),Ko(h.x,y.offset.x),Ko(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=Gt();Ti(d,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Yo(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ba(y.latestValues)&&Yo(d,y.latestValues)}return ba(this.latestValues)&&Yo(d,this.latestValues),d}removeTransform(u){const h=Gt();Ti(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!ba(m.latestValues))continue;dy(m.latestValues)&&m.updateSnapshot();const y=Gt(),v=m.measurePageBox();Ti(y,v),cT(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return ba(this.latestValues)&&cT(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=ln.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ti(this.target,this.layout.layoutBox),CA(this.target,this.targetDelta)):Ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||dy(this.parent.latestValues)||RA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),Xd(this.relativeTargetOrigin,h,d),Ti(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(d=!1),d)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Ti(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;aP(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Gt());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sT(this.prevProjectionDelta.x,this.projectionDelta.x),sT(this.prevProjectionDelta.y,this.projectionDelta.y)),Hu(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!pT(this.projectionDelta.x,this.prevProjectionDelta.x)||!pT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Go(),this.projectionDelta=Go(),this.projectionDeltaWithTransform=Go()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},y={...this.latestValues},v=Go();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=Gt(),E=d?d.source:void 0,k=this.layout?this.layout.source:void 0,R=E!==k,O=this.getStack(),N=!O||O.members.length<=1,U=!!(R&&!N&&this.options.crossfade===!0&&!this.path.some(rV));this.animationProgress=0;let V;this.mixTargetDelta=ne=>{const se=ne/1e3;xT(v.x,u.x,se),xT(v.y,u.y,se),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xd(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sV(this.relativeTarget,this.relativeTargetOrigin,_,se),V&&PP(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=Gt()),Ti(V,this.relativeTarget)),R&&(this.animationValues=y,LP(y,m,this.latestValues,se,U,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Ld.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=al(0)),this.currentAnimation=zP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:y}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&KA(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Gt();const v=xn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const _=xn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+_}Ti(h,d),Yo(h,y),Hu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new HP),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&mg("z",u,m,this.animationValues);for(let y=0;y<fg.length;y++)mg(`rotate${fg[y]}`,u,m,this.animationValues),mg(`skew${fg[y]}`,u,m,this.animationValues);u.render();for(const y in m)u.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Md(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Md(h?.pointerEvents)||""),this.hasProjected&&!ba(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=VP(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:_,y:E}=this.projectionDelta;u.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,m.animationValues?u.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const k in my){if(y[k]===void 0)continue;const{correct:R,applyTo:O,isCSSVariable:N}=my[k],U=v==="none"?y[k]:R(y[k],m);if(O){const V=O.length;for(let ne=0;ne<V;ne++)u[O[ne]]=U}else N?this.options.visualElement.renderState.vars[k]=U:u[k]=U}this.options.layoutId&&(u.pointerEvents=m===this?Md(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(bT),this.root.sharedNodes.clear()}}}function YP(t){t.updateLayout()}function WP(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?si(y=>{const v=o?e.measuredBox[y]:e.layoutBox[y],_=xn(v);v.min=n[y].min,v.max=v.min+_}):KA(a,e.layoutBox,n)&&si(y=>{const v=o?e.measuredBox[y]:e.layoutBox[y],_=xn(n[y]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+_)});const u=Go();Hu(u,n,e.layoutBox);const h=Go();o?Hu(h,t.applyTransform(i,!0),e.measuredBox):Hu(h,n,e.layoutBox);const d=!zA(u);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:_}=y;if(v&&_){const E=Gt();Xd(E,e.layoutBox,v.layoutBox);const k=Gt();Xd(k,n,_.layoutBox),qA(E,k)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=E,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function QP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function XP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function JP(t){t.clearSnapshot()}function bT(t){t.clearMeasurements()}function wT(t){t.isLayoutDirty=!1}function ZP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _T(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function eV(t){t.resolveTargetDelta()}function tV(t){t.calcProjection()}function nV(t){t.resetSkewAndRotation()}function iV(t){t.removeLeadSnapshot()}function xT(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function TT(t,e,n,i){t.min=gt(e.min,n.min,i),t.max=gt(e.max,n.max,i)}function sV(t,e,n,i){TT(t.x,e.x,n.x,i),TT(t.y,e.y,n.y,i)}function rV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const aV={duration:.45,ease:[.4,0,.1,1]},ET=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ST=ET("applewebkit/")&&!ET("chrome/")?Math.round:ui;function AT(t){t.min=ST(t.min),t.max=ST(t.max)}function oV(t){AT(t.x),AT(t.y)}function KA(t,e,n){return t==="position"||t==="preserve-aspect"&&!IP(mT(e),mT(n),.2)}function lV(t){return t!==t.root&&t.scroll?.wasRoot}const uV=GA({attachResizeListener:(t,e)=>oc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pg={current:void 0},YA=GA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pg.current){const t=new uV({});t.mount(window),t.setOptions({layoutScroll:!0}),pg.current=t}return pg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Lv=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function kT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cV(...t){return e=>{let n=!1;const i=t.map(a=>{const o=kT(a,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<i.length;a++){const o=i[a];typeof o=="function"?o():kT(t[a],null)}}}}function hV(...t){return j.useCallback(cV(...t),t)}class dV extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=yA(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fV({children:t,isPresent:e,anchorX:n,root:i}){const a=j.useId(),o=j.useRef(null),u=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=j.useContext(Lv),d=t.props?.ref??t?.ref,m=hV(o,d);return j.useInsertionEffect(()=>{const{width:y,height:v,top:_,left:E,right:k}=u.current;if(e||!o.current||!y||!v)return;const R=n==="left"?`left: ${E}`:`right: ${k}`;o.current.dataset.motionPopId=a;const O=document.createElement("style");h&&(O.nonce=h);const N=i??document.head;return N.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${R}px !important;
            top: ${_}px !important;
          }
        `),()=>{N.contains(O)&&N.removeChild(O)}},[e]),w.jsx(dV,{isPresent:e,childRef:o,sizeRef:u,children:j.cloneElement(t,{ref:m})})}const mV=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:u,anchorX:h,root:d})=>{const m=cv(pV),y=j.useId();let v=!0,_=j.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:E=>{m.set(E,!0);for(const k of m.values())if(!k)return;i&&i()},register:E=>(m.set(E,!1),()=>m.delete(E))}),[n,m,i]);return o&&v&&(_={..._}),j.useMemo(()=>{m.forEach((E,k)=>m.set(k,!1))},[n]),j.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),u==="popLayout"&&(t=w.jsx(fV,{isPresent:n,anchorX:h,root:d,children:t})),w.jsx(wf.Provider,{value:_,children:t})};function pV(){return new Map}function WA(t=!0){const e=j.useContext(wf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,o=j.useId();j.useEffect(()=>{if(t)return a(o)},[t]);const u=j.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,u]:[!0]}const _d=t=>t.key||"";function RT(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const gV=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[m,y]=WA(u),v=j.useMemo(()=>RT(t),[t]),_=u&&!m?[]:v.map(_d),E=j.useRef(!0),k=j.useRef(v),R=cv(()=>new Map),O=j.useRef(new Set),[N,U]=j.useState(v),[V,ne]=j.useState(v);A1(()=>{E.current=!1,k.current=v;for(let I=0;I<V.length;I++){const A=_d(V[I]);_.includes(A)?(R.delete(A),O.current.delete(A)):R.get(A)!==!0&&R.set(A,!1)}},[V,_.length,_.join("-")]);const se=[];if(v!==N){let I=[...v];for(let A=0;A<V.length;A++){const D=V[A],q=_d(D);_.includes(q)||(I.splice(A,0,D),se.push(D))}return o==="wait"&&se.length&&(I=se),ne(RT(I)),U(v),null}const{forceRender:ce}=j.useContext(uv);return w.jsx(w.Fragment,{children:V.map(I=>{const A=_d(I),D=u&&!m?!1:v===V||_.includes(A),q=()=>{if(O.current.has(A))return;if(O.current.add(A),R.has(A))R.set(A,!0);else return;let z=!0;R.forEach(H=>{H||(z=!1)}),z&&(ce?.(),ne(k.current),u&&y?.(),i&&i())};return w.jsx(mV,{isPresent:D,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,root:d,onExitComplete:D?void 0:q,anchorX:h,children:I},A)})})},QA=j.createContext({strict:!1}),CT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let IT=!1;function yV(){if(IT)return;const t={};for(const e in CT)t[e]={isEnabled:n=>CT[e].some(i=>!!n[i])};SA(t),IT=!0}function XA(){return yV(),nP()}function vV(t){const e=XA();for(const n in t)e[n]={...e[n],...t[n]};SA(e)}const bV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||bV.has(t)}let JA=t=>!Jd(t);function wV(t){typeof t=="function"&&(JA=e=>e.startsWith("on")?!Jd(e):t(e))}try{wV(require("@emotion/is-prop-valid").default)}catch{}function _V(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(JA(a)||n===!0&&Jd(a)||!e&&!Jd(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Tf=j.createContext({});function xV(t,e){if(xf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||ac(n)?n:void 0,animate:ac(i)?i:void 0}}return t.inherit!==!1?e:{}}function TV(t){const{initial:e,animate:n}=xV(t,j.useContext(Tf));return j.useMemo(()=>({initial:e,animate:n}),[OT(e),OT(n)])}function OT(t){return Array.isArray(t)?t.join(" "):t}const Uv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZA(t,e,n){for(const i in e)!yn(e[i])&&!DA(i,n)&&(t[i]=e[i])}function EV({transformTemplate:t},e){return j.useMemo(()=>{const n=Uv();return Vv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function SV(t,e){const n=t.style||{},i={};return ZA(i,n,t),Object.assign(i,EV(t,e)),i}function AV(t,e){const n={},i=SV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const ek=()=>({...Uv(),attrs:{}});function kV(t,e,n,i){const a=j.useMemo(()=>{const o=ek();return NA(o,e,PA(i),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};ZA(o,t.style,t),a.style={...o,...a.style}}return a}const RV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bv(t){return typeof t!="string"||t.includes("-")?!1:!!(RV.indexOf(t)>-1||/[A-Z]/u.test(t))}function CV(t,e,n,{latestValues:i},a,o=!1,u){const d=(u??Bv(t)?kV:AV)(e,i,a,t),m=_V(e,typeof t=="string",o),y=t!==j.Fragment?{...m,...d,ref:n}:{},{children:v}=e,_=j.useMemo(()=>yn(v)?v.get():v,[v]);return j.createElement(t,{...y,children:_})}function IV({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:OV(n,i,a,t),renderState:e()}}function OV(t,e,n,i){const a={},o=i(t,{});for(const _ in o)a[_]=Md(o[_]);let{initial:u,animate:h}=t;const d=xf(t),m=EA(t);e&&m&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!_f(v)){const _=Array.isArray(v)?v:[v];for(let E=0;E<_.length;E++){const k=Cv(t,_[E]);if(k){const{transitionEnd:R,transition:O,...N}=k;for(const U in N){let V=N[U];if(Array.isArray(V)){const ne=y?V.length-1:0;V=V[ne]}V!==null&&(a[U]=V)}for(const U in R)a[U]=R[U]}}}return a}const tk=t=>(e,n)=>{const i=j.useContext(Tf),a=j.useContext(wf),o=()=>IV(t,e,i,a);return n?o():cv(o)},DV=tk({scrapeMotionValuesFromProps:Mv,createRenderState:Uv}),NV=tk({scrapeMotionValuesFromProps:VA,createRenderState:ek}),jV=Symbol.for("motionComponentSymbol");function PV(t,e,n){const i=j.useRef(n);j.useInsertionEffect(()=>{i.current=n});const a=j.useRef(null);return j.useCallback(o=>{o&&t.onMount?.(o),e&&(o?e.mount(o):e.unmount());const u=i.current;if(typeof u=="function")if(o){const h=u(o);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(o);else u&&(u.current=o)},[e])}const nk=j.createContext({});function Mu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function VV(t,e,n,i,a,o){const{visualElement:u}=j.useContext(Tf),h=j.useContext(QA),d=j.useContext(wf),m=j.useContext(Lv).reducedMotion,y=j.useRef(null);i=i||h.renderer,!y.current&&i&&(y.current=i(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,isSVG:o}));const v=y.current,_=j.useContext(nk);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&MV(y.current,n,a,_);const E=j.useRef(!1);j.useInsertionEffect(()=>{v&&E.current&&v.update(n,d)});const k=n[uA],R=j.useRef(!!k&&!window.MotionHandoffIsComplete?.(k)&&window.MotionHasOptimisedAnimation?.(k));return A1(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),R.current&&v.animationState&&v.animationState.animateChanges())}),j.useEffect(()=>{v&&(!R.current&&v.animationState&&v.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(k)}),R.current=!1),v.enteringChildren=void 0)}),v}function MV(t,e,n,i){const{layoutId:a,layout:o,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ik(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||h&&Mu(h),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:d,layoutRoot:m})}function ik(t){if(t)return t.options.allowProjection!==!1?t.projection:ik(t.parent)}function gg(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&vV(i);const o=n?n==="svg":Bv(t),u=o?NV:DV;function h(m,y){let v;const _={...j.useContext(Lv),...m,layoutId:LV(m)},{isStatic:E}=_,k=TV(m),R=u(m,E);if(!E&&S1){UV();const O=BV(_);v=O.MeasureLayout,k.visualElement=VV(t,R,_,a,O.ProjectionNode,o)}return w.jsxs(Tf.Provider,{value:k,children:[v&&k.visualElement?w.jsx(v,{visualElement:k.visualElement,..._}):null,CV(t,m,PV(R,k.visualElement,y),R,E,e,o)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=j.forwardRef(h);return d[jV]=t,d}function LV({layoutId:t}){const e=j.useContext(uv).id;return e&&t!==void 0?e+"-"+t:t}function UV(t,e){j.useContext(QA).strict}function BV(t){const e=XA(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function zV(t,e){if(typeof Proxy>"u")return gg;const n=new Map,i=(o,u)=>gg(o,u,t,e),a=(o,u)=>i(o,u);return new Proxy(a,{get:(o,u)=>u==="create"?i:(n.has(u)||n.set(u,gg(u,void 0,t,e)),n.get(u))})}const qV=(t,e)=>e.isSVG??Bv(t)?new bP(e):new fP(e,{allowProjection:t!==j.Fragment});class FV extends Lr{constructor(e){super(e),e.animationState||(e.animationState=EP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_f(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $V=0;class HV extends Lr{constructor(){super(...arguments),this.id=$V++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const GV={animation:{Feature:FV},exit:{Feature:HV}};function jc(t){return{point:{x:t.pageX,y:t.pageY}}}const KV=t=>e=>Nv(e)&&t(e,jc(e));function Gu(t,e,n,i){return oc(t,e,KV(n),i)}const sk=({current:t})=>t?t.ownerDocument.defaultView:null,DT=(t,e)=>Math.abs(t-e);function YV(t,e){const n=DT(t.x,e.x),i=DT(t.y,e.y);return Math.sqrt(n**2+i**2)}const NT=new Set(["auto","scroll"]);class rk{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=E=>{this.handleScroll(E.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=vg(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,R=YV(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!R)return;const{point:O}=E,{timestamp:N}=ln;this.history.push({...O,timestamp:N});const{onStart:U,onMove:V}=this.handlers;k||(U&&U(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,E)},this.handlePointerMove=(E,k)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=yg(k,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(E,k)=>{this.end();const{onEnd:R,onSessionEnd:O,resumeAnimation:N}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=vg(E.type==="pointercancel"?this.lastMoveEventInfo:yg(k,this.transformPagePoint),this.history);this.startEvent&&R&&R(E,U),O&&O(E,U)},!Nv(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const d=jc(e),m=yg(d,this.transformPagePoint),{point:y}=m,{timestamp:v}=ln;this.history=[{...y,timestamp:v}];const{onSessionStart:_}=n;_&&_(e,vg(m,this.history)),this.removeListeners=Oc(Gu(this.contextWindow,"pointermove",this.handlePointerMove),Gu(this.contextWindow,"pointerup",this.handlePointerUp),Gu(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(NT.has(i.overflowX)||NT.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:a.x-n.x,y:a.y-n.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,a),ht.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Rr(this.updatePoint)}}function yg(t,e){return e?{point:e(t.point)}:t}function jT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vg({point:t},e){return{point:t,delta:jT(t,ak(e)),offset:jT(t,WV(e)),velocity:QV(e,.1)}}function WV(t){return t[0]}function ak(t){return t[t.length-1]}function QV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=ak(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Os(e)));)n--;if(!i)return{x:0,y:0};const o=li(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function XV(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?gt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?gt(n,t,i.max):Math.min(t,n)),t}function PT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function JV(t,{top:e,left:n,bottom:i,right:a}){return{x:PT(t.x,n,a),y:PT(t.y,e,i)}}function VT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function ZV(t,e){return{x:VT(t.x,e.x),y:VT(t.y,e.y)}}function eM(t,e){let n=.5;const i=xn(t),a=xn(e);return a>i?n=ic(e.min,e.max-i,t.min):i>a&&(n=ic(t.min,t.max-a,e.min)),os(0,1,n)}function tM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const py=.35;function nM(t=py){return t===!1?t=0:t===!0&&(t=py),{x:MT(t,"left","right"),y:MT(t,"top","bottom")}}function MT(t,e,n){return{min:LT(t,e),max:LT(t,n)}}function LT(t,e){return typeof t=="number"?t:t[e]||0}const iM=new WeakMap;class sM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=v=>{n?(this.stopAnimation(),this.snapToCursor(jc(v).point)):this.pauseAnimation()},u=(v,_)=>{this.stopAnimation();const{drag:E,dragPropagation:k,onDragStart:R}=this.getProps();if(E&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$4(E),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(N=>{let U=this.getAxisMotionValue(N).get()||0;if(is.test(U)){const{projection:V}=this.visualElement;if(V&&V.layout){const ne=V.layout.layoutBox[N];ne&&(U=xn(ne)*(parseFloat(U)/100))}}this.originPoint[N]=U}),R&&ht.postRender(()=>R(v,_)),ly(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:E,dragDirectionLock:k,onDirectionLock:R,onDrag:O}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:N}=_;if(k&&this.currentDirection===null){this.currentDirection=rM(N),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",_.point,N),this.updateAxis("y",_.point,N),this.visualElement.render(),O&&O(v,_)},d=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>si(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new rk(e,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:sk(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&ht.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!xd(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=XV(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Mu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=JV(i.layoutBox,e):this.constraints=!1,this.elastic=nM(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&si(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=tM(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Mu(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=oP(i,a.root,this.visualElement.getTransformPagePoint());let u=ZV(a.layout.layoutBox,o);if(n){const h=n(sP(u));this.hasMutatedConstraints=!!h,h&&(u=kA(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=si(y=>{if(!xd(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const _=a?200:1e6,E=a?40:1e7,k={type:"inertia",velocity:i?e[y]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(y,k)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return ly(this.visualElement,e),i.start(Rv(e,i,0,n,this.visualElement,!1))}stopAnimation(){si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){si(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){si(n=>{const{drag:i}=this.getProps();if(!xd(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n],d=o.get()||0;o.set(e[n]-gt(u,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Mu(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};si(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=eM({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),si(u=>{if(!xd(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];h.set(gt(d,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;iM.set(this.visualElement,this);const e=this.visualElement.current,n=Gu(e,"pointerdown",d=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&!_A(d.target)&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Mu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ht.read(i);const u=oc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(si(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=py,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function xd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function rM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class aM extends Lr{constructor(e){super(e),this.removeGroupControls=ui,this.removeListeners=ui,this.controls=new sM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ui}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const UT=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class oM extends Lr{constructor(){super(...arguments),this.removePointerDownListener=ui}onPointerDown(e){this.session=new rk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:UT(e),onStart:UT(n),onMove:i,onEnd:(o,u)=>{delete this.session,a&&ht.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=Gu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let bg=!1;class lM extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),i&&i.register&&a&&i.register(o),bg&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ld.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,bg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||ht.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Dv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;bg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ok(t){const[e,n]=WA(),i=j.useContext(uv);return w.jsx(lM,{...t,layoutGroup:i,switchLayoutGroup:j.useContext(nk),isPresent:e,safeToRemove:n})}const uM={pan:{Feature:oM},drag:{Feature:aM,ProjectionNode:YA,MeasureLayout:ok}};function BT(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=i[a];o&&ht.postRender(()=>o(e,jc(e)))}class cM extends Lr{mount(){const{current:e}=this.node;e&&(this.unmount=H4(e,(n,i)=>(BT(this.node,i,"Start"),a=>BT(this.node,a,"End"))))}unmount(){}}class hM extends Lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oc(oc(this.node.current,"focus",()=>this.onFocus()),oc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zT(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=i[a];o&&ht.postRender(()=>o(e,jc(e)))}class dM extends Lr{mount(){const{current:e}=this.node;e&&(this.unmount=Y4(e,(n,i)=>(zT(this.node,i,"Start"),(a,{success:o})=>zT(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gy=new WeakMap,wg=new WeakMap,fM=t=>{const e=gy.get(t.target);e&&e(t)},mM=t=>{t.forEach(fM)};function pM({root:t,...e}){const n=t||document;wg.has(n)||wg.set(n,{});const i=wg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(mM,{root:t,...e})),i[a]}function gM(t,e,n){const i=pM(e);return gy.set(t,n),i.observe(t),()=>{gy.delete(t),i.unobserve(t)}}const yM={some:0,all:1};class vM extends Lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:o}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:yM[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),_=m?y:v;_&&_(d)};return gM(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(bM(e,n))&&this.startObserver()}unmount(){}}function bM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wM={inView:{Feature:vM},tap:{Feature:dM},focus:{Feature:hM},hover:{Feature:cM}},_M={layout:{ProjectionNode:YA,MeasureLayout:ok}},xM={...GV,...wM,...uM,..._M},yy=zV(xM,qV),TM=()=>{const[t,e]=j.useState(!1),[n,i]=j.useState([]);j.useEffect(()=>{const h=()=>{const d=window.speechSynthesis.getVoices();d.length>0&&i(d)};return h(),window.speechSynthesis.onvoiceschanged!==void 0&&(window.speechSynthesis.onvoiceschanged=h),()=>window.speechSynthesis.cancel()},[]);const a=h=>h?h.replace(/[|.\-]/g," ").replace(/\n/g," ").replace(/\s+/g," ").trim():"";return{speak:j.useCallback((h,d)=>{if(!("speechSynthesis"in window))return;window.speechSynthesis.cancel();const m=a(h);if(!m)return;const y=new SpeechSynthesisUtterance(m);let v=n;v.length===0&&(v=window.speechSynthesis.getVoices());let _=null,E=d;if(d==="sa-IN"&&(E="hi-IN"),d==="mr-IN"){const k=v.find(R=>R.lang.includes("mr")||R.lang.includes("mar"));k?_=k:(console.warn("No Marathi voice found. Switching to Hindi to prevent 'Dot Dot' error."),E="hi-IN")}if(!_){const k=v.filter(R=>R.lang.includes(E));_=k.find(R=>R.name.includes("Google"))||k.find(R=>R.name.includes("Lekha"))||k.find(R=>R.name.includes("Hemant"))||k.find(R=>R.name.includes("Samantha"))||k[0]}_?(y.voice=_,y.lang=_.lang):y.lang=E,y.rate=.9,y.pitch=1,y.onstart=()=>e(!0),y.onend=()=>e(!1),y.onerror=k=>{console.error("Speech Error:",k),e(!1)},window.speechSynthesis.speak(y)},[n]),stop:()=>{window.speechSynthesis.cancel(),e(!1)},isSpeaking:t}};function lk({data:t,bookId:e}){const[n,i]=j.useState(!1),[a,o]=j.useState("en"),{speak:u,stop:h,isSpeaking:d}=TM(),m=e==="48laws";if(!t)return null;j.useEffect(()=>{i(!1),o("en"),h()},[t.id]);const y=()=>{switch(a){case"hi":return t.translation_hi||"Translation coming soon...";case"mr":return t.translation_mr||"Translation coming soon...";default:return t.translation}},v=()=>{switch(a){case"hi":return"hi-IN";case"mr":return"mr-IN";default:return"en-US"}},_=y(),E=(R,O,N)=>{R.stopPropagation();try{d?h():u(O,N)}catch(U){console.error("Audio playback error:",U)}},k=R=>R?R.split(`
`).map((N,U)=>N.includes(":")&&N.length<50?w.jsx("h4",{className:"font-serif text-saffron text-xl md:text-2xl font-bold mt-6 mb-3 border-b border-white/10 pb-2",children:N},U):N.trim().startsWith("")?w.jsxs("div",{className:"flex items-start gap-3 mb-3 pl-1",children:[w.jsx("span",{className:"text-saffron mt-2 text-[8px] shrink-0",children:""}),w.jsx("p",{className:"text-stone-200 text-lg md:text-xl leading-relaxed text-left",children:N.replace("","").trim()})]},U):w.jsx("p",{className:"text-stone-200 text-lg md:text-xl mb-4 text-left leading-relaxed",children:N},U)):w.jsx("p",{className:"text-stone-500 italic",children:"No text available."});return w.jsx("div",{className:"perspective-1000 w-[90vw] h-[80vh] md:w-full md:max-w-3xl md:h-[650px] relative mt-4 cursor-pointer group mx-auto mb-4",onClick:()=>{i(!n),h()},children:w.jsxs(yy.div,{className:"w-full h-full relative preserve-3d transition-all duration-700",animate:{rotateY:n?180:0},transition:{type:"spring",stiffness:260,damping:20},style:{transformStyle:"preserve-3d"},children:[w.jsxs("div",{className:`absolute inset-0 backface-hidden rounded-2xl bg-[#f5f5f0] text-stone-900 shadow-2xl border-r-4 md:border-r-8 border-b-4 border-stone-300 overflow-hidden flex flex-col ${n?"pointer-events-none":"pointer-events-auto"}`,style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:[w.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/aged-paper.png')] pointer-events-none"}),w.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-start z-20 h-24",children:[w.jsx("div",{className:"text-stone-400 opacity-50",children:m?w.jsx(sD,{size:28}):w.jsx(Cc,{size:28})}),w.jsx("div",{className:"flex items-center gap-2 px-4 py-1.5 rounded-full border border-stone-300 bg-stone-100/80 backdrop-blur-sm shadow-sm",children:w.jsx("span",{className:"text-xs md:text-sm font-bold text-stone-600 uppercase tracking-widest",children:t.chapter})})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col items-center justify-center p-6 md:p-12 mt-10 mb-10 z-10 custom-scrollbar w-full",children:[w.jsx("span",{className:"text-amber-700/60 text-xs font-bold tracking-[0.3em] uppercase mb-6 shrink-0",children:m?"Strategy":"Original Text"}),w.jsx("h2",{className:"font-serif text-3xl sm:text-4xl md:text-5xl leading-tight font-bold text-stone-800 mb-8 drop-shadow-sm whitespace-pre-line text-center w-full px-4",children:t.sanskrit}),w.jsxs("button",{onClick:R=>E(R,t.sanskrit,"sa-IN"),className:"flex items-center gap-3 px-6 py-3 rounded-full bg-stone-200 hover:bg-saffron hover:text-white transition-all text-stone-600 text-xs font-bold uppercase tracking-widest shadow-md active:scale-95 z-50",children:[d&&!n?w.jsx(hx,{size:16,fill:"currentColor"}):w.jsx(dx,{size:16}),w.jsx("span",{children:d&&!n?"Stop":"Listen"})]}),w.jsxs("div",{className:"flex items-center justify-center gap-2 text-stone-400 text-[10px] uppercase tracking-widest animate-pulse shrink-0 mt-10",children:[w.jsx(kD,{size:14}),w.jsx("span",{children:"Tap to Reveal"})]})]})]}),w.jsxs("div",{className:`absolute inset-0 backface-hidden rounded-2xl bg-stone-900 flex flex-col shadow-glow border border-white/10 overflow-hidden ${n?"pointer-events-auto":"pointer-events-none"}`,style:{transform:"rotateY(180deg)",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:[w.jsx("div",{className:"p-4 md:p-6 flex justify-end border-b border-white/5 bg-black/20 shrink-0",children:w.jsxs("div",{className:"inline-flex items-center gap-2 opacity-70",children:[w.jsx(rl,{size:16,className:"text-saffron"}),w.jsx("span",{className:"text-xs font-bold text-parchment uppercase tracking-widest",children:"Insight"})]})}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-10 custom-scrollbar text-left w-full relative",children:[w.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-8 border-b border-white/10 pb-6 relative z-50",children:[w.jsxs("div",{className:"flex items-center gap-2",onClick:R=>R.stopPropagation(),children:[w.jsx(uD,{size:16,className:"text-stone-500 mr-2"}),["en","hi","mr"].map(R=>w.jsx("button",{onClick:O=>{O.stopPropagation(),o(R),h()},className:`px-4 py-2 rounded-lg text-xs md:text-sm font-bold uppercase tracking-widest border transition-all duration-200 cursor-pointer ${a===R?"bg-saffron text-stone-900 border-saffron shadow-lg scale-105":"bg-white/5 text-stone-400 border-white/10 hover:bg-white/10 hover:text-stone-200"}`,children:R==="en"?"ENG":R==="hi"?"HIN":"MAR"},R))]}),w.jsx("button",{onClick:R=>E(R,_,v()),className:`p-3 rounded-full transition-all active:scale-95 border ${d&&n?"bg-saffron text-stone-900 border-saffron animate-pulse":"bg-white/5 text-stone-400 border-white/10 hover:text-saffron hover:border-saffron"}`,children:d&&n?w.jsx(hx,{size:20,fill:"currentColor"}):w.jsx(dx,{size:20})})]}),w.jsx("div",{className:"mb-6 animate-fade-in",children:k(_)}),w.jsx("div",{className:"mt-8 pt-6 border-t border-white/10 text-center pb-4",children:w.jsxs("p",{className:"font-serif text-stone-400 text-lg md:text-xl italic leading-relaxed px-4",children:['"',t.nuance,'"']})})]}),w.jsxs("div",{className:"p-4 mt-auto border-t border-white/5 flex justify-between items-center text-[10px] md:text-xs text-stone-500 uppercase tracking-widest bg-black/20 shrink-0",children:[w.jsx("span",{children:"Shloki Wisdom"}),w.jsx("span",{children:"Tap to flip back"})]})]})]})})}const EM=()=>{};var qT={};const uk=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},SM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},ck={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let _=(h&15)<<2|m>>6,E=m&63;d||(E=64,u||(_=64)),i.push(n[y],n[v],n[_],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||m==null||v==null)throw new AM;const _=o<<2|h>>4;if(i.push(_),m!==64){const E=h<<4&240|m>>2;if(i.push(E),v!==64){const k=m<<6&192|v;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kM=function(t){const e=uk(t);return ck.encodeByteArray(e,!0)},Zd=function(t){return kM(t).replace(/\./g,"")},RM=function(t){try{return ck.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IM=()=>CM().__FIREBASE_DEFAULTS__,OM=()=>{if(typeof process>"u"||typeof qT>"u")return;const t=qT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RM(t[1]);return e&&JSON.parse(e)},zv=()=>{try{return EM()||IM()||OM()||DM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NM=t=>zv()?.emulatorHosts?.[t],jM=t=>{const e=NM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},hk=()=>zv()?.config;let PM=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function qv(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VM(t){return(await fetch(t,{credentials:"include"})).ok}function MM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zd(JSON.stringify(n)),Zd(JSON.stringify(u)),""].join(".")}const Ku={};function LM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ku))Ku[e]?t.emulator.push(e):t.prod.push(e);return t}function UM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let FT=!1;function BM(t,e){if(typeof window>"u"||typeof document>"u"||!qv(window.location.host)||Ku[t]===e||Ku[t]||FT)return;Ku[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=LM().prod.length>0;function u(){const _=document.getElementById(i);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{FT=!0,u()},_}function y(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=UM(i),E=n("text"),k=document.getElementById(E)||document.createElement("span"),R=n("learnmore"),O=document.getElementById(R)||document.createElement("a"),N=n("preprendIcon"),U=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const V=_.element;h(V),y(O,R);const ne=m();d(U,N),V.append(U,k,O,ne),document.body.appendChild(V)}o?(k.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function zM(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qM(){const t=zv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FM(){return!qM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $M(){try{return typeof indexedDB=="object"}catch{return!1}}function HM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const GM="FirebaseError";class bl extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=GM,Object.setPrototypeOf(this,bl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dk.prototype.create)}}class dk{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?KM(o,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new bl(a,h,i)}}function KM(t,e){return t.replace(YM,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const YM=/\{\$([^}]+)}/g;function ef(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const o=t[a],u=e[a];if($T(o)&&$T(u)){if(!ef(o,u))return!1}else if(o!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function $T(t){return t!==null&&typeof t=="object"}function Oa(t){return t&&t._delegate?t._delegate:t}class lc{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wa="[DEFAULT]";class WM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new PM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XM(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wa){return this.instances.has(e)}getOptions(e=wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=wa){return this.component?this.component.multipleInstances?e:wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QM(t){return t===wa?void 0:t}function XM(t){return t.instantiationMode==="EAGER"}class JM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const ZM={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},e3=Ge.INFO,t3={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},n3=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=t3[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fk{constructor(e){this.name=e,this._logLevel=e3,this._logHandler=n3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const i3=(t,e)=>e.some(n=>t instanceof n);let HT,GT;function s3(){return HT||(HT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r3(){return GT||(GT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mk=new WeakMap,vy=new WeakMap,pk=new WeakMap,_g=new WeakMap,Fv=new WeakMap;function a3(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Er(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&mk.set(n,t)}).catch(()=>{}),Fv.set(e,t),e}function o3(t){if(vy.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});vy.set(t,e)}let by={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function l3(t){by=t(by)}function u3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(xg(this),e,...n);return pk.set(i,e.sort?e.sort():[e]),Er(i)}:r3().includes(t)?function(...e){return t.apply(xg(this),e),Er(mk.get(this))}:function(...e){return Er(t.apply(xg(this),e))}}function c3(t){return typeof t=="function"?u3(t):(t instanceof IDBTransaction&&o3(t),i3(t,s3())?new Proxy(t,by):t)}function Er(t){if(t instanceof IDBRequest)return a3(t);if(_g.has(t))return _g.get(t);const e=c3(t);return e!==t&&(_g.set(t,e),Fv.set(e,t)),e}const xg=t=>Fv.get(t);function h3(t,e,{blocked:n,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),h=Er(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Er(u.result),d.oldVersion,d.newVersion,Er(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const d3=["get","getKey","getAll","getAllKeys","count"],f3=["put","add","delete","clear"],Tg=new Map;function KT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=f3.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||d3.includes(n)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return Tg.set(e,o),o}l3(t=>({...t,get:(e,n,i)=>KT(e,n)||t.get(e,n,i),has:(e,n)=>!!KT(e,n)||t.has(e,n)}));class m3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p3(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function p3(t){return t.getComponent()?.type==="VERSION"}const wy="@firebase/app",YT="0.14.7";const Ps=new fk("@firebase/app"),g3="@firebase/app-compat",y3="@firebase/analytics-compat",v3="@firebase/analytics",b3="@firebase/app-check-compat",w3="@firebase/app-check",_3="@firebase/auth",x3="@firebase/auth-compat",T3="@firebase/database",E3="@firebase/data-connect",S3="@firebase/database-compat",A3="@firebase/functions",k3="@firebase/functions-compat",R3="@firebase/installations",C3="@firebase/installations-compat",I3="@firebase/messaging",O3="@firebase/messaging-compat",D3="@firebase/performance",N3="@firebase/performance-compat",j3="@firebase/remote-config",P3="@firebase/remote-config-compat",V3="@firebase/storage",M3="@firebase/storage-compat",L3="@firebase/firestore",U3="@firebase/ai",B3="@firebase/firestore-compat",z3="firebase",q3="12.8.0";const _y="[DEFAULT]",F3={[wy]:"fire-core",[g3]:"fire-core-compat",[v3]:"fire-analytics",[y3]:"fire-analytics-compat",[w3]:"fire-app-check",[b3]:"fire-app-check-compat",[_3]:"fire-auth",[x3]:"fire-auth-compat",[T3]:"fire-rtdb",[E3]:"fire-data-connect",[S3]:"fire-rtdb-compat",[A3]:"fire-fn",[k3]:"fire-fn-compat",[R3]:"fire-iid",[C3]:"fire-iid-compat",[I3]:"fire-fcm",[O3]:"fire-fcm-compat",[D3]:"fire-perf",[N3]:"fire-perf-compat",[j3]:"fire-rc",[P3]:"fire-rc-compat",[V3]:"fire-gcs",[M3]:"fire-gcs-compat",[L3]:"fire-fst",[B3]:"fire-fst-compat",[U3]:"fire-vertex","fire-js":"fire-js",[z3]:"fire-js-all"};const tf=new Map,$3=new Map,xy=new Map;function WT(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nf(t){const e=t.name;if(xy.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;xy.set(e,t);for(const n of tf.values())WT(n,t);for(const n of $3.values())WT(n,t);return!0}function H3(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function G3(t){return t==null?!1:t.settings!==void 0}const K3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new dk("app","Firebase",K3);class Y3{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new lc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const W3=q3;function gk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:_y,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Sr.create("bad-app-name",{appName:String(a)});if(n||(n=hk()),!n)throw Sr.create("no-options");const o=tf.get(a);if(o){if(ef(n,o.options)&&ef(i,o.config))return o;throw Sr.create("duplicate-app",{appName:a})}const u=new JM(a);for(const d of xy.values())u.addComponent(d);const h=new Y3(n,i,u);return tf.set(a,h),h}function Q3(t=_y){const e=tf.get(t);if(!e&&t===_y&&hk())return gk();if(!e)throw Sr.create("no-app",{appName:t});return e}function Zo(t,e,n){let i=F3[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(u.join(" "));return}nf(new lc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const X3="firebase-heartbeat-database",J3=1,uc="firebase-heartbeat-store";let Eg=null;function yk(){return Eg||(Eg=h3(X3,J3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sr.create("idb-open",{originalErrorMessage:t.message})})),Eg}async function Z3(t){try{const n=(await yk()).transaction(uc),i=await n.objectStore(uc).get(vk(t));return await n.done,i}catch(e){if(e instanceof bl)Ps.warn(e.message);else{const n=Sr.create("idb-get",{originalErrorMessage:e?.message});Ps.warn(n.message)}}}async function QT(t,e){try{const i=(await yk()).transaction(uc,"readwrite");await i.objectStore(uc).put(e,vk(t)),await i.done}catch(n){if(n instanceof bl)Ps.warn(n.message);else{const i=Sr.create("idb-set",{originalErrorMessage:n?.message});Ps.warn(i.message)}}}function vk(t){return`${t.name}!${t.options.appId}`}const eL=1024,tL=30;class nL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sL(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=XT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>tL){const a=rL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=XT(),{heartbeatsToSend:n,unsentEntries:i}=iL(this._heartbeatsCache.heartbeats),a=Zd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ps.warn(e),""}}}function XT(){return new Date().toISOString().substring(0,10)}function iL(t,e=eL){const n=[];let i=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),JT(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),JT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class sL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $M()?HM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Z3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return QT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return QT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function JT(t){return Zd(JSON.stringify({version:2,heartbeats:t})).length}function rL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function aL(t){nf(new lc("platform-logger",e=>new m3(e),"PRIVATE")),nf(new lc("heartbeat",e=>new nL(e),"PRIVATE")),Zo(wy,YT,t),Zo(wy,YT,"esm2020"),Zo("fire-js","")}aL("");var oL="firebase",lL="12.8.0";Zo(oL,lL,"app");var ZT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ar,bk;(function(){var t;function e(I,A){function D(){}D.prototype=A.prototype,I.F=A.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(q,z,H){for(var P=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)P[ae-2]=arguments[ae];return A.prototype[z].apply(q,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,A,D){D||(D=0);const q=Array(16);if(typeof A=="string")for(var z=0;z<16;++z)q[z]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(z=0;z<16;++z)q[z]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=I.g[0],D=I.g[1],z=I.g[2];let H=I.g[3],P;P=A+(H^D&(z^H))+q[0]+3614090360&4294967295,A=D+(P<<7&4294967295|P>>>25),P=H+(z^A&(D^z))+q[1]+3905402710&4294967295,H=A+(P<<12&4294967295|P>>>20),P=z+(D^H&(A^D))+q[2]+606105819&4294967295,z=H+(P<<17&4294967295|P>>>15),P=D+(A^z&(H^A))+q[3]+3250441966&4294967295,D=z+(P<<22&4294967295|P>>>10),P=A+(H^D&(z^H))+q[4]+4118548399&4294967295,A=D+(P<<7&4294967295|P>>>25),P=H+(z^A&(D^z))+q[5]+1200080426&4294967295,H=A+(P<<12&4294967295|P>>>20),P=z+(D^H&(A^D))+q[6]+2821735955&4294967295,z=H+(P<<17&4294967295|P>>>15),P=D+(A^z&(H^A))+q[7]+4249261313&4294967295,D=z+(P<<22&4294967295|P>>>10),P=A+(H^D&(z^H))+q[8]+1770035416&4294967295,A=D+(P<<7&4294967295|P>>>25),P=H+(z^A&(D^z))+q[9]+2336552879&4294967295,H=A+(P<<12&4294967295|P>>>20),P=z+(D^H&(A^D))+q[10]+4294925233&4294967295,z=H+(P<<17&4294967295|P>>>15),P=D+(A^z&(H^A))+q[11]+2304563134&4294967295,D=z+(P<<22&4294967295|P>>>10),P=A+(H^D&(z^H))+q[12]+1804603682&4294967295,A=D+(P<<7&4294967295|P>>>25),P=H+(z^A&(D^z))+q[13]+4254626195&4294967295,H=A+(P<<12&4294967295|P>>>20),P=z+(D^H&(A^D))+q[14]+2792965006&4294967295,z=H+(P<<17&4294967295|P>>>15),P=D+(A^z&(H^A))+q[15]+1236535329&4294967295,D=z+(P<<22&4294967295|P>>>10),P=A+(z^H&(D^z))+q[1]+4129170786&4294967295,A=D+(P<<5&4294967295|P>>>27),P=H+(D^z&(A^D))+q[6]+3225465664&4294967295,H=A+(P<<9&4294967295|P>>>23),P=z+(A^D&(H^A))+q[11]+643717713&4294967295,z=H+(P<<14&4294967295|P>>>18),P=D+(H^A&(z^H))+q[0]+3921069994&4294967295,D=z+(P<<20&4294967295|P>>>12),P=A+(z^H&(D^z))+q[5]+3593408605&4294967295,A=D+(P<<5&4294967295|P>>>27),P=H+(D^z&(A^D))+q[10]+38016083&4294967295,H=A+(P<<9&4294967295|P>>>23),P=z+(A^D&(H^A))+q[15]+3634488961&4294967295,z=H+(P<<14&4294967295|P>>>18),P=D+(H^A&(z^H))+q[4]+3889429448&4294967295,D=z+(P<<20&4294967295|P>>>12),P=A+(z^H&(D^z))+q[9]+568446438&4294967295,A=D+(P<<5&4294967295|P>>>27),P=H+(D^z&(A^D))+q[14]+3275163606&4294967295,H=A+(P<<9&4294967295|P>>>23),P=z+(A^D&(H^A))+q[3]+4107603335&4294967295,z=H+(P<<14&4294967295|P>>>18),P=D+(H^A&(z^H))+q[8]+1163531501&4294967295,D=z+(P<<20&4294967295|P>>>12),P=A+(z^H&(D^z))+q[13]+2850285829&4294967295,A=D+(P<<5&4294967295|P>>>27),P=H+(D^z&(A^D))+q[2]+4243563512&4294967295,H=A+(P<<9&4294967295|P>>>23),P=z+(A^D&(H^A))+q[7]+1735328473&4294967295,z=H+(P<<14&4294967295|P>>>18),P=D+(H^A&(z^H))+q[12]+2368359562&4294967295,D=z+(P<<20&4294967295|P>>>12),P=A+(D^z^H)+q[5]+4294588738&4294967295,A=D+(P<<4&4294967295|P>>>28),P=H+(A^D^z)+q[8]+2272392833&4294967295,H=A+(P<<11&4294967295|P>>>21),P=z+(H^A^D)+q[11]+1839030562&4294967295,z=H+(P<<16&4294967295|P>>>16),P=D+(z^H^A)+q[14]+4259657740&4294967295,D=z+(P<<23&4294967295|P>>>9),P=A+(D^z^H)+q[1]+2763975236&4294967295,A=D+(P<<4&4294967295|P>>>28),P=H+(A^D^z)+q[4]+1272893353&4294967295,H=A+(P<<11&4294967295|P>>>21),P=z+(H^A^D)+q[7]+4139469664&4294967295,z=H+(P<<16&4294967295|P>>>16),P=D+(z^H^A)+q[10]+3200236656&4294967295,D=z+(P<<23&4294967295|P>>>9),P=A+(D^z^H)+q[13]+681279174&4294967295,A=D+(P<<4&4294967295|P>>>28),P=H+(A^D^z)+q[0]+3936430074&4294967295,H=A+(P<<11&4294967295|P>>>21),P=z+(H^A^D)+q[3]+3572445317&4294967295,z=H+(P<<16&4294967295|P>>>16),P=D+(z^H^A)+q[6]+76029189&4294967295,D=z+(P<<23&4294967295|P>>>9),P=A+(D^z^H)+q[9]+3654602809&4294967295,A=D+(P<<4&4294967295|P>>>28),P=H+(A^D^z)+q[12]+3873151461&4294967295,H=A+(P<<11&4294967295|P>>>21),P=z+(H^A^D)+q[15]+530742520&4294967295,z=H+(P<<16&4294967295|P>>>16),P=D+(z^H^A)+q[2]+3299628645&4294967295,D=z+(P<<23&4294967295|P>>>9),P=A+(z^(D|~H))+q[0]+4096336452&4294967295,A=D+(P<<6&4294967295|P>>>26),P=H+(D^(A|~z))+q[7]+1126891415&4294967295,H=A+(P<<10&4294967295|P>>>22),P=z+(A^(H|~D))+q[14]+2878612391&4294967295,z=H+(P<<15&4294967295|P>>>17),P=D+(H^(z|~A))+q[5]+4237533241&4294967295,D=z+(P<<21&4294967295|P>>>11),P=A+(z^(D|~H))+q[12]+1700485571&4294967295,A=D+(P<<6&4294967295|P>>>26),P=H+(D^(A|~z))+q[3]+2399980690&4294967295,H=A+(P<<10&4294967295|P>>>22),P=z+(A^(H|~D))+q[10]+4293915773&4294967295,z=H+(P<<15&4294967295|P>>>17),P=D+(H^(z|~A))+q[1]+2240044497&4294967295,D=z+(P<<21&4294967295|P>>>11),P=A+(z^(D|~H))+q[8]+1873313359&4294967295,A=D+(P<<6&4294967295|P>>>26),P=H+(D^(A|~z))+q[15]+4264355552&4294967295,H=A+(P<<10&4294967295|P>>>22),P=z+(A^(H|~D))+q[6]+2734768916&4294967295,z=H+(P<<15&4294967295|P>>>17),P=D+(H^(z|~A))+q[13]+1309151649&4294967295,D=z+(P<<21&4294967295|P>>>11),P=A+(z^(D|~H))+q[4]+4149444226&4294967295,A=D+(P<<6&4294967295|P>>>26),P=H+(D^(A|~z))+q[11]+3174756917&4294967295,H=A+(P<<10&4294967295|P>>>22),P=z+(A^(H|~D))+q[2]+718787259&4294967295,z=H+(P<<15&4294967295|P>>>17),P=D+(H^(z|~A))+q[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(z+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+z&4294967295,I.g[3]=I.g[3]+H&4294967295}i.prototype.v=function(I,A){A===void 0&&(A=I.length);const D=A-this.blockSize,q=this.C;let z=this.h,H=0;for(;H<A;){if(z==0)for(;H<=D;)a(this,I,H),H+=this.blockSize;if(typeof I=="string"){for(;H<A;)if(q[z++]=I.charCodeAt(H++),z==this.blockSize){a(this,q),z=0;break}}else for(;H<A;)if(q[z++]=I[H++],z==this.blockSize){a(this,q),z=0;break}}this.h=z,this.o+=A},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,D=0;D<4;++D)for(let q=0;q<32;q+=8)I[A++]=this.g[D]>>>q&255;return I};function o(I,A){var D=h;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=A(I)}function u(I,A){this.h=A;const D=[];let q=!0;for(let z=I.length-1;z>=0;z--){const H=I[z]|0;q&&H==A||(D[z]=H,q=!1)}this.g=D}var h={};function d(I){return-128<=I&&I<128?o(I,function(A){return new u([A|0],A<0?-1:0)}):new u([I|0],I<0?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return O(m(-I));const A=[];let D=1;for(let q=0;I>=D;q++)A[q]=I/D|0,D*=4294967296;return new u(A,0)}function y(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return O(y(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(A,8));let q=v;for(let H=0;H<I.length;H+=8){var z=Math.min(8,I.length-H);const P=parseInt(I.substring(H,H+z),A);z<8?(z=m(Math.pow(A,z)),q=q.j(z).add(m(P))):(q=q.j(D),q=q.add(m(P)))}return q}var v=d(0),_=d(1),E=d(16777216);t=u.prototype,t.m=function(){if(R(this))return-O(this).m();let I=0,A=1;for(let D=0;D<this.g.length;D++){const q=this.i(D);I+=(q>=0?q:4294967296+q)*A,A*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(R(this))return"-"+O(this).toString(I);const A=m(Math.pow(I,6));var D=this;let q="";for(;;){const z=ne(D,A).g;D=N(D,z.j(A));let H=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=z,k(D))return H+q;for(;H.length<6;)H="0"+H;q=H+q}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function R(I){return I.h==-1}t.l=function(I){return I=N(this,I),R(I)?-1:k(I)?0:1};function O(I){const A=I.g.length,D=[];for(let q=0;q<A;q++)D[q]=~I.g[q];return new u(D,~I.h).add(_)}t.abs=function(){return R(this)?O(this):this},t.add=function(I){const A=Math.max(this.g.length,I.g.length),D=[];let q=0;for(let z=0;z<=A;z++){let H=q+(this.i(z)&65535)+(I.i(z)&65535),P=(H>>>16)+(this.i(z)>>>16)+(I.i(z)>>>16);q=P>>>16,H&=65535,P&=65535,D[z]=P<<16|H}return new u(D,D[D.length-1]&-2147483648?-1:0)};function N(I,A){return I.add(O(A))}t.j=function(I){if(k(this)||k(I))return v;if(R(this))return R(I)?O(this).j(O(I)):O(O(this).j(I));if(R(I))return O(this.j(O(I)));if(this.l(E)<0&&I.l(E)<0)return m(this.m()*I.m());const A=this.g.length+I.g.length,D=[];for(var q=0;q<2*A;q++)D[q]=0;for(q=0;q<this.g.length;q++)for(let z=0;z<I.g.length;z++){const H=this.i(q)>>>16,P=this.i(q)&65535,ae=I.i(z)>>>16,X=I.i(z)&65535;D[2*q+2*z]+=P*X,U(D,2*q+2*z),D[2*q+2*z+1]+=H*X,U(D,2*q+2*z+1),D[2*q+2*z+1]+=P*ae,U(D,2*q+2*z+1),D[2*q+2*z+2]+=H*ae,U(D,2*q+2*z+2)}for(I=0;I<A;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=A;I<2*A;I++)D[I]=0;return new u(D,0)};function U(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function V(I,A){this.g=I,this.h=A}function ne(I,A){if(k(A))throw Error("division by zero");if(k(I))return new V(v,v);if(R(I))return A=ne(O(I),A),new V(O(A.g),O(A.h));if(R(A))return A=ne(I,O(A)),new V(O(A.g),A.h);if(I.g.length>30){if(R(I)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var D=_,q=A;q.l(I)<=0;)D=se(D),q=se(q);var z=ce(D,1),H=ce(q,1);for(q=ce(q,2),D=ce(D,2);!k(q);){var P=H.add(q);P.l(I)<=0&&(z=z.add(D),H=P),q=ce(q,1),D=ce(D,1)}return A=N(I,z.j(A)),new V(z,A)}for(z=v;I.l(A)>=0;){for(D=Math.max(1,Math.floor(I.m()/A.m())),q=Math.ceil(Math.log(D)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),H=m(D),P=H.j(A);R(P)||P.l(I)>0;)D-=q,H=m(D),P=H.j(A);k(H)&&(H=_),z=z.add(H),I=N(I,P)}return new V(z,I)}t.B=function(I){return ne(this,I).h},t.and=function(I){const A=Math.max(this.g.length,I.g.length),D=[];for(let q=0;q<A;q++)D[q]=this.i(q)&I.i(q);return new u(D,this.h&I.h)},t.or=function(I){const A=Math.max(this.g.length,I.g.length),D=[];for(let q=0;q<A;q++)D[q]=this.i(q)|I.i(q);return new u(D,this.h|I.h)},t.xor=function(I){const A=Math.max(this.g.length,I.g.length),D=[];for(let q=0;q<A;q++)D[q]=this.i(q)^I.i(q);return new u(D,this.h^I.h)};function se(I){const A=I.g.length+1,D=[];for(let q=0;q<A;q++)D[q]=I.i(q)<<1|I.i(q-1)>>>31;return new u(D,I.h)}function ce(I,A){const D=A>>5;A%=32;const q=I.g.length-D,z=[];for(let H=0;H<q;H++)z[H]=A>0?I.i(H+D)>>>A|I.i(H+D+1)<<32-A:I.i(H+D);return new u(z,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,bk=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Ar=u}).apply(typeof ZT<"u"?ZT:typeof self<"u"?self:typeof window<"u"?window:{});var Td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wk,Lu,_k,Ud,Ty,xk,Tk,Ek;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Td=="object"&&Td];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(f,b){if(b)e:{var T=i;f=f.split(".");for(var C=0;C<f.length-1;C++){var K=f[C];if(!(K in T))break e;T=T[K]}f=f[f.length-1],C=T[f],b=b(C),b!=C&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(b){var T=[],C;for(C in b)Object.prototype.hasOwnProperty.call(b,C)&&T.push([C,b[C]]);return T}});var o=o||{},u=this||self;function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function d(f,b,T){return f.call.apply(f.bind,arguments)}function m(f,b,T){return m=d,m.apply(null,arguments)}function y(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function v(f,b){function T(){}T.prototype=b.prototype,f.Z=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(C,K,J){for(var me=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)me[Ne-2]=arguments[Ne];return b.prototype[K].apply(C,me)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function E(f){const b=f.length;if(b>0){const T=Array(b);for(let C=0;C<b;C++)T[C]=f[C];return T}return[]}function k(f,b){for(let C=1;C<arguments.length;C++){const K=arguments[C];var T=typeof K;if(T=T!="object"?T:K?Array.isArray(K)?"array":T:"null",T=="array"||T=="object"&&typeof K.length=="number"){T=f.length||0;const J=K.length||0;f.length=T+J;for(let me=0;me<J;me++)f[T+me]=K[me]}else f.push(K)}}class R{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function O(f){u.setTimeout(()=>{throw f},0)}function N(){var f=I;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class U{constructor(){this.h=this.g=null}add(b,T){const C=V.get();C.set(b,T),this.h?this.h.next=C:this.g=C,this.h=C}}var V=new R(()=>new ne,f=>f.reset());class ne{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ce=!1,I=new U,A=()=>{const f=Promise.resolve(void 0);se=()=>{f.then(D)}};function D(){for(var f;f=N();){try{f.h.call(f.g)}catch(T){O(T)}var b=V;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}ce=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};u.addEventListener("test",T,b),u.removeEventListener("test",T,b)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function ae(f,b){z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}v(ae,z),ae.prototype.init=function(f,b){const T=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),M=0;function $(f,b,T,C,K){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!C,this.ha=K,this.key=++M,this.da=this.fa=!1}function ee(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function he(f,b,T){for(const C in f)b.call(T,f[C],C,f)}function be(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function B(f){const b={};for(const T in f)b[T]=f[T];return b}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(f,b){let T,C;for(let K=1;K<arguments.length;K++){C=arguments[K];for(T in C)f[T]=C[T];for(let J=0;J<te.length;J++)T=te[J],Object.prototype.hasOwnProperty.call(C,T)&&(f[T]=C[T])}}function fe(f){this.src=f,this.g={},this.h=0}fe.prototype.add=function(f,b,T,C,K){const J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);const me=Ie(f,b,C,K);return me>-1?(b=f[me],T||(b.fa=!1)):(b=new $(b,this.src,J,!!C,K),b.fa=T,f.push(b)),b};function ke(f,b){const T=b.type;if(T in f.g){var C=f.g[T],K=Array.prototype.indexOf.call(C,b,void 0),J;(J=K>=0)&&Array.prototype.splice.call(C,K,1),J&&(ee(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Ie(f,b,T,C){for(let K=0;K<f.length;++K){const J=f[K];if(!J.da&&J.listener==b&&J.capture==!!T&&J.ha==C)return K}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),bt={};function dt(f,b,T,C,K){if(Array.isArray(b)){for(let J=0;J<b.length;J++)dt(f,b[J],T,C,K);return null}return T=kl(T),f&&f[X]?f.J(b,T,h(C)?!!C.capture:!1,K):Ur(f,b,T,!1,C,K)}function Ur(f,b,T,C,K,J){if(!b)throw Error("Invalid event type");const me=h(K)?!!K.capture:!!K;let Ne=Br(f);if(Ne||(f[Ve]=Ne=new fe(f)),T=Ne.add(b,T,C,me,J),T.proxy)return T;if(C=Ba(),T.proxy=C,C.src=f,C.listener=T,f.addEventListener)H||(K=me),K===void 0&&(K=!1),f.addEventListener(b.toString(),C,K);else if(f.attachEvent)f.attachEvent(Ni(b.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ba(){function f(T){return b.call(f.src,f.listener,T)}const b=Sl;return f}function za(f,b,T,C,K){if(Array.isArray(b))for(var J=0;J<b.length;J++)za(f,b[J],T,C,K);else C=h(C)?!!C.capture:!!C,T=kl(T),f&&f[X]?(f=f.i,J=String(b).toString(),J in f.g&&(b=f.g[J],T=Ie(b,T,C,K),T>-1&&(ee(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete f.g[J],f.h--)))):f&&(f=Br(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Ie(b,T,C,K)),(T=f>-1?b[f]:null)&&qa(T))}function qa(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[X])ke(b.i,f);else{var T=f.type,C=f.proxy;b.removeEventListener?b.removeEventListener(T,C,f.capture):b.detachEvent?b.detachEvent(Ni(T),C):b.addListener&&b.removeListener&&b.removeListener(C),(T=Br(b))?(ke(T,f),T.h==0&&(T.src=null,b[Ve]=null)):ee(f)}}}function Ni(f){return f in bt?bt[f]:bt[f]="on"+f}function Sl(f,b){if(f.da)f=!0;else{b=new ae(b,this);const T=f.listener,C=f.ha||f.src;f.fa&&qa(f),f=T.call(C,b)}return f}function Br(f){return f=f[Ve],f instanceof fe?f:null}var Al="__closure_events_fn_"+(Math.random()*1e9>>>0);function kl(f){return typeof f=="function"?f:(f[Al]||(f[Al]=function(b){return f.handleEvent(b)}),f[Al])}function Ct(){q.call(this),this.i=new fe(this),this.M=this,this.G=null}v(Ct,q),Ct.prototype[X]=!0,Ct.prototype.removeEventListener=function(f,b,T,C){za(this,f,b,T,C)};function Ft(f,b){var T,C=f.G;if(C)for(T=[];C;C=C.G)T.push(C);if(f=f.M,C=b.type||b,typeof b=="string")b=new z(b,f);else if(b instanceof z)b.target=b.target||f;else{var K=b;b=new z(C,f),de(b,K)}K=!0;let J,me;if(T)for(me=T.length-1;me>=0;me--)J=b.g=T[me],K=Bs(J,C,!0,b)&&K;if(J=b.g=f,K=Bs(J,C,!0,b)&&K,K=Bs(J,C,!1,b)&&K,T)for(me=0;me<T.length;me++)J=b.g=T[me],K=Bs(J,C,!1,b)&&K}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const T=f.g[b];for(let C=0;C<T.length;C++)ee(T[C]);delete f.g[b],f.h--}}this.G=null},Ct.prototype.J=function(f,b,T,C){return this.i.add(String(f),b,!1,T,C)},Ct.prototype.K=function(f,b,T,C){return this.i.add(String(f),b,!0,T,C)};function Bs(f,b,T,C){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let K=!0;for(let J=0;J<b.length;++J){const me=b[J];if(me&&!me.da&&me.capture==T){const Ne=me.listener,St=me.ha||me.src;me.fa&&ke(f.i,me),K=Ne.call(St,C)!==!1&&K}}return K&&!C.defaultPrevented}function zf(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(f,b||0)}function qc(f){f.g=zf(()=>{f.g=null,f.i&&(f.i=!1,qc(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class vn extends q{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:qc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(f){q.call(this),this.h=f,this.g={}}v(zr,q);var Rl=[];function Cl(f){he(f.g,function(b,T){this.g.hasOwnProperty(T)&&qa(b)},f),f.g={}}zr.prototype.N=function(){zr.Z.N.call(this),Cl(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zs=u.JSON.stringify,qf=u.JSON.parse,Fc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function $c(){}function Hc(){}var hi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){z.call(this,"d")}v(Zt,z);function Hn(){z.call(this,"c")}v(Hn,z);var Et={},Gc=null;function Fa(){return Gc=Gc||new Ct}Et.Ia="serverreachability";function Kc(f){z.call(this,Et.Ia,f)}v(Kc,z);function ji(f){const b=Fa();Ft(b,new Kc(b))}Et.STAT_EVENT="statevent";function qr(f,b){z.call(this,Et.STAT_EVENT,f),this.stat=b}v(qr,z);function It(f){const b=Fa();Ft(b,new qr(b,f))}Et.Ja="timingevent";function Pi(f,b){z.call(this,Et.Ja,f),this.size=b}v(Pi,z);function Vi(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},b)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function Ff(f,b,T,C,K,J){f.info(function(){if(f.g)if(J){var me="",Ne=J.split("&");for(let We=0;We<Ne.length;We++){var St=Ne[We].split("=");if(St.length>1){const ft=St[0];St=St[1];const Wn=ft.split("_");me=Wn.length>=2&&Wn[1]=="type"?me+(ft+"="+St+"&"):me+(ft+"=redacted&")}}}else me=null;else me=J;return"XMLHTTP REQ ("+C+") [attempt "+K+"]: "+b+`
`+T+`
`+me})}function Yc(f,b,T,C,K,J,me){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+K+"]: "+b+`
`+T+`
`+J+" "+me})}function Mi(f,b,T,C){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+$f(f,T)+(C?" "+C:"")})}function Fr(f,b){f.info(function(){return"TIMEOUT: "+b})}di.prototype.info=function(){};function $f(f,b){if(!f.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(f=0;f<J.length;f++)if(Array.isArray(J[f])){var T=J[f];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var K=C[0];if(K!="noop"&&K!="stop"&&K!="close")for(let me=1;me<C.length;me++)C[me]=""}}}}return zs(J)}catch{return b}}var $r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ol;function Hr(){}v(Hr,$c),Hr.prototype.g=function(){return new XMLHttpRequest},Ol=new Hr;function cs(f){return encodeURIComponent(String(f))}function Wc(f){var b=1;f=f.split(":");const T=[];for(;b>0&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function fi(f,b,T,C){this.j=f,this.i=b,this.l=T,this.S=C||1,this.V=new zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mi}function mi(){this.i=null,this.g="",this.h=!1}var Ot={},Wt={};function Li(f,b,T){f.M=1,f.A=Gr(Nt(b)),f.u=T,f.R=!0,$a(f,null)}function $a(f,b){f.F=Date.now(),Ui(f),f.B=Nt(f.A);var T=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),Ya(T.i,"t",C),f.C=0,T=f.j.L,f.h=new mi,f.g=ch(f.j,T?b:null,!f.u),f.P>0&&(f.O=new vn(m(f.Y,f,f.g),f.P)),b=f.V,T=f.g,C=f.ba;var K="readystatechange";Array.isArray(K)||(K&&(Rl[0]=K.toString()),K=Rl);for(let J=0;J<K.length;J++){const me=dt(T,K[J],C||b.handleEvent,!1,b.h||b);if(!me)break;b.g[me.key]=me}b=f.J?B(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),ji(),Ff(f.i,f.v,f.B,f.l,f.S,f.u)}fi.prototype.ba=function(f){f=f.target;const b=this.O;b&&yi(f)==3?b.j():this.Y(f)},fi.prototype.Y=function(f){try{if(f==this.g)e:{const Ne=yi(this.g),St=this.g.ya(),We=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ne!=4||St==7||(St==8||We<=0?ji(3):ji(2)),Bi(this);var b=this.g.ca();this.X=b;var T=Hf(this);if(this.o=b==200,Yc(this.i,this.v,this.B,this.l,this.S,Ne,b),this.o){if(this.U&&!this.L){t:{if(this.g){var C,K=this.g;if((C=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(C)){var J=C;break t}}J=null}if(f=J)Mi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zi(this,f);else{this.o=!1,this.m=3,It(12),Dn(this),Gn(this);break e}}if(this.R){f=!0;let ft;for(;!this.K&&this.C<T.length;)if(ft=Xc(this,T),ft==Wt){Ne==4&&(this.m=4,It(14),f=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Ot){this.m=4,It(15),Mi(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Mi(this.i,this.l,ft,null),zi(this,ft);if(Qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||T.length!=0||this.h.h||(this.m=1,It(16),f=!1),this.o=this.o&&f,!f)Mi(this.i,this.l,T,"[Invalid Chunked Response]"),Dn(this),Gn(this);else if(T.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Gl(me),me.P=!0,It(11))}}else Mi(this.i,this.l,T,null),zi(this,T);Ne==4&&Dn(this),this.o&&!this.K&&(Ne==4?ah(this.j,this):(this.o=!1,Ui(this)))}else ds(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Dn(this),Gn(this)}}}catch{}};function Hf(f){if(!Qc(f))return f.g.la();const b=en(f.g);if(b==="")return"";let T="";const C=b.length,K=yi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Dn(f),Gn(f),"";f.h.i=new u.TextDecoder}for(let J=0;J<C;J++)f.h.h=!0,T+=f.h.i.decode(b[J],{stream:!(K&&J==C-1)});return b.length=0,f.h.g+=T,f.C=0,f.h.g}function Qc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Xc(f,b){var T=f.C,C=b.indexOf(`
`,T);return C==-1?Wt:(T=Number(b.substring(T,C)),isNaN(T)?Ot:(C+=1,C+T>b.length?Wt:(b=b.slice(C,C+T),f.C=C+T,b)))}fi.prototype.cancel=function(){this.K=!0,Dn(this)};function Ui(f){f.T=Date.now()+f.H,Ha(f,f.H)}function Ha(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Vi(m(f.aa,f),b)}function Bi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}fi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Fr(this.i,this.B),this.M!=2&&(ji(),It(17)),Dn(this),this.m=2,Gn(this)):Ha(this,this.T-f)};function Gn(f){f.j.I==0||f.K||ah(f.j,f)}function Dn(f){Bi(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Cl(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function zi(f,b){try{var T=f.j;if(T.I!=0&&(T.g==f||Fi(T.h,f))){if(!f.L&&Fi(T.h,f)&&T.I==3){try{var C=T.Ba.g.parse(b)}catch{C=null}if(Array.isArray(C)&&C.length==3){var K=C;if(K[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)Za(T),Ws(T);else break e;Zr(T),It(18)}}else T.xa=K[1],0<T.xa-T.K&&K[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Vi(m(T.Va,T),6e3));qi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Wi(T,11)}else if((f.L||T.g==f)&&Za(T),!P(b))for(K=T.Ba.g.parse(b),b=0;b<K.length;b++){let We=K[b];const ft=We[0];if(!(ft<=T.K))if(T.K=ft,We=We[1],T.I==2)if(We[0]=="c"){T.M=We[1],T.ba=We[2];const Wn=We[3];Wn!=null&&(T.ka=Wn,T.j.info("VER="+T.ka));const Qi=We[4];Qi!=null&&(T.za=Qi,T.j.info("SVER="+T.za));const vi=We[5];vi!=null&&typeof vi=="number"&&vi>0&&(C=1.5*vi,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const bi=f.g;if(bi){const ea=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var J=C.h;J.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(jl(J,J.h),J.h=null))}if(C.G){const eo=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;eo&&(C.wa=eo,Je(C.J,C.G,eo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var me=f;if(C.na=uh(C,C.L?C.ba:null,C.W),me.L){Pl(C.h,me);var Ne=me,St=C.O;St&&(Ne.H=St),Ne.D&&(Bi(Ne),Ui(Ne)),C.g=me}else sh(C);T.i.length>0&&Yi(T)}else We[0]!="stop"&&We[0]!="close"||Wi(T,7);else T.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Wi(T,7):$l(T):We[0]!="noop"&&T.l&&T.l.qa(We),T.A=0)}}ji(4)}catch{}}var Dt=class{constructor(f,b){this.g=f,this.map=b}};function Dl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function qi(f){return f.h?1:f.g?f.g.size:0}function Fi(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function jl(f,b){f.g?f.g.add(b):f.h=b}function Pl(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Dl.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Vl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.G);return b}return E(f.i)}var Jc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(f,b){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const C=f[T].indexOf("=");let K,J=null;C>=0?(K=f[T].substring(0,C),J=f[T].substring(C+1)):K=f[T],b(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Nn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof Nn?(this.l=f.l,Qt(this,f.j),this.o=f.o,this.g=f.g,qs(this,f.u),this.h=f.h,Ml(this,nh(f.i)),this.m=f.m):f&&(b=String(f).match(Jc))?(this.l=!1,Qt(this,b[1]||"",!0),this.o=$i(b[2]||""),this.g=$i(b[3]||"",!0),qs(this,b[4]),this.h=$i(b[5]||"",!0),Ml(this,b[6]||"",!0),this.m=$i(b[7]||"")):(this.l=!1,this.i=new $s(null,this.l))}Nn.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(Kr(b,Ka,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Kr(b,Ka,!0),"@"),f.push(cs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Kr(T,T.charAt(0)=="/"?Ll:Zc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Kr(T,eh)),f.join("")},Nn.prototype.resolve=function(f){const b=Nt(this);let T=!!f.j;T?Qt(b,f.j):T=!!f.o,T?b.o=f.o:T=!!f.g,T?b.g=f.g:T=f.u!=null;var C=f.h;if(T)qs(b,f.u);else if(T=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var K=b.h.lastIndexOf("/");K!=-1&&(C=b.h.slice(0,K+1)+C)}if(K=C,K==".."||K==".")C="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){C=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let me=0;me<K.length;){const Ne=K[me++];Ne=="."?C&&me==K.length&&J.push(""):Ne==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),C&&me==K.length&&J.push("")):(J.push(Ne),C=!0)}C=J.join("/")}else C=K}return T?b.h=C:T=f.i.toString()!=="",T?Ml(b,nh(f.i)):T=!!f.m,T&&(b.m=f.m),b};function Nt(f){return new Nn(f)}function Qt(f,b,T){f.j=T?$i(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function qs(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Ml(f,b,T){b instanceof $s?(f.i=b,Wa(f.i,f.l)):(T||(b=Kr(b,Fs)),f.i=new $s(b,f.l))}function Je(f,b,T){f.i.set(b,T)}function Gr(f){return Je(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function $i(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Kr(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,Tn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Tn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ka=/[#\/\?@]/g,Zc=/[#\?:]/g,Ll=/[#\?]/g,Fs=/[#\?@]/g,eh=/#/g;function $s(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function En(f){f.g||(f.g=new Map,f.h=0,f.i&&Ga(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=$s.prototype,t.add=function(f,b){En(this),this.i=null,f=Hs(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function th(f,b){En(f),b=Hs(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Ul(f,b){return En(f),b=Hs(f,b),f.g.has(b)}t.forEach=function(f,b){En(this),this.g.forEach(function(T,C){T.forEach(function(K){f.call(b,K,C,this)},this)},this)};function Bl(f,b){En(f);let T=[];if(typeof b=="string")Ul(f,b)&&(T=T.concat(f.g.get(Hs(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)T=T.concat(f[b]);return T}t.set=function(f,b){return En(this),this.i=null,f=Hs(this,f),Ul(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=Bl(this,f),f.length>0?String(f[0]):b):b};function Ya(f,b,T){th(f,b),T.length>0&&(f.i=null,f.g.set(Hs(f,b),E(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let C=0;C<b.length;C++){var T=b[C];const K=cs(T);T=Bl(this,T);for(let J=0;J<T.length;J++){let me=K;T[J]!==""&&(me+="="+cs(T[J])),f.push(me)}}return this.i=f.join("&")};function nh(f){const b=new $s;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Hs(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Wa(f,b){b&&!f.j&&(En(f),f.i=null,f.g.forEach(function(T,C){const K=C.toLowerCase();C!=K&&(th(this,C),Ya(this,K,T))},f)),f.j=b}function pi(f,b){const T=new di;if(u.Image){const C=new Image;C.onload=y(Kn,T,"TestLoadImage: loaded",!0,b,C),C.onerror=y(Kn,T,"TestLoadImage: error",!1,b,C),C.onabort=y(Kn,T,"TestLoadImage: abort",!1,b,C),C.ontimeout=y(Kn,T,"TestLoadImage: timeout",!1,b,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else b(!1)}function zl(f,b){const T=new di,C=new AbortController,K=setTimeout(()=>{C.abort(),Kn(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:C.signal}).then(J=>{clearTimeout(K),J.ok?Kn(T,"TestPingServer: ok",!0,b):Kn(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(K),Kn(T,"TestPingServer: error",!1,b)})}function Kn(f,b,T,C,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),C(T)}catch{}}function Gs(){this.g=new Fc}function Hi(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Hi,$c),Hi.prototype.g=function(){return new Yr(this.i,this.h)};function Yr(f,b){Ct.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Yr,Ct),t=Yr.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,gi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Ks(this):gi(this),this.readyState==3&&Qa(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Ks(this))},t.Na=function(f){this.g&&(this.response=f,Ks(this))},t.ga=function(){this.g&&Ks(this)};function Ks(f){f.readyState=4,f.l=null,f.j=null,f.B=null,gi(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function gi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Yn(f){let b="";return he(f,function(T,C){b+=C,b+=":",b+=T,b+=`\r
`}),b}function Wr(f,b,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=Yn(T),typeof f=="string"?T!=null&&cs(T):Je(f,b,T))}function tt(f){Ct.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(tt,Ct);var Gi=/^https?$/i,ql=["POST","PUT"];t=tt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ol.g(),this.g.onreadystatechange=_(m(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(J){Qr(this,J);return}if(f=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var K in C)T.set(K,C[K]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())T.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),K=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(ql,b,void 0)>=0)||C||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of T)this.g.setRequestHeader(J,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(J){Qr(this,J)}};function Qr(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Fl(f),hs(f)}function Fl(f){f.A||(f.A=!0,Ft(f,"complete"),Ft(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ft(this,"complete"),Ft(this,"abort"),hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Xr(this):this.Xa())},t.Xa=function(){Xr(this)};function Xr(f){if(f.h&&typeof o<"u"){if(f.v&&yi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ft(f,"readystatechange"),yi(f)==4){f.h=!1;try{const J=f.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var C;if(C=J===0){let me=String(f.D).match(Jc)[1]||null;!me&&u.self&&u.self.location&&(me=u.self.location.protocol.slice(0,-1)),C=!Gi.test(me?me.toLowerCase():"")}T=C}if(T)Ft(f,"complete"),Ft(f,"success");else{f.o=6;try{var K=yi(f)>2?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.ca()+"]",Fl(f)}}finally{hs(f)}}}}function hs(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,b||Ft(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function yi(f){return f.g?f.g.readyState:0}t.ca=function(){try{return yi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),qf(b)}};function en(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(f){const b={};f=(f.g&&yi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(P(f[C]))continue;var T=Wc(f[C]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=b[K]||[];b[K]=J,J.push(T)}be(b,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ki(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function Ys(f){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ki("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ki("baseRetryDelayMs",5e3,f),this.Za=Ki("retryDelaySeedMs",1e4,f),this.Ta=Ki("forwardChannelMaxRetries",2,f),this.va=Ki("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(f&&f.concurrentRequestLimit),this.Ba=new Gs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ys.prototype,t.ka=8,t.I=1,t.connect=function(f,b,T,C){It(0),this.W=f,this.H=b||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=uh(this,null,this.W),Yi(this)};function $l(f){if(Xa(f),f.I==3){var b=f.V++,T=Nt(f.J);if(Je(T,"SID",f.M),Je(T,"RID",b),Je(T,"TYPE","terminate"),Jr(f,T),b=new fi(f,f.j,b),b.M=2,b.A=Gr(Nt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=b.A,T=!0),T||(b.g=ch(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Ui(b)}lh(f)}function Ws(f){f.g&&(Gl(f),f.g.cancel(),f.g=null)}function Xa(f){Ws(f),f.v&&(u.clearTimeout(f.v),f.v=null),Za(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Yi(f){if(!Nl(f.h)&&!f.m){f.m=!0;var b=f.Ea;se||A(),ce||(se(),ce=!0),I.add(b,f),f.D=0}}function Ja(f,b){return qi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Vi(m(f.Ea,f,b),oh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const K=new fi(this,this.j,f);let J=this.o;if(this.U&&(J?(J=B(J),de(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(b+=C,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=ih(this,K,b),T=Nt(this.J),Je(T,"RID",f),Je(T,"CVER",22),this.G&&Je(T,"X-HTTP-Session-Id",this.G),Jr(this,T),J&&(this.R?b="headers="+cs(Yn(J))+"&"+b:this.u&&Wr(T,this.u,J)),jl(this.h,K),this.Ra&&Je(T,"TYPE","init"),this.S?(Je(T,"$req",b),Je(T,"SID","null"),K.U=!0,Li(K,T,null)):Li(K,T,b),this.I=2}}else this.I==3&&(f?Hl(this,f):this.i.length==0||Nl(this.h)||Hl(this))};function Hl(f,b){var T;b?T=b.l:T=f.V++;const C=Nt(f.J);Je(C,"SID",f.M),Je(C,"RID",T),Je(C,"AID",f.K),Jr(f,C),f.u&&f.o&&Wr(C,f.u,f.o),T=new fi(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),b&&(f.i=b.G.concat(f.i)),b=ih(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),jl(f.h,T),Li(T,C,b)}function Jr(f,b){f.H&&he(f.H,function(T,C){Je(b,C,T)}),f.l&&he({},function(T,C){Je(b,C,T)})}function ih(f,b,T){T=Math.min(f.i.length,T);const C=f.l?m(f.l.Ka,f.l,f):null;e:{var K=f.i;let Ne=-1;for(;;){const St=["count="+T];Ne==-1?T>0?(Ne=K[0].g,St.push("ofs="+Ne)):Ne=0:St.push("ofs="+Ne);let We=!0;for(let ft=0;ft<T;ft++){var J=K[ft].g;const Wn=K[ft].map;if(J-=Ne,J<0)Ne=Math.max(0,K[ft].g-100),We=!1;else try{J="req"+J+"_"||"";try{var me=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Qi,vi]of me){let bi=vi;h(vi)&&(bi=zs(vi)),St.push(J+Qi+"="+encodeURIComponent(bi))}}catch(Qi){throw St.push(J+"type="+encodeURIComponent("_badmap")),Qi}}catch{C&&C(Wn)}}if(We){me=St.join("&");break e}}me=void 0}return f=f.i.splice(0,T),b.G=f,me}function sh(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;se||A(),ce||(se(),ce=!0),I.add(b,f),f.A=0}}function Zr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Vi(m(f.Da,f),oh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,rh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Vi(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ws(this),rh(this))};function Gl(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function rh(f){f.g=new fi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Nt(f.na);Je(b,"RID","rpc"),Je(b,"SID",f.M),Je(b,"AID",f.K),Je(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&Je(b,"TO",f.ia),Je(b,"TYPE","xmlhttp"),Jr(f,b),f.u&&f.o&&Wr(b,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=Gr(Nt(b)),T.u=null,T.R=!0,$a(T,f)}t.Va=function(){this.C!=null&&(this.C=null,Ws(this),Zr(this),It(19))};function Za(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function ah(f,b){var T=null;if(f.g==b){Za(f),Gl(f),f.g=null;var C=2}else if(Fi(f.h,b))T=b.G,Pl(f.h,b),C=1;else return;if(f.I!=0){if(b.o)if(C==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var K=f.D;C=Fa(),Ft(C,new Pi(C,T)),Yi(f)}else sh(f);else if(K=b.m,K==3||K==0&&b.X>0||!(C==1&&Ja(f,b)||C==2&&Zr(f)))switch(T&&T.length>0&&(b=f.h,b.i=b.i.concat(T)),K){case 1:Wi(f,5);break;case 4:Wi(f,10);break;case 3:Wi(f,6);break;default:Wi(f,2)}}}function oh(f,b){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*b}function Wi(f,b){if(f.j.info("Error code "+b),b==2){var T=m(f.bb,f),C=f.Ua;const K=!C;C=new Nn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qt(C,"https"),Gr(C),K?pi(C.toString(),T):zl(C.toString(),T)}else It(2);f.I=0,f.l&&f.l.pa(b),lh(f),Xa(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function lh(f){if(f.I=0,f.ja=[],f.l){const b=Vl(f.h);(b.length!=0||f.i.length!=0)&&(k(f.ja,b),k(f.ja,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.oa()}}function uh(f,b,T){var C=T instanceof Nn?Nt(T):new Nn(T);if(C.g!="")b&&(C.g=b+"."+C.g),qs(C,C.u);else{var K=u.location;C=K.protocol,b=b?b+"."+K.hostname:K.hostname,K=+K.port;const J=new Nn(null);C&&Qt(J,C),b&&(J.g=b),K&&qs(J,K),T&&(J.h=T),C=J}return T=f.G,b=f.wa,T&&b&&Je(C,T,b),Je(C,"VER",f.ka),Jr(f,C),C}function ch(f,b,T){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new tt(new Hi({ab:T})):new tt(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hh(){}t=hh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Qs(){}Qs.prototype.g=function(f,b){return new bn(f,b)};function bn(f,b){Ct.call(this),this.g=new Ys(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!P(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new fs(this)}v(bn,Ct),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){$l(this.g)},bn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=zs(f),f=T);b.i.push(new Dt(b.Ya++,f)),b.I==3&&Yi(b)},bn.prototype.N=function(){this.g.l=null,delete this.j,$l(this.g),delete this.g,bn.Z.N.call(this)};function dh(f){Zt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}v(dh,Zt);function fh(){Hn.call(this),this.status=1}v(fh,Hn);function fs(f){this.g=f}v(fs,hh),fs.prototype.ra=function(){Ft(this.g,"a")},fs.prototype.qa=function(f){Ft(this.g,new dh(f))},fs.prototype.pa=function(f){Ft(this.g,new fh)},fs.prototype.oa=function(){Ft(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,Ek=function(){return new Qs},Tk=function(){return Fa()},xk=Et,Ty={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,Ud=$r,Il.COMPLETE="complete",_k=Il,Hc.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,Lu=Hc,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,wk=tt}).apply(typeof Td<"u"?Td:typeof self<"u"?self:typeof window<"u"?window:{});class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let wl="12.8.0";function uL(t){wl=t}const Da=new fk("@firebase/firestore");function Lo(){return Da.logLevel}function ge(t,...e){if(Da.logLevel<=Ge.DEBUG){const n=e.map($v);Da.debug(`Firestore (${wl}): ${t}`,...n)}}function Vs(t,...e){if(Da.logLevel<=Ge.ERROR){const n=e.map($v);Da.error(`Firestore (${wl}): ${t}`,...n)}}function ol(t,...e){if(Da.logLevel<=Ge.WARN){const n=e.map($v);Da.warn(`Firestore (${wl}): ${t}`,...n)}}function $v(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Re(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Sk(t,i,n)}function Sk(t,e,n){let i=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Vs(i),new Error(i)}function Xe(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||Sk(e,a,i)}function De(t,e){return t}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends bl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ca{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Ak{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class hL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dL{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ca,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ca)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new Ak(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class fL{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class mL{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new fL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,G3(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const i=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const a=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Hv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=gL(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<n&&(i+=e.charAt(a[o]%62))}return i}}function qe(t,e){return t<e?-1:t>e?1:0}function Ey(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),o=e.charAt(i);if(a!==o)return Sg(a)===Sg(o)?qe(a,o):Sg(a)?1:-1}return qe(t.length,e.length)}const yL=55296,vL=57343;function Sg(t){const e=t.charCodeAt(0);return e>=yL&&e<=vL}function ll(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const tE="__name__";class ns{constructor(e,n,i){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Re(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ns.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ns?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const o=ns.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return qe(e.length,n.length)}static compareSegments(e,n){const i=ns.isNumericId(e),a=ns.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ns.extractNumericId(e).compare(ns.extractNumericId(n)):Ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class ot extends ns{construct(e,n,i){return new ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const bL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends ns{construct(e,n,i){return new hn(e,n,i)}static isValidIdentifier(e){return bL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tE}static keyField(){return new hn([tE])}static fromServerFormat(e){const n=[];let i="",a=0;const o=()=>{if(i.length===0)throw new pe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new pe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new pe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(o(),a++)}if(o(),u)throw new pe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ot.fromString(e))}static fromName(e){return new Te(ot.fromString(e).popFirst(5))}static empty(){return new Te(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ot(e.slice()))}}function kk(t,e,n){if(!n)throw new pe(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wL(t,e,n,i){if(e===!0&&i===!0)throw new pe(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nE(t){if(!Te.isDocumentKey(t))throw new pe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iE(t){if(Te.isDocumentKey(t))throw new pe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ef(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function Yu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ef(t);throw new pe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pc(t,e){if(!Rk(t))throw new pe(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new pe(le.INVALID_ARGUMENT,n);return!0}const sE=-62135596800,rE=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*rE);return new ct(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sE)throw new pe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rE}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pc(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:qt("string",ct._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ct(0,0))}static max(){return new Ce(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cc=-1;function _L(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(i===1e9?new ct(n+1,0):new ct(n,i));return new Ir(a,Te.empty(),e)}function xL(t){return new Ir(t.readTime,t.key,cc)}class Ir{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ir(Ce.min(),Te.empty(),cc)}static max(){return new Ir(Ce.max(),Te.empty(),cc)}}function TL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}const EL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function _l(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==EL)throw t;ge("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,i)=>{n(e)}))}static reject(e){return new ue(((n,i)=>{i(e)}))}static waitFor(e){return new ue(((n,i)=>{let a=0,o=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&n()}),(d=>i(d)))})),u=!0,o===a&&n()}))}static or(e){let n=ue.resolve(!1);for(const i of e)n=n.next((a=>a?ue.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,o)=>{i.push(n.call(this,a,o))})),this.waitFor(i)}static mapArray(e,n){return new ue(((i,a)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;n(e[m]).next((y=>{u[m]=y,++h,h===o&&i(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new ue(((i,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):i()};o()}))}}function AL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(t){return t.name==="IndexedDbTransactionError"}class Sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sf.ce=-1;const Gv=-1;function Af(t){return t==null}function sf(t){return t===0&&1/t==-1/0}function kL(t){return typeof t=="number"&&Number.isInteger(t)&&!sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Ck="";function RL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aE(e)),e=CL(t.get(n),e);return aE(e)}function CL(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case Ck:n+="";break;default:n+=o}}return n}function aE(t){return t+Ck+""}function oE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ik(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,i,a,o){this.key=e,this.value=n,this.color=i??un.RED,this.left=a??un.EMPTY,this.right=o??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,o){return new un(e??this.key,n??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,i),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return un.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,i,a,o){return this}insert(e,n,i){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lE(this.data.getIterator())}getIteratorFrom(e){return new lE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class lE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ci{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Ci([])}unionWith(e){let n=new Yt(hn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class Ok extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ok("Invalid base64 string: "+o):o}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const IL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=IL.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dr(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}const Dk="server_timestamp",Nk="__type__",jk="__previous_value__",Pk="__local_write_time__";function Kv(t){return(t?.mapValue?.fields||{})[Nk]?.stringValue===Dk}function kf(t){const e=t.mapValue.fields[jk];return Kv(e)?kf(e):e}function hc(t){const e=Or(t.mapValue.fields[Pk].timestampValue);return new ct(e.seconds,e.nanos)}class OL{constructor(e,n,i,a,o,u,h,d,m,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=v}}const rf="(default)";class dc{constructor(e,n){this.projectId=e,this.database=n||rf}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}function DL(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new pe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(t.options.projectId,e)}const Vk="__type__",NL="__max__",Sd={mapValue:{}},Mk="__vector__",af="value";function Nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kv(t)?4:PL(t)?9007199254740991:jL(t)?10:11:Re(28295,{value:t})}function ls(t,e){if(t===e)return!0;const n=Nr(t);if(n!==Nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hc(t).isEqual(hc(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Or(a.timestampValue),h=Or(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Dr(a.bytesValue).isEqual(Dr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return Rt(a.geoPointValue.latitude)===Rt(o.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Rt(a.integerValue)===Rt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Rt(a.doubleValue),h=Rt(o.doubleValue);return u===h?sf(u)===sf(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return ll(t.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(oE(u)!==oE(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!ls(u[d],h[d])))return!1;return!0})(t,e);default:return Re(52216,{left:t})}}function fc(t,e){return(t.values||[]).find((n=>ls(n,e)))!==void 0}function ul(t,e){if(t===e)return 0;const n=Nr(t),i=Nr(e);if(n!==i)return qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=Rt(o.integerValue||o.doubleValue),d=Rt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return uE(t.timestampValue,e.timestampValue);case 4:return uE(hc(t),hc(e));case 5:return Ey(t.stringValue,e.stringValue);case 6:return(function(o,u){const h=Dr(o),d=Dr(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=qe(h[m],d[m]);if(y!==0)return y}return qe(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=qe(Rt(o.latitude),Rt(u.latitude));return h!==0?h:qe(Rt(o.longitude),Rt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return cE(t.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},d=u.fields||{},m=h[af]?.arrayValue,y=d[af]?.arrayValue,v=qe(m?.values?.length||0,y?.values?.length||0);return v!==0?v:cE(m,y)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Sd.mapValue&&u===Sd.mapValue)return 0;if(o===Sd.mapValue)return 1;if(u===Sd.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const _=Ey(d[v],y[v]);if(_!==0)return _;const E=ul(h[d[v]],m[y[v]]);if(E!==0)return E}return qe(d.length,y.length)})(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function uE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Or(t),i=Or(e),a=qe(n.seconds,i.seconds);return a!==0?a:qe(n.nanos,i.nanos)}function cE(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const o=ul(n[a],i[a]);if(o)return o}return qe(n.length,i.length)}function cl(t){return Sy(t)}function Sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Or(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Dr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const o of n.values||[])a?a=!1:i+=",",i+=Sy(o);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of i)o?o=!1:a+=",",a+=`${u}:${Sy(n.fields[u])}`;return a+"}"})(t.mapValue):Re(61005,{value:t})}function Bd(t){switch(Nr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kf(t);return e?16+Bd(e):16;case 5:return 2*t.stringValue.length;case 6:return Dr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+Bd(o)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Pa(i.fields,((o,u)=>{a+=o.length+Bd(u)})),a})(t.mapValue);default:throw Re(13486,{value:t})}}function hE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ay(t){return!!t&&"integerValue"in t}function Yv(t){return!!t&&"arrayValue"in t}function dE(t){return!!t&&"nullValue"in t}function fE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function jL(t){return(t?.mapValue?.fields||{})[Vk]?.stringValue===Mk}function Wu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Pa(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Wu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wu(t.arrayValue.values[n]);return e}return{...t}}function PL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NL}class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(n)}setAll(e){let n=hn.emptyPath(),i={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,a),i={},a=[],n=h.popLast()}u?i[h.lastSegment()]=Wu(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,a)}delete(e){const n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];zd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Pa(n,((a,o)=>e[a]=o));for(const a of i)delete e[a]}clone(){return new ai(Wu(this.value))}}function Lk(t){const e=[];return Pa(t.fields,((n,i)=>{const a=new hn([n]);if(zd(i)){const o=Lk(i.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new Ci(e)}class gn{constructor(e,n,i,a,o,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new gn(e,0,Ce.min(),Ce.min(),Ce.min(),ai.empty(),0)}static newFoundDocument(e,n,i,a){return new gn(e,1,n,Ce.min(),i,a,0)}static newNoDocument(e,n){return new gn(e,2,n,Ce.min(),Ce.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Ce.min(),Ce.min(),ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class of{constructor(e,n){this.position=e,this.inclusive=n}}function mE(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?i=Te.comparator(Te.fromName(u.referenceValue),n.key):i=ul(u,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function pE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ls(t.position[n],e.position[n]))return!1;return!0}class mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function VL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Uk{}class zt extends Uk{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new LL(e,n,i):n==="array-contains"?new zL(e,i):n==="in"?new qL(e,i):n==="not-in"?new FL(e,i):n==="array-contains-any"?new $L(e,i):new zt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new UL(e,i):new BL(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ul(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends Uk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Di(e,n)}matches(e){return Bk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bk(t){return t.op==="and"}function zk(t){return ML(t)&&Bk(t)}function ML(t){for(const e of t.filters)if(e instanceof Di)return!1;return!0}function ky(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+cl(t.value);if(zk(t))return t.filters.map((e=>ky(e))).join(",");{const e=t.filters.map((n=>ky(n))).join(",");return`${t.op}(${e})`}}function qk(t,e){return t instanceof zt?(function(i,a){return a instanceof zt&&i.op===a.op&&i.field.isEqual(a.field)&&ls(i.value,a.value)})(t,e):t instanceof Di?(function(i,a){return a instanceof Di&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,u,h)=>o&&qk(u,a.filters[h])),!0):!1})(t,e):void Re(19439)}function Fk(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${cl(n.value)}`})(t):t instanceof Di?(function(n){return n.op.toString()+" {"+n.getFilters().map(Fk).join(" ,")+"}"})(t):"Filter"}class LL extends zt{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class UL extends zt{constructor(e,n){super(e,"in",n),this.keys=$k("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class BL extends zt{constructor(e,n){super(e,"not-in",n),this.keys=$k("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $k(t,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class zL extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yv(n)&&fc(n.arrayValue,this.value)}}class qL extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}}class FL extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fc(this.value.arrayValue,n)}}class $L extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>fc(this.value.arrayValue,i)))}}class HL{constructor(e,n=null,i=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function gE(t,e=null,n=[],i=[],a=null,o=null,u=null){return new HL(t,e,n,i,a,o,u)}function Wv(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>ky(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>cl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>cl(i))).join(",")),e.Te=n}return e.Te}function Qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pE(t.startAt,e.startAt)&&pE(t.endAt,e.endAt)}function Ry(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Tl{constructor(e,n=null,i=[],a=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function GL(t,e,n,i,a,o,u,h){return new Tl(t,e,n,i,a,o,u,h)}function Xv(t){return new Tl(t)}function yE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KL(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Hk(t){return t.collectionGroup!==null}function Qu(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Yt(hn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new mc(o,i))})),n.has(hn.keyField().canonicalString())||e.Ie.push(new mc(hn.keyField(),i))}return e.Ie}function ss(t){const e=De(t);return e.Ee||(e.Ee=YL(e,Qu(t))),e.Ee}function YL(t,e){if(t.limitType==="F")return gE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new mc(a.field,o)}));const n=t.endAt?new of(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new of(t.startAt.position,t.startAt.inclusive):null;return gE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Cy(t,e){const n=t.filters.concat([e]);return new Tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function WL(t,e){const n=t.explicitOrderBy.concat([e]);return new Tl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Iy(t,e,n){return new Tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rf(t,e){return Qv(ss(t),ss(e))&&t.limitType===e.limitType}function Gk(t){return`${Wv(ss(t))}|lt:${t.limitType}`}function Uo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>Fk(a))).join(", ")}]`),Af(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>cl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>cl(a))).join(",")),`Target(${i})`})(ss(t))}; limitType=${t.limitType})`}function Cf(t,e){return e.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Te.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(t,e)&&(function(i,a){for(const o of Qu(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,h,d){const m=mE(u,h,d);return u.inclusive?m<=0:m<0})(i.startAt,Qu(i),a)||i.endAt&&!(function(u,h,d){const m=mE(u,h,d);return u.inclusive?m>=0:m>0})(i.endAt,Qu(i),a))})(t,e)}function QL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Kk(t){return(e,n)=>{let i=!1;for(const a of Qu(t)){const o=XL(a,e,n);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function XL(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?ul(d,m):Re(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:t.dir})}}class Va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,((n,i)=>{for(const[a,o]of i)e(a,o)}))}isEmpty(){return Ik(this.inner)}size(){return this.innerSize}}const JL=new vt(Te.comparator);function Ms(){return JL}const Yk=new vt(Te.comparator);function Uu(...t){let e=Yk;for(const n of t)e=e.insert(n.key,n);return e}function Wk(t){let e=Yk;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Aa(){return Xu()}function Qk(){return Xu()}function Xu(){return new Va((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ZL=new vt(Te.comparator),e6=new Yt(Te.comparator);function Fe(...t){let e=e6;for(const n of t)e=e.add(n);return e}const t6=new Yt(qe);function n6(){return t6}function Jv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function Xk(t){return{integerValue:""+t}}function i6(t,e){return kL(e)?Xk(e):Jv(t,e)}class If{constructor(){this._=void 0}}function s6(t,e,n){return t instanceof pc?(function(a,o){const u={fields:{[Nk]:{stringValue:Dk},[Pk]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Kv(o)&&(o=kf(o)),o&&(u.fields[jk]=o),{mapValue:u}})(n,e):t instanceof gc?Zk(t,e):t instanceof yc?eR(t,e):(function(a,o){const u=Jk(a,o),h=vE(u)+vE(a.Ae);return Ay(u)&&Ay(a.Ae)?Xk(h):Jv(a.serializer,h)})(t,e)}function r6(t,e,n){return t instanceof gc?Zk(t,e):t instanceof yc?eR(t,e):n}function Jk(t,e){return t instanceof lf?(function(i){return Ay(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class pc extends If{}class gc extends If{constructor(e){super(),this.elements=e}}function Zk(t,e){const n=tR(e);for(const i of t.elements)n.some((a=>ls(a,i)))||n.push(i);return{arrayValue:{values:n}}}class yc extends If{constructor(e){super(),this.elements=e}}function eR(t,e){let n=tR(e);for(const i of t.elements)n=n.filter((a=>!ls(a,i)));return{arrayValue:{values:n}}}class lf extends If{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vE(t){return Rt(t.integerValue||t.doubleValue)}function tR(t){return Yv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class a6{constructor(e,n){this.field=e,this.transform=n}}function o6(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof gc&&a instanceof gc||i instanceof yc&&a instanceof yc?ll(i.elements,a.elements,ls):i instanceof lf&&a instanceof lf?ls(i.Ae,a.Ae):i instanceof pc&&a instanceof pc})(t.transform,e.transform)}class l6{constructor(e,n){this.version=e,this.transformResults=n}}class Ds{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ds}static exists(e){return new Ds(void 0,e)}static updateTime(e){return new Ds(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Of{}function nR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sR(t.key,Ds.none()):new Vc(t.key,t.data,Ds.none());{const n=t.data,i=ai.empty();let a=new Yt(hn.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?i.delete(o):i.set(o,u),a=a.add(o)}return new Ma(t.key,i,new Ci(a.toArray()),Ds.none())}}function u6(t,e,n){t instanceof Vc?(function(a,o,u){const h=a.value.clone(),d=wE(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Ma?(function(a,o,u){if(!qd(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=wE(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(iR(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Ju(t,e,n,i){return t instanceof Vc?(function(o,u,h,d){if(!qd(o.precondition,u))return h;const m=o.value.clone(),y=_E(o.fieldTransforms,d,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,i):t instanceof Ma?(function(o,u,h,d){if(!qd(o.precondition,u))return h;const m=_E(o.fieldTransforms,d,u),y=u.data;return y.setAll(iR(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(o,u,h){return qd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function c6(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),o=Jk(i.transform,a||null);o!=null&&(n===null&&(n=ai.empty()),n.set(i.field,o))}return n||null}function bE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ll(i,a,((o,u)=>o6(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vc extends Of{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ma extends Of{constructor(e,n,i,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function iR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function wE(t,e,n){const i=new Map;Xe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,h=e.data.field(o.field);i.set(o.field,r6(u,h,n[a]))}return i}function _E(t,e,n){const i=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);i.set(a.field,s6(o,u,e))}return i}class sR extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h6 extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class d6{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&u6(o,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ju(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ju(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Qk();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(a.key)?null:h;const d=nR(u,h);d!==null&&i.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,((n,i)=>bE(n,i)))&&ll(this.baseMutations,e.baseMutations,((n,i)=>bE(n,i)))}}class Zv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Xe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return ZL})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,i[u].version);return new Zv(e,n,i,a)}}class f6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class m6{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,He;function p6(t){switch(t){case le.OK:return Re(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function rR(t){if(t===void 0)return Vs("GRPC error has no .code"),le.UNKNOWN;switch(t){case Lt.OK:return le.OK;case Lt.CANCELLED:return le.CANCELLED;case Lt.UNKNOWN:return le.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return le.INTERNAL;case Lt.UNAVAILABLE:return le.UNAVAILABLE;case Lt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Lt.NOT_FOUND:return le.NOT_FOUND;case Lt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Lt.ABORTED:return le.ABORTED;case Lt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Lt.DATA_LOSS:return le.DATA_LOSS;default:return Re(39323,{code:t})}}(He=Lt||(Lt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function g6(){return new TextEncoder}const y6=new Ar([4294967295,4294967295],0);function xE(t){const e=g6().encode(t),n=new bk;return n.update(e),new Uint8Array(n.digest())}function TE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ar([n,i],0),new Ar([a,o],0)]}class e0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Bu(`Invalid padding: ${n}`);if(i<0)throw new Bu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ar.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Ar.fromNumber(i)));return a.compare(y6)===1&&(a=new Ar([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=xE(e),[i,a]=TE(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new e0(o,a,n);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=xE(e),[i,a]=TE(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);this.be(u)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Df{constructor(e,n,i,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Df(Ce.min(),a,new vt(qe),Ms(),Fe())}}class Mc{constructor(e,n,i,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Mc(i,n,Fe(),Fe(),Fe())}}class Fd{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class aR{constructor(e,n){this.targetId=e,this.Ce=n}}class oR{constructor(e,n,i=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class EE{constructor(){this.ve=0,this.Fe=SE(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),i=Fe();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:o})}})),new Mc(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=SE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class v6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ms(),this.He=Ad(),this.Je=Ad(),this.Ze=new vt(qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(Ry(o))if(i===0){const u=new Te(o.path);this.et(n,u,gn.newNoDocument(u,Ce.min()))}else Xe(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=n;let u,h;try{u=Dr(i).toUint8Array()}catch(d){if(d instanceof Ok)return ol("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new e0(u,a,o)}catch(d){return ol(d instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&Ry(h.target)){const d=new Te(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,gn.newNoDocument(d,e))}o.Be&&(n.set(u,o.ke()),o.Ke())}}));let i=Fe();this.Je.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Df(e,n,this.Ze,this.je,i);return this.je=Ms(),this.He=Ad(),this.Je=Ad(),this.Ze=new vt(qe),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new EE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Yt(qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Yt(qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new EE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ad(){return new vt(Te.comparator)}function SE(){return new vt(Te.comparator)}const b6={asc:"ASCENDING",desc:"DESCENDING"},w6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_6={and:"AND",or:"OR"};class x6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Oy(t,e){return t.useProto3Json||Af(e)?e:{value:e}}function uf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function T6(t,e){return uf(t,e.toTimestamp())}function rs(t){return Xe(!!t,49232),Ce.fromTimestamp((function(n){const i=Or(n);return new ct(i.seconds,i.nanos)})(t))}function t0(t,e){return Dy(t,e).canonicalString()}function Dy(t,e){const n=(function(a){return new ot(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function uR(t){const e=ot.fromString(t);return Xe(mR(e),10190,{key:e.toString()}),e}function Ny(t,e){return t0(t.databaseId,e.path)}function Ag(t,e){const n=uR(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(hR(n))}function cR(t,e){return t0(t.databaseId,e)}function E6(t){const e=uR(t);return e.length===4?ot.emptyPath():hR(e)}function jy(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hR(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AE(t,e,n){return{name:Ny(t,e),fields:n.value.mapValue.fields}}function S6(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Re(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(Xe(y===void 0||typeof y=="string",58123),dn.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),dn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const y=m.code===void 0?le.UNKNOWN:rR(m.code);return new pe(y,m.message||"")})(u);n=new oR(i,a,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ag(t,i.document.name),o=rs(i.document.updateTime),u=i.document.createTime?rs(i.document.createTime):Ce.min(),h=new ai({mapValue:{fields:i.document.fields}}),d=gn.newFoundDocument(a,o,u,h),m=i.targetIds||[],y=i.removedTargetIds||[];n=new Fd(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Ag(t,i.document),o=i.readTime?rs(i.readTime):Ce.min(),u=gn.newNoDocument(a,o),h=i.removedTargetIds||[];n=new Fd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Ag(t,i.document),o=i.removedTargetIds||[];n=new Fd([],o,a,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,u=new m6(a,o),h=i.targetId;n=new aR(h,u)}}return n}function A6(t,e){let n;if(e instanceof Vc)n={update:AE(t,e.key,e.value)};else if(e instanceof sR)n={delete:Ny(t,e.key)};else if(e instanceof Ma)n={update:AE(t,e.key,e.data),updateMask:P6(e.fieldMask)};else{if(!(e instanceof h6))return Re(16599,{dt:e.type});n={verify:Ny(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof pc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof gc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof yc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof lf)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Re(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:T6(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re(27497)})(t,e.precondition)),n}function k6(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map((n=>(function(a,o){let u=a.updateTime?rs(a.updateTime):rs(o);return u.isEqual(Ce.min())&&(u=rs(o)),new l6(u,a.transformResults||[])})(n,e)))):[]}function R6(t,e){return{documents:[cR(t,e.path)]}}function C6(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=cR(t,a);const o=(function(m){if(m.length!==0)return fR(Di.create(m,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(m){if(m.length!==0)return m.map((y=>(function(_){return{field:Bo(_.field),direction:D6(_.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Oy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function I6(t){let e=E6(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Xe(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=(function(v){const _=dR(v);return _ instanceof Di&&zk(_)?_.getFilters():[_]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((_=>(function(k){return new mc(zo(k.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let _;return _=typeof v=="object"?v.value:v,Af(_)?null:_})(n.limit));let d=null;n.startAt&&(d=(function(v){const _=!!v.before,E=v.values||[];return new of(E,_)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const _=!v.before,E=v.values||[];return new of(E,_)})(n.endAt)),GL(e,a,u,o,h,"F",d,m)}function O6(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=zo(n.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=zo(n.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zo(n.unaryFilter.field);return zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zo(n.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(zo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Di.create(n.compositeFilter.filters.map((i=>dR(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(t):Re(30097,{filter:t})}function D6(t){return b6[t]}function N6(t){return w6[t]}function j6(t){return _6[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function zo(t){return hn.fromServerFormat(t.fieldPath)}function fR(t){return t instanceof zt?(function(n){if(n.op==="=="){if(fE(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(dE(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fE(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(dE(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:N6(n.op),value:n.value}}})(t):t instanceof Di?(function(n){const i=n.getFilters().map((a=>fR(a)));return i.length===1?i[0]:{compositeFilter:{op:j6(n.op),filters:i}}})(t):Re(54877,{filter:t})}function P6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function pR(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Tr{constructor(e,n,i,a,o=Ce.min(),u=Ce.min(),h=dn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class V6{constructor(e){this.yt=e}}function M6(t){const e=I6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Iy(e,e.limit,"L"):e}class L6{constructor(){this.Sn=new U6}addToCollectionParentIndex(e,n){return this.Sn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(Ir.min())}updateCollectionGroup(e,n,i){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class U6{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Yt(ot.comparator),o=!a.has(i);return this.index[n]=a.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Yt(ot.comparator)).toArray()}}const kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gR=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(gR,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class hl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new hl(0)}static ar(){return new hl(-1)}}const RE="LruGarbageCollector",B6=1048576;function CE([t,e],[n,i]){const a=qe(t,n);return a===0?qe(e,i):a}class z6{constructor(e){this.Pr=e,this.buffer=new Yt(CE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();CE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class q6{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ge(RE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?ge(RE,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.Ar(3e5)}))}}class F6{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(Sf.ce);const i=new z6(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(kE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,o,u,h,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,n)))).next((v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(m=Date.now(),Lo()<=Ge.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function $6(t,e){return new F6(t,e)}class H6{constructor(){this.changes=new Va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ue.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class G6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class K6{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Ju(i.mutation,a,Ci.empty(),ct.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Fe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Fe()){const a=Aa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((o=>{let u=Uu();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=Aa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Fe())))}populateOverlays(e,n,i){const a=[];return i.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,i,a){let o=Ms();const u=Xu(),h=(function(){return Xu()})();return n.forEach(((d,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Ma)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Ju(y.mutation,m,y.mutation.getFieldMask(),ct.now())):u.set(m.key,Ci.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((m,y)=>u.set(m,y))),n.forEach(((m,y)=>h.set(m,new G6(y,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=Xu();let a=new vt(((u,h)=>u-h)),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let y=i.get(d)||Ci.empty();y=h.applyToLocalView(m,y),i.set(d,y);const v=(a.get(h.batchId)||Fe()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,v=Qk();y.forEach((_=>{if(!o.has(_)){const E=nR(n.get(_),i.get(_));E!==null&&v.set(_,E),o=o.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return ue.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return KL(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-o.size):ue.resolve(Aa());let h=cc,d=o;return u.next((m=>ue.forEach(m,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?ue.resolve():this.remoteDocumentCache.getEntry(e,y).next((_=>{d=d.insert(y,_)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,d,m,Fe()))).next((y=>({batchId:h,changes:Wk(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((i=>{let a=Uu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const o=n.collectionGroup;let u=Uu();return this.indexManager.getCollectionParents(e,o).next((h=>ue.forEach(h,(d=>{const m=(function(v,_){return new Tl(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next((y=>{y.forEach(((v,_)=>{u=u.insert(v,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,a)))).next((u=>{o.forEach(((d,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,gn.newInvalidDocument(y)))}));let h=Uu();return u.forEach(((d,m)=>{const y=o.get(d);y!==void 0&&Ju(y.mutation,m,Ci.empty(),ct.now()),Cf(n,m)&&(h=h.insert(d,m))})),h}))}}class Y6{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ue.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:rs(a.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:M6(a.bundledQuery),readTime:rs(a.readTime)}})(n)),ue.resolve()}}class W6{constructor(){this.overlays=new vt(Te.comparator),this.Lr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Aa();return ue.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,o)=>{this.bt(e,n,o)})),ue.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),ue.resolve()}getOverlaysForCollection(e,n,i){const a=Aa(),o=n.length+1,u=new Te(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&a.set(d.getKey(),d)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let o=new vt(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=Aa(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Aa(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return ue.resolve(h)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new f6(n,i));let o=this.Lr.get(n);o===void 0&&(o=Fe(),this.Lr.set(n,o)),this.Lr.set(n,o.add(i.key))}}class Q6{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}class n0{constructor(){this.kr=new Yt(Jt.Kr),this.qr=new Yt(Jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Jt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Jt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Te(new ot([])),i=new Jt(n,e),a=new Jt(n,e+1),o=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Te(new ot([])),i=new Jt(n,e),a=new Jt(n,e+1);let o=Fe();return this.qr.forEachInRange([i,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new Jt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Te.comparator(e.key,n.key)||qe(e.Hr,n.Hr)}static Ur(e,n){return qe(e.Hr,n.Hr)||Te.comparator(e.key,n.key)}}class X6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Yt(Jt.Kr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new d6(o,n,i,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new Jt(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,n){return ue.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),o=a<0?0:a;return ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Gv:this.Yn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Jt(n,0),a=new Jt(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,a],(u=>{const h=this.Zr(u.Hr);o.push(h)})),ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Yt(qe);return n.forEach((a=>{const o=new Jt(a,0),u=new Jt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(h=>{i=i.add(h.Hr)}))})),ue.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let o=i;Te.isDocumentKey(o)||(o=o.child(""));const u=new Jt(new Te(o),0);let h=new Yt(qe);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),u),ue.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ue.forEach(n.mutations,(a=>{const o=new Jt(a.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Jt(n,0),a=this.Jr.firstAfterOrEqual(i);return ue.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class J6{constructor(e){this.ti=e,this.docs=(function(){return new vt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),o=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ue.resolve(i?i.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let i=Ms();return n.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():gn.newInvalidDocument(a))})),ue.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let o=Ms();const u=n.path,h=new Te(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||TL(xL(y),i)<=0||(a.has(y.key)||Cf(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ue.resolve(o)}getAllFromCollectionGroup(e,n,i,a){Re(9500)}ni(e,n){return ue.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new Z6(this)}getSize(e){return ue.resolve(this.size)}}class Z6 extends H6{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ue.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class e5{constructor(e){this.persistence=e,this.ri=new Va((n=>Wv(n)),Qv),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ii=0,this.si=new n0,this.targetCount=0,this.oi=hl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ue.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new hl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.lr(n),ue.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,i){let a=0;const o=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ue.waitFor(o).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ue.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ue.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),ue.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ue.resolve(i)}containsKey(e,n){return ue.resolve(this.si.containsKey(n))}}class yR{constructor(e,n){this._i={},this.overlays={},this.ai=new Sf(0),this.ui=!1,this.ui=!0,this.ci=new Q6,this.referenceDelegate=e(this),this.li=new e5(this),this.indexManager=new L6,this.remoteDocumentCache=(function(a){return new J6(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new V6(n),this.Pi=new Y6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new X6(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ge("MemoryPersistence","Starting transaction:",e);const a=new t5(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(e,n){return ue.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class t5 extends SL{constructor(e){super(),this.currentSequenceNumber=e}}class i0{constructor(e){this.persistence=e,this.Ri=new n0,this.Ai=null}static Vi(e){return new i0(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ue.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,(i=>{const a=Te.fromPath(i);return this.mi(e,a).next((o=>{o||n.removeEntry(a,Ce.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class cf{constructor(e,n){this.persistence=e,this.fi=new Va((i=>RL(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=$6(this,n)}static Vi(e,n){return new cf(e,n)}Ti(){}Ii(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ue.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((o=>o?ue.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((h=>{h||(i++,o.removeEntry(u,Ce.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bd(e.data.value)),n}wr(e,n,i){return ue.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ue.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class s0{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Fe(),a=Fe();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new s0(e,n.fromCache,i,a)}}class n5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class i5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return FM()?8:AL(zM())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const o={result:null};return this.gs(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(e,n,a,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new n5;return this.ys(e,n,u).next((h=>{if(o.result=h,this.As)return this.ws(e,n,u,h.size)}))})).next((()=>o.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(Lo()<=Ge.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(Lo()<=Ge.DEBUG&&ge("QueryEngine","Query:",Uo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Lo()<=Ge.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ss(n))):ue.resolve())}gs(e,n){if(yE(n))return ue.resolve(null);let i=ss(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Iy(n,null,"F"),i=ss(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=Fe(...o);return this.fs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const m=this.bs(n,h);return this.Ss(n,m,u,d.readTime)?this.gs(e,Iy(n,null,"F")):this.Ds(e,m,n,d)}))))})))))}ps(e,n,i,a){return yE(n)||a.isEqual(Ce.min())?ue.resolve(null):this.fs.getDocuments(e,i).next((o=>{const u=this.bs(n,o);return this.Ss(n,u,i,a)?ue.resolve(null):(Lo()<=Ge.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Uo(n)),this.Ds(e,u,n,_L(a,cc)).next((h=>h)))}))}bs(e,n){let i=new Yt(Kk(e));return n.forEach(((a,o)=>{Cf(e,o)&&(i=i.add(o))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(e,n,i){return Lo()<=Ge.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.fs.getDocumentsMatchingQuery(e,n,Ir.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const r0="LocalStore",s5=3e8;class r5{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new vt(qe),this.Fs=new Va((o=>Wv(o)),Qv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function a5(t,e,n,i){return new r5(t,e,n,i)}async function vR(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let d=Fe();for(const m of a){u.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(i,d).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function o5(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,y){const v=m.batch,_=v.keys();let E=ue.resolve();return _.forEach((k=>{E=E.next((()=>y.getEntry(d,k))).next((R=>{const O=m.docVersions.get(k);Xe(O!==null,48541),R.version.compareTo(O)<0&&(v.applyToRemoteDocument(R,m),R.isValidDocument()&&(R.setReadTime(m.commitVersion),y.addEntry(R)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Fe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function bR(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function l5(t,e){const n=De(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((y,v)=>{const _=a.get(v);if(!_)return;h.push(n.li.removeMatchingKeys(o,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(o,y.addedDocuments,v))));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(dn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,i)),a=a.insert(v,E),(function(R,O,N){return R.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=s5?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(_,E,y)&&h.push(n.li.updateTargetData(o,E))}));let d=Ms(),m=Fe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(u5(o,u,e.documentUpdates).next((y=>{d=y.Bs,m=y.Ls}))),!i.isEqual(Ce.min())){const y=n.li.getLastRemoteSnapshotVersion(o).next((v=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return ue.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(n.vs=a,o)))}function u5(t,e,n){let i=Fe(),a=Fe();return n.forEach((o=>i=i.add(o))),e.getEntries(t,i).next((o=>{let u=Ms();return n.forEach(((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ge(r0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:u,Ls:a}}))}function c5(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Gv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function h5(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((o=>o?(a=o,ue.resolve(a)):n.li.allocateTargetId(i).next((u=>(a=new Tr(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Py(t,e,n){const i=De(t),a=i.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!xl(u))throw u;ge(r0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function IE(t,e,n){const i=De(t);let a=Ce.min(),o=Fe();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,m,y){const v=De(d),_=v.Fs.get(y);return _!==void 0?ue.resolve(v.vs.get(_)):v.li.getTargetData(m,y)})(i,u,ss(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,n?a:Ce.min(),n?o:Fe()))).next((h=>(d5(i,QL(e),h),{documents:h,ks:o})))))}function d5(t,e,n){let i=t.Ms.get(e)||Ce.min();n.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),t.Ms.set(e,i)}class OE{constructor(){this.activeTargetIds=n6()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f5{constructor(){this.vo=new OE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new OE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class m5{Mo(e){}shutdown(){}}const DE="ConnectivityMonitor";class NE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ge(DE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ge(DE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kd=null;function Vy(){return kd===null?kd=(function(){return 268435456+Math.round(2147483648*Math.random())})():kd++,"0x"+kd.toString(16)}const kg="RestConnection",p5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class g5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===rf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,o){const u=Vy(),h=this.Qo(e,n.toUriEncodedString());ge(kg,`Sending RPC '${e}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,o);const{host:m}=new URL(h),y=qv(m);return this.zo(e,h,d,i,y).then((v=>(ge(kg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw ol(kg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}jo(e,n,i,a,o,u){return this.Wo(e,n,i,a,o)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),i&&i.headers.forEach(((a,o)=>e[o]=a))}Qo(e,n){const i=p5[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class y5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const mn="WebChannelConnection",Pu=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class el extends g5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!el.c_){const e=Tk();Pu(e,xk.STAT_EVENT,(n=>{n.stat===Ty.PROXY?ge(mn,"STAT_EVENT: detected buffering proxy"):n.stat===Ty.NOPROXY&&ge(mn,"STAT_EVENT: detected no buffering proxy")})),el.c_=!0}}zo(e,n,i,a,o){const u=Vy();return new Promise(((h,d)=>{const m=new wk;m.setWithCredentials(!0),m.listenOnce(_k.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Ud.NO_ERROR:const v=m.getResponseJson();ge(mn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Ud.TIMEOUT:ge(mn,`RPC '${e}' ${u} timed out`),d(new pe(le.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const _=m.getStatus();if(ge(mn,`RPC '${e}' ${u} failed with status:`,_,"response text:",m.getResponseText()),_>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const k=E?.error;if(k&&k.status&&k.message){const R=(function(N){const U=N.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(U)>=0?U:le.UNKNOWN})(k.status);d(new pe(R,k.message))}else d(new pe(le.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new pe(le.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ge(mn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);ge(mn,`RPC '${e}' ${u} sending request:`,a),m.send(n,"POST",y,i,15)}))}T_(e,n,i){const a=Vy(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=o.join("");ge(mn,`Creating RPC '${e}' stream ${a}: ${m}`,h);const y=u.createWebChannel(m,h);this.I_(y);let v=!1,_=!1;const E=new y5({Ho:k=>{_?ge(mn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(v||(ge(mn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),ge(mn,`RPC '${e}' stream ${a} sending:`,k),y.send(k))},Jo:()=>y.close()});return Pu(y,Lu.EventType.OPEN,(()=>{_||(ge(mn,`RPC '${e}' stream ${a} transport opened.`),E.i_())})),Pu(y,Lu.EventType.CLOSE,(()=>{_||(_=!0,ge(mn,`RPC '${e}' stream ${a} transport closed`),E.o_(),this.E_(y))})),Pu(y,Lu.EventType.ERROR,(k=>{_||(_=!0,ol(mn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),E.o_(new pe(le.UNAVAILABLE,"The operation could not be completed")))})),Pu(y,Lu.EventType.MESSAGE,(k=>{if(!_){const R=k.data[0];Xe(!!R,16349);const O=R,N=O?.error||O[0]?.error;if(N){ge(mn,`RPC '${e}' stream ${a} received error:`,N);const U=N.status;let V=(function(ce){const I=Lt[ce];if(I!==void 0)return rR(I)})(U),ne=N.message;V===void 0&&(V=le.INTERNAL,ne="Unknown error status: "+U+" with message "+N.message),_=!0,E.o_(new pe(V,ne)),y.close()}else ge(mn,`RPC '${e}' stream ${a} received:`,R),E.__(R)}})),el.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ek()}}function v5(t){return new el(t)}function Rg(){return typeof document<"u"?document:null}function Nf(t){return new x6(t,!0)}el.c_=!1;class wR{constructor(e,n,i=1e3,a=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const jE="PersistentStream";class _R{constructor(e,n,i,a,o,u,h,d){this.Ci=e,this.b_=i,this.S_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new pe(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(jE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ge(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class b5 extends _R{constructor(e,n,i,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=S6(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Ce.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?rs(u.readTime):Ce.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=jy(this.serializer),n.addTarget=(function(o,u){let h;const d=u.target;if(h=Ry(d)?{documents:R6(o,d)}:{query:C6(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=lR(o,u.resumeToken);const m=Oy(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=uf(o,u.snapshotVersion.toTimestamp());const m=Oy(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const i=O6(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=jy(this.serializer),n.removeTarget=e,this.K_(n)}}class w5 extends _R{constructor(e,n,i,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=k6(e.writeResults,e.commitTime),i=rs(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=jy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>A6(this.serializer,i)))};this.K_(n)}}class _5{}class x5 extends _5{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,Dy(n,i),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(le.UNKNOWN,o.toString())}))}jo(e,n,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(e,Dy(n,i),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(le.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function T5(t,e,n,i){return new x5(t,e,n,i)}class E5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Na="RemoteStore";class S5{constructor(e,n,i,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{La(this)&&(ge(Na,"Restarting streams for network reachability change."),await(async function(d){const m=De(d);m.Ea.add(4),await Lc(m),m.Va.set("Unknown"),m.Ea.delete(4),await jf(m)})(this))}))})),this.Va=new E5(i,a)}}async function jf(t){if(La(t))for(const e of t.Ra)await e(!0)}async function Lc(t){for(const e of t.Ra)await e(!1)}function xR(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),u0(n)?l0(n):El(n).O_()&&o0(n,e))}function a0(t,e){const n=De(t),i=El(n);n.Ia.delete(e),i.O_()&&TR(n,e),n.Ia.size===0&&(i.O_()?i.L_():La(n)&&n.Va.set("Unknown"))}function o0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}El(t).Z_(e)}function TR(t,e){t.da.$e(e),El(t).X_(e)}function l0(t){t.da=new v6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),El(t).start(),t.Va.ua()}function u0(t){return La(t)&&!El(t).x_()&&t.Ia.size>0}function La(t){return De(t).Ea.size===0}function ER(t){t.da=void 0}async function A5(t){t.Va.set("Online")}async function k5(t){t.Ia.forEach(((e,n)=>{o0(t,e)}))}async function R5(t,e){ER(t),u0(t)?(t.Va.ha(e),l0(t)):t.Va.set("Unknown")}async function C5(t,e,n){if(t.Va.set("Online"),e instanceof oR&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(i){ge(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hf(t,i)}else if(e instanceof Fd?t.da.Xe(e):e instanceof aR?t.da.st(e):t.da.tt(e),!n.isEqual(Ce.min()))try{const i=await bR(t.localStore);n.compareTo(i)>=0&&await(function(o,u){const h=o.da.Tt(u);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,m)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken(dn.EMPTY_BYTE_STRING,y.snapshotVersion)),TR(o,d);const v=new Tr(y.target,d,m,y.sequenceNumber);o0(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){ge(Na,"Failed to raise snapshot:",i),await hf(t,i)}}async function hf(t,e,n){if(!xl(e))throw e;t.Ea.add(1),await Lc(t),t.Va.set("Offline"),n||(n=()=>bR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(Na,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jf(t)}))}function SR(t,e){return e().catch((n=>hf(t,n,e)))}async function Pf(t){const e=De(t),n=jr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gv;for(;I5(e);)try{const a=await c5(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,O5(e,a)}catch(a){await hf(e,a)}AR(e)&&kR(e)}function I5(t){return La(t)&&t.Ta.length<10}function O5(t,e){t.Ta.push(e);const n=jr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function AR(t){return La(t)&&!jr(t).x_()&&t.Ta.length>0}function kR(t){jr(t).start()}async function D5(t){jr(t).ra()}async function N5(t){const e=jr(t);for(const n of t.Ta)e.ea(n.mutations)}async function j5(t,e,n){const i=t.Ta.shift(),a=Zv.from(i,e,n);await SR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Pf(t)}async function P5(t,e){e&&jr(t).Y_&&await(async function(i,a){if((function(u){return p6(u)&&u!==le.ABORTED})(a.code)){const o=i.Ta.shift();jr(i).B_(),await SR(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Pf(i)}})(t,e),AR(t)&&kR(t)}async function PE(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),ge(Na,"RemoteStore received new credentials");const i=La(n);n.Ea.add(3),await Lc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jf(n)}async function V5(t,e){const n=De(t);e?(n.Ea.delete(2),await jf(n)):e||(n.Ea.add(2),await Lc(n),n.Va.set("Unknown"))}function El(t){return t.ma||(t.ma=(function(n,i,a){const o=De(n);return o.sa(),new b5(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Zo:A5.bind(null,t),Yo:k5.bind(null,t),t_:R5.bind(null,t),J_:C5.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),u0(t)?l0(t):t.Va.set("Unknown")):(await t.ma.stop(),ER(t))}))),t.ma}function jr(t){return t.fa||(t.fa=(function(n,i,a){const o=De(n);return o.sa(),new w5(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:D5.bind(null,t),t_:P5.bind(null,t),ta:N5.bind(null,t),na:j5.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Pf(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(Na,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class c0{constructor(e,n,i,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,o){const u=Date.now()+i,h=new c0(e,n,u,a,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h0(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),xl(t))return new pe(le.UNAVAILABLE,`${e}: ${t}`);throw t}class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=Uu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new tl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class VE{constructor(){this.ga=new vt(Te.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class dl{constructor(e,n,i,a,o,u,h,d,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new dl(e,n,tl.emptySet(n),u,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class M5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class L5{constructor(){this.queries=ME(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=De(n),o=a.queries;a.queries=ME(),o.forEach(((u,h)=>{for(const d of h.ba)d.onError(i)}))})(this,new pe(le.ABORTED,"Firestore shutting down"))}}function ME(){return new Va((t=>Gk(t)),Rf)}async function U5(t,e){const n=De(t);let i=3;const a=e.query;let o=n.queries.get(a);o?!o.Sa()&&e.Da()&&(i=2):(o=new M5,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=h0(u,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&d0(n)}async function B5(t,e){const n=De(t),i=e.query;let a=3;const o=n.queries.get(i);if(o){const u=o.ba.indexOf(e);u>=0&&(o.ba.splice(u,1),o.ba.length===0?a=e.Da()?0:1:!o.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function z5(t,e){const n=De(t);let i=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const h of u.ba)h.Fa(a)&&(i=!0);u.wa=a}}i&&d0(n)}function q5(t,e,n){const i=De(t),a=i.queries.get(e);if(a)for(const o of a.ba)o.onError(n);i.queries.delete(e)}function d0(t){t.Ca.forEach((e=>{e.next()}))}var My,LE;(LE=My||(My={})).Ma="default",LE.Cache="cache";class F5{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new dl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==My.Cache}}class RR{constructor(e){this.key=e}}class CR{constructor(e){this.key=e}}class $5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=Kk(e),this.tu=new tl(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new VE,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const _=a.get(y),E=Cf(this.query,v)?v:null,k=!!_&&this.mutatedKeys.has(_.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let O=!1;_&&E?_.data.isEqual(E.data)?k!==R&&(i.track({type:3,doc:E}),O=!0):this.su(_,E)||(i.track({type:2,doc:E}),O=!0,(d&&this.eu(E,d)>0||m&&this.eu(E,m)<0)&&(h=!0)):!_&&E?(i.track({type:0,doc:E}),O=!0):_&&!E&&(i.track({type:1,doc:_}),O=!0,(d||m)&&(h=!0)),O&&(E?(u=u.add(E),o=R?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Ss:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(E,k){const R=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:O})}};return R(E)-R(k)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,u.length!==0||m?{snapshot:new dl(this.query,e.tu,o,u,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new VE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new CR(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new RR(i))})),n}cu(e){this.Za=e.ks,this.Ya=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const f0="SyncEngine";class H5{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class G5{constructor(e){this.key=e,this.hu=!1}}class K5{constructor(e,n,i,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Va((h=>Gk(h)),Rf),this.Iu=new Map,this.Eu=new Set,this.Ru=new vt(Te.comparator),this.Au=new Map,this.Vu=new n0,this.du={},this.mu=new Map,this.fu=hl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Y5(t,e,n=!0){const i=PR(t);let a;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await IR(i,e,n,!0),a}async function W5(t,e){const n=PR(t);await IR(n,e,!0,!1)}async function IR(t,e,n,i){const a=await h5(t.localStore,ss(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await Q5(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&xR(t.remoteStore,a),h}async function Q5(t,e,n,i,a){t.pu=(v,_,E)=>(async function(R,O,N,U){let V=O.view.ru(N);V.Ss&&(V=await IE(R.localStore,O.query,!1).then((({documents:I})=>O.view.ru(I,V))));const ne=U&&U.targetChanges.get(O.targetId),se=U&&U.targetMismatches.get(O.targetId)!=null,ce=O.view.applyChanges(V,R.isPrimaryClient,ne,se);return BE(R,O.targetId,ce.au),ce.snapshot})(t,v,_,E);const o=await IE(t.localStore,e,!0),u=new $5(e,o.ks),h=u.ru(o.documents),d=Mc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=u.applyChanges(h,t.isPrimaryClient,d);BE(t,n,m.au);const y=new H5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function X5(t,e,n){const i=De(t),a=i.Tu.get(e),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((u=>!Rf(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Py(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&a0(i.remoteStore,a.targetId),Ly(i,a.targetId)})).catch(_l)):(Ly(i,a.targetId),await Py(i.localStore,a.targetId,!0))}async function J5(t,e){const n=De(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),a0(n.remoteStore,i.targetId))}async function Z5(t,e,n){const i=aU(t);try{const a=await(function(u,h){const d=De(u),m=ct.now(),y=h.reduce(((E,k)=>E.add(k.key)),Fe());let v,_;return d.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let k=Ms(),R=Fe();return d.xs.getEntries(E,y).next((O=>{k=O,k.forEach(((N,U)=>{U.isValidDocument()||(R=R.add(N))}))})).next((()=>d.localDocuments.getOverlayedDocuments(E,k))).next((O=>{v=O;const N=[];for(const U of h){const V=c6(U,v.get(U.key).overlayedDocument);V!=null&&N.push(new Ma(U.key,V,Lk(V.value.mapValue),Ds.exists(!0)))}return d.mutationQueue.addMutationBatch(E,m,N,h)})).next((O=>{_=O;const N=O.applyToLocalDocumentSet(v,R);return d.documentOverlayCache.saveOverlays(E,O.batchId,N)}))})).then((()=>({batchId:_.batchId,changes:Wk(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let m=u.du[u.currentUser.toKey()];m||(m=new vt(qe)),m=m.insert(h,d),u.du[u.currentUser.toKey()]=m})(i,a.batchId,n),await Uc(i,a.changes),await Pf(i.remoteStore)}catch(a){const o=h0(a,"Failed to persist write");n.reject(o)}}async function OR(t,e){const n=De(t);try{const i=await l5(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=n.Au.get(o);u&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Xe(u.hu,14607):a.removedDocuments.size>0&&(Xe(u.hu,42227),u.hu=!1))})),await Uc(n,i,e)}catch(i){await _l(i)}}function UE(t,e,n){const i=De(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=De(u);d.onlineState=h;let m=!1;d.queries.forEach(((y,v)=>{for(const _ of v.ba)_.va(h)&&(m=!0)})),m&&d0(d)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function eU(t,e,n){const i=De(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),o=a&&a.key;if(o){let u=new vt(Te.comparator);u=u.insert(o,gn.newNoDocument(o,Ce.min()));const h=Fe().add(o),d=new Df(Ce.min(),new Map,new vt(qe),u,h);await OR(i,d),i.Ru=i.Ru.remove(o),i.Au.delete(e),m0(i)}else await Py(i.localStore,e,!1).then((()=>Ly(i,e,n))).catch(_l)}async function tU(t,e){const n=De(t),i=e.batch.batchId;try{const a=await o5(n.localStore,e);NR(n,i,null),DR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Uc(n,a)}catch(a){await _l(a)}}async function nU(t,e,n){const i=De(t);try{const a=await(function(u,h){const d=De(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next((v=>(Xe(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(m,v)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>d.localDocuments.getDocuments(m,y)))}))})(i.localStore,e);NR(i,e,n),DR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Uc(i,a)}catch(a){await _l(a)}}function DR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function NR(t,e,n){const i=De(t);let a=i.du[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function Ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||jR(t,i)}))}function jR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(a0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),m0(t))}function BE(t,e,n){for(const i of n)i instanceof RR?(t.Vu.addReference(i.key,e),iU(t,i)):i instanceof CR?(ge(f0,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||jR(t,i.key)):Re(19791,{wu:i})}function iU(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(ge(f0,"New document in limbo: "+n),t.Eu.add(i),m0(t))}function m0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(ot.fromString(e)),i=t.fu.next();t.Au.set(i,new G5(n)),t.Ru=t.Ru.insert(n,i),xR(t.remoteStore,new Tr(ss(Xv(n.path)),i,"TargetPurposeLimboResolution",Sf.ce))}}async function Uc(t,e,n){const i=De(t),a=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{u.push(i.pu(d,e,n).then((m=>{if((m||n)&&i.isPrimaryClient){const y=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){a.push(m);const y=s0.Es(d.targetId,m);o.push(y)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(d,m){const y=De(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ue.forEach(m,(_=>ue.forEach(_.Ts,(E=>y.persistence.referenceDelegate.addReference(v,_.targetId,E))).next((()=>ue.forEach(_.Is,(E=>y.persistence.referenceDelegate.removeReference(v,_.targetId,E)))))))))}catch(v){if(!xl(v))throw v;ge(r0,"Failed to update sequence numbers: "+v)}for(const v of m){const _=v.targetId;if(!v.fromCache){const E=y.vs.get(_),k=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(k);y.vs=y.vs.insert(_,R)}}})(i.localStore,o))}async function sU(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){ge(f0,"User change. New user:",e.toKey());const i=await vR(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new pe(le.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Uc(n,i.Ns)}}function rU(t,e){const n=De(t),i=n.Au.get(e);if(i&&i.hu)return Fe().add(i.key);{let a=Fe();const o=n.Iu.get(e);if(!o)return a;for(const u of o){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function PR(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eU.bind(null,e),e.Pu.J_=z5.bind(null,e.eventManager),e.Pu.yu=q5.bind(null,e.eventManager),e}function aU(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nU.bind(null,e),e}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return a5(this.persistence,new i5,e.initialUser,this.serializer)}Cu(e){return new yR(i0.Vi,this.serializer)}Du(e){return new f5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class oU extends df{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof cf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new q6(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new yR((i=>cf.Vi(i,n)),this.serializer)}}class Uy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>UE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sU.bind(null,this.syncEngine),await V5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new L5})()}createDatastore(e){const n=Nf(e.databaseInfo.databaseId),i=v5(e.databaseInfo);return T5(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,o,u,h){return new S5(i,a,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>UE(this.syncEngine,n,0)),(function(){return NE.v()?new NE:new m5})())}createSyncEngine(e,n){return(function(a,o,u,h,d,m,y){const v=new K5(a,o,u,h,d,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=De(n);ge(Na,"RemoteStore shutting down."),i.Ea.add(5),await Lc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Uy.provider={build:()=>new Uy};class lU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Pr="FirestoreClient";class uU{constructor(e,n,i,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=Hv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{ge(Pr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ge(Pr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=h0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Cg(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Pr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await vR(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function zE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cU(t);ge(Pr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>PE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>PE(e.remoteStore,a))),t._onlineComponents=e}async function cU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Pr,"Using user provided OfflineComponentProvider");try{await Cg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ol("Error using user provided cache. Falling back to memory cache: "+n),await Cg(t,new df)}}else ge(Pr,"Using default OfflineComponentProvider"),await Cg(t,new oU(void 0));return t._offlineComponents}async function VR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Pr,"Using user provided OnlineComponentProvider"),await zE(t,t._uninitializedComponentsProvider._online)):(ge(Pr,"Using default OnlineComponentProvider"),await zE(t,new Uy))),t._onlineComponents}function hU(t){return VR(t).then((e=>e.syncEngine))}async function qE(t){const e=await VR(t),n=e.eventManager;return n.onListen=Y5.bind(null,e.syncEngine),n.onUnlisten=X5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=W5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=J5.bind(null,e.syncEngine),n}function dU(t,e,n,i){const a=new lU(i),o=new F5(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>U5(await qE(t),o))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>B5(await qE(t),o)))}}function fU(t,e){const n=new Ca;return t.asyncQueue.enqueueAndForget((async()=>Z5(await hU(t),e,n))),n.promise}function MR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const mU="ComponentProvider",FE=new Map;function pU(t,e,n,i,a){return new OL(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,MR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const LR="firestore.googleapis.com",$E=!0;class HE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LR,this.ssl=$E}else this.host=e.host,this.ssl=e.ssl??$E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B6)throw new pe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MR(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new cL;switch(i.type){case"firstParty":return new mL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=FE.get(n);i&&(ge(mU,"Removing Datastore"),FE.delete(n),i.terminate())})(this),Promise.resolve()}}function gU(t,e,n,i={}){t=Yu(t,Vf);const a=qv(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(VM(`https://${h}`),BM("Firestore",!0)),o.host!==LR&&o.host!==h&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:i};if(!ef(d,u)&&(t._setSettings(d),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=pn.MOCK_USER;else{m=MM(i.mockUserToken,t._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new pe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new pn(v)}t._authCredentials=new hL(new Ak(m,y))}}class Ua{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ua(this.firestore,e,this._query)}}class Kt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Pc(n,Kt._jsonSchema))return new Kt(e,i||null,new Te(ot.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:qt("string",Kt._jsonSchemaVersion),referencePath:qt("string")};class kr extends Ua{constructor(e,n,i){super(e,n,Xv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Te(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function UR(t,e,...n){if(t=Oa(t),kk("collection","path",e),t instanceof Vf){const i=ot.fromString(e,...n);return iE(i),new kr(t,null,i)}{if(!(t instanceof Kt||t instanceof kr))throw new pe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return iE(i),new kr(t.firestore,null,i)}}function yU(t,e,...n){if(t=Oa(t),arguments.length===1&&(e=Hv.newId()),kk("doc","path",e),t instanceof Vf){const i=ot.fromString(e,...n);return nE(i),new Kt(t,null,new Te(i))}{if(!(t instanceof Kt||t instanceof kr))throw new pe(le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return nE(i),new Kt(t.firestore,t instanceof kr?t.converter:null,new Te(i))}}const GE="AsyncQueue";class KE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wR(this,"async_queue_retry"),this._c=()=>{const i=Rg();i&&ge(GE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Rg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;ge(GE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",YE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=c0.createAndSchedule(this,e,n,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:YE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function YE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ff extends Vf{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new KE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KE(e),this._firestoreClient=void 0,await e}}}function vU(t,e){const n=typeof t=="object"?t:Q3(),i=typeof t=="string"?t:rf,a=H3(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=jM("firestore");o&&gU(a,...o)}return a}function BR(t){if(t._terminated)throw new pe(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bU(t),t._firestoreClient}function bU(t){const e=t._freezeSettings(),n=pU(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new uU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(dn.fromBase64String(e))}catch(n){throw new pe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oi(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pc(e,oi._jsonSchema))return oi.fromBase64String(e.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:qt("string",oi._jsonSchemaVersion),bytes:qt("string")};class zR{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class p0{constructor(e){this._methodName=e}}class as{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(e){if(Pc(e,as._jsonSchema))return new as(e.latitude,e.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:qt("string",as._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class Ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pc(e,Ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ii(e.vectorValues);throw new pe(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:qt("string",Ii._jsonSchemaVersion),vectorValues:qt("object")};const wU=/^__.*__$/;class _U{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vc(e,this.data,n,this.fieldTransforms)}}function qR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:t})}}class g0{constructor(e,n,i,a,o,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new g0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return mf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(qR(this.dataSource)&&wU.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class xU{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Nf(e)}createContext(e,n,i,a=!1){return new g0({dataSource:e,methodName:n,targetDoc:i,path:hn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FR(t){const e=t._freezeSettings(),n=Nf(t._databaseId);return new xU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TU(t,e,n,i,a,o={}){const u=t.createContext(o.merge||o.mergeFields?2:0,e,n,a);GR("Data must be an object, but it was:",u,i);const h=$R(i,u);let d,m;if(o.merge)d=new Ci(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const _=Bc(e,v,n);if(!u.contains(_))throw new pe(le.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);kU(y,_)||y.push(_)}d=new Ci(y),m=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,m=u.fieldTransforms;return new _U(new ai(h),d,m)}class y0 extends p0{_toFieldTransform(e){return new a6(e.path,new pc)}isEqual(e){return e instanceof y0}}function EU(t,e,n,i=!1){return v0(n,t.createContext(i?4:3,e))}function v0(t,e){if(HR(t=Oa(t)))return GR("Unsupported field value:",e,t),$R(t,e);if(t instanceof p0)return(function(i,a){if(!qR(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const o=[];let u=0;for(const h of i){let d=v0(h,a.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(t,e)}return(function(i,a){if((i=Oa(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return i6(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ct.fromDate(i);return{timestampValue:uf(a.serializer,o)}}if(i instanceof ct){const o=new ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:uf(a.serializer,o)}}if(i instanceof as)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof oi)return{bytesValue:lR(a.serializer,i._byteString)};if(i instanceof Kt){const o=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:t0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ii)return(function(u,h){const d=u instanceof Ii?u.toArray():u;return{mapValue:{fields:{[Vk]:{stringValue:Mk},[af]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return Jv(h.serializer,y)}))}}}}}})(i,a);if(pR(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Ef(i)}`)})(t,e)}function $R(t,e){const n={};return Ik(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(t,((i,a)=>{const o=v0(a,e.childContextForField(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function HR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof as||t instanceof oi||t instanceof Kt||t instanceof p0||t instanceof Ii||pR(t))}function GR(t,e,n){if(!HR(n)||!Rk(n)){const i=Ef(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function Bc(t,e,n){if((e=Oa(e))instanceof zR)return e._internalPath;if(typeof e=="string")return AU(t,e);throw mf("Field path arguments must be of type string or ",t,!1,void 0,n)}const SU=new RegExp("[~\\*/\\[\\]]");function AU(t,e,n){if(e.search(SU)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zR(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mf(t,e,n,i,a){const o=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${i}`),u&&(d+=` in document ${a}`),d+=")"),new pe(le.INVALID_ARGUMENT,h+t+d)}function kU(t,e){return t.some((n=>n.isEqual(e)))}class RU{convertValue(e,n="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Pa(e,((a,o)=>{i[a]=this.convertValue(o,n)})),i}convertVectorValue(e){const n=e.fields?.[af].arrayValue?.values?.map((i=>Rt(i.doubleValue)));return new Ii(n)}convertGeoPoint(e){return new as(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=kf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const n=Or(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ot.fromString(e);Xe(mR(i),9688,{name:e});const a=new dc(i.get(1),i.get(3)),o=new Te(i.popFirst(5));return a.isEqual(n)||Vs(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class KR extends RU{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function CU(){return new y0("serverTimestamp")}const WE="@firebase/firestore",QE="4.10.0";function XE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class YR{constructor(e,n,i,a,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Bc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IU extends YR{data(){return super.data()}}function OU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b0{}class WR extends b0{}function DU(t,e,...n){let i=[];e instanceof b0&&i.push(e),i=i.concat(n),(function(o){const u=o.filter((d=>d instanceof w0)).length,h=o.filter((d=>d instanceof Mf)).length;if(u>1||u>0&&h>0)throw new pe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Mf extends WR{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Mf(e,n,i)}_apply(e){const n=this._parse(e);return QR(e._query,n),new Ua(e.firestore,e.converter,Cy(e._query,n))}_parse(e){const n=FR(e.firestore);return(function(o,u,h,d,m,y,v){let _;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new pe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){ZE(v,y);const k=[];for(const R of v)k.push(JE(d,o,R));_={arrayValue:{values:k}}}else _=JE(d,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||ZE(v,y),_=EU(h,u,v,y==="in"||y==="not-in");return zt.create(m,y,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function NU(t,e,n){const i=e,a=Bc("where",t);return Mf._create(a,i,n)}class w0 extends b0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new w0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let u=a;const h=o.getFlattenedFilters();for(const d of h)QR(u,d),u=Cy(u,d)})(e._query,n),new Ua(e.firestore,e.converter,Cy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _0 extends WR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _0(e,n)}_apply(e){const n=(function(a,o,u){if(a.startAt!==null)throw new pe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new pe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mc(o,u)})(e._query,this._field,this._direction);return new Ua(e.firestore,e.converter,WL(e._query,n))}}function jU(t,e="asc"){const n=e,i=Bc("orderBy",t);return _0._create(i,n)}function JE(t,e,n){if(typeof(n=Oa(n))=="string"){if(n==="")throw new pe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hk(e)&&n.indexOf("/")!==-1)throw new pe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ot.fromString(n));if(!Te.isDocumentKey(i))throw new pe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return hE(t,new Te(i))}if(n instanceof Kt)return hE(t,n._key);throw new pe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(n)}.`)}function ZE(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QR(t,e){const n=(function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function PU(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class zu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends YR{constructor(e,n,i,a,o,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Bc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:qt("string",Ia._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class $d extends Ia{data(e={}){return super.data(e)}}class nl{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new zu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new $d(this._firestore,this._userDataWriter,i.key,i,new zu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new $d(a._firestore,a._userDataWriter,h.doc.key,h.doc,new zu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new $d(a._firestore,a._userDataWriter,h.doc.key,h.doc,new zu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:VU(h.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}nl._jsonSchemaVersion="firestore/querySnapshot/1.0",nl._jsonSchema={type:qt("string",nl._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};function MU(t,e){const n=Yu(t.firestore,ff),i=yU(t),a=PU(t.converter,e),o=FR(t.firestore);return UU(n,[TU(o,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Ds.exists(!1))]).then((()=>i))}function LU(t,...e){t=Oa(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||XE(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(XE(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let o,u,h;if(t instanceof Kt)u=Yu(t.firestore,ff),h=Xv(t._key.path),o={next:m=>{e[i]&&e[i](BU(u,t,m))},error:e[i+1],complete:e[i+2]};else{const m=Yu(t,Ua);u=Yu(m.firestore,ff),h=m._query;const y=new KR(u);o={next:v=>{e[i]&&e[i](new nl(u,y,m,v))},error:e[i+1],complete:e[i+2]},OU(t._query)}const d=BR(u);return dU(d,h,a,o)}function UU(t,e){const n=BR(t);return fU(n,e)}function BU(t,e,n){const i=n.docs.get(e._key),a=new KR(t);return new Ia(t,a,e._key,i,new zu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){uL(W3),nf(new lc("firestore",((i,{instanceIdentifier:a,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new ff(new dL(i.getProvider("auth-internal")),new pL(u,i.getProvider("app-check-internal")),DL(u,a),u);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Zo(WE,QE,e),Zo(WE,QE,"esm2020")})();const zU={apiKey:"AIzaSyAvNdhbT6MtKxuBNepI7Du8wxoaxiWumwQ",authDomain:"shloki-8d195.firebaseapp.com",projectId:"shloki-8d195",storageBucket:"shloki-8d195.firebasestorage.app",messagingSenderId:"711703561397",appId:"1:711703561397:web:414190e4a480b2fb616afc",measurementId:"G-WM9R5233PF"},qU=gk(zU),XR=vU(qU),FU=(t,e)=>{const n=DU(UR(XR,"reviews"),NU("bookId","==",t),jU("createdAt","desc"));return LU(n,i=>{const a=i.docs.map(o=>{const u=o.data(),h=u.createdAt?.toDate?u.createdAt.toDate().toLocaleDateString():"Just now";return{id:o.id,...u,date:h}});e(a)})},$U=async(t,e,n,i)=>{try{return await MU(UR(XR,"reviews"),{bookId:t,user:e||"Anonymous Seeker",rating:n,text:i,createdAt:CU()}),!0}catch(a){return console.error("Error posting review:",a),!1}};function HU({bookId:t,bookTitle:e}){const[n,i]=j.useState([]),[a,o]=j.useState(!0),[u,h]=j.useState(!1),[d,m]=j.useState(!1),[y,v]=j.useState(!1),[_,E]=j.useState(""),[k,R]=j.useState(0),[O,N]=j.useState(0),[U,V]=j.useState("");j.useEffect(()=>{o(!0);const I=FU(t,A=>{i(A),o(!1)});return()=>I()},[t]);const ne=n.length?(n.reduce((I,A)=>I+A.rating,0)/n.length).toFixed(1):0,se=y?n:n.slice(0,3),ce=async I=>{if(I.preventDefault(),k===0||!U)return;m(!0);const A=await $U(t,_,k,U);m(!1),A?(h(!1),E(""),R(0),V(""),v(!0)):alert("Failed to post review.")};return w.jsx("section",{className:"relative mt-8 md:mt-12 pt-8 pb-16 px-4 border-t border-white/5",children:w.jsxs("div",{className:"max-w-5xl mx-auto relative z-10",children:[w.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 md:gap-6 mb-8",children:[w.jsxs("div",{className:"text-center md:text-left",children:[w.jsx("h3",{className:"font-serif text-xl md:text-2xl text-parchment font-bold mb-1",children:"Community Insights"}),w.jsxs("p",{className:"text-parchment-dim text-xs",children:["Thoughts on ",e||"this text"]})]}),w.jsxs("div",{className:"flex items-center gap-4 bg-white/5 border border-white/10 rounded-xl px-4 py-2",children:[w.jsx("div",{className:"text-2xl md:text-3xl font-serif font-bold text-saffron",children:ne}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("div",{className:"flex text-saffron text-xs",children:[...Array(5)].map((I,A)=>w.jsx(Yp,{size:12,fill:A<Math.round(Number(ne))?"currentColor":"none"},A))}),w.jsxs("span",{className:"text-[9px] md:text-[10px] text-parchment-dim uppercase tracking-wider font-bold",children:[n.length," Ratings"]})]})]})]}),!u&&w.jsx("div",{className:"mb-8 text-center md:text-left",children:w.jsxs("button",{onClick:()=>h(!0),className:"w-full md:w-auto px-6 py-3 rounded-lg border border-saffron/30 text-saffron hover:bg-saffron/10 hover:border-saffron transition-all flex items-center justify-center gap-2 text-xs font-bold uppercase tracking-widest active:scale-95",children:[w.jsx(t1,{size:18}),w.jsx("span",{children:"Write a Review"})]})}),w.jsx(gV,{children:u&&w.jsx(yy.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden mb-8",children:w.jsxs("form",{onSubmit:ce,className:"bg-black/40 border border-white/10 rounded-xl p-4 md:p-6 relative",children:[w.jsx("button",{type:"button",onClick:()=>h(!1),className:"absolute top-4 right-4 text-stone-500 hover:text-white p-2",children:w.jsx("span",{className:"text-xs font-bold uppercase",children:"Cancel"})}),w.jsx("div",{className:"flex gap-2 mb-4 justify-center md:justify-start",children:[1,2,3,4,5].map(I=>w.jsx("button",{type:"button",onMouseEnter:()=>N(I),onMouseLeave:()=>N(0),onClick:()=>R(I),className:"focus:outline-none p-1",children:w.jsx(Yp,{size:28,fill:(O||k)>=I?"#d97706":"transparent",className:(O||k)>=I?"text-saffron":"text-stone-700"})},I))}),w.jsx("div",{className:"mb-4",children:w.jsx("input",{type:"text",placeholder:"Your Name",value:_,onChange:I=>E(I.target.value),className:"w-full bg-black/30 border border-white/10 rounded-lg p-3 text-sm text-parchment focus:border-saffron/50 outline-none"})}),w.jsx("textarea",{placeholder:"Share your experience...",value:U,onChange:I=>V(I.target.value),required:!0,rows:"3",className:"w-full bg-black/30 border border-white/10 rounded-lg p-3 text-sm text-parchment focus:border-saffron/50 outline-none resize-none mb-4"}),w.jsxs("button",{type:"submit",disabled:d,className:"w-full md:w-auto bg-saffron text-white px-6 py-3 rounded-lg font-bold text-xs uppercase tracking-wide shadow-glow hover:bg-saffron-light flex items-center justify-center gap-2 disabled:opacity-50",children:[d?w.jsx(qg,{className:"animate-spin",size:14}):w.jsx(n1,{size:14}),w.jsx("span",{children:"Post Review"})]})]})})}),w.jsx("div",{className:"space-y-3",children:a?w.jsxs("div",{className:"text-center py-10",children:[w.jsx(qg,{className:"animate-spin mx-auto text-saffron mb-2",size:24}),w.jsx("p",{className:"text-xs text-stone-500",children:"Loading..."})]}):n.length>0?w.jsxs(w.Fragment,{children:[se.map(I=>w.jsxs(yy.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/5 rounded-xl p-4 md:p-5 border border-white/5 hover:border-white/10 transition-colors flex flex-col md:flex-row gap-3 md:gap-4 md:items-start",children:[w.jsxs("div",{className:"flex items-center gap-3 md:w-48 flex-shrink-0",children:[w.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-stone-800 flex items-center justify-center text-stone-400 border border-white/5",children:w.jsx(s1,{size:16})}),w.jsxs("div",{className:"overflow-hidden",children:[w.jsx("h4",{className:"font-bold text-sm text-parchment truncate",children:I.user}),w.jsx("div",{className:"flex text-saffron text-[10px]",children:[...Array(5)].map((A,D)=>w.jsx(Yp,{size:10,fill:D<I.rating?"currentColor":"none"},D))})]})]}),w.jsxs("div",{className:"flex-1 relative pl-0 md:pl-4 md:border-l border-white/10",children:[w.jsx(SD,{size:16,className:"absolute -top-1 -left-1 text-white/5 -scale-x-100 hidden md:block"}),w.jsx("p",{className:"text-parchment-dim text-sm leading-relaxed",children:I.text}),w.jsx("span",{className:"text-[10px] text-stone-600 mt-2 block",children:I.date})]})]},I.id)),n.length>3&&w.jsx("div",{className:"text-center pt-4",children:w.jsx("button",{onClick:()=>v(!y),className:"inline-flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-stone-400 hover:text-saffron transition-colors p-2",children:y?w.jsxs(w.Fragment,{children:["Show Less ",w.jsx(XO,{size:14})]}):w.jsxs(w.Fragment,{children:["View All ",n.length," Reviews ",w.jsx(XS,{size:14})]})})})]}):w.jsx("div",{className:"text-center py-10 opacity-50 border border-dashed border-white/10 rounded-xl",children:w.jsx("p",{className:"text-sm text-stone-500",children:"No reviews yet."})})})]})})}const GU={anger:["rage","fury","wrath","irritation","annoyance","frustration","temper","mad","upset","bitter","resentful","indignant","cross","vexed","piqued","irate","choleric","splenetic","testy","touchy","peevish","petulant","snappish","waspish","heated","burning","boiling","seething","fuming","livid","incensed","outraged","provoked","exasperated","infuriated","maddened","riled","nettled","galled","rankled","sore","huffy","miffed","peeved","ticked off","steamed","seeing red","up in arms","on the warpath","hot under the collar","agitated","antagonized","bad-tempered","belligerent","biting","bristling","burning","cantankerous","captious","churlish","crabby","cranky","crotchety","displeased","enraged","exasperated","fiery","fractious","fuming","grouchy","grumpy","hostile","hot-headed","ill-humored","ill-tempered","impatient","incensed","indignant","inflamed","infuriated","irascible","irate","ireful","irritable","irritated","mad","maddened","offended","outraged","passionate","peevish","petulant","pissed","provoked","quick-tempered","raging","resentful","riled","short-tempered","snappish","sore","splenetic","steamed","sullen","surly","testy","ticked","touchy","unappeased","unfriendly","vicious","violent","waspish","wrathful"],fear:["anxiety","dread","terror","fright","alarm","panic","trepidation","apprehension","nervousness","worry","unease","misgiving","suspicion","doubt","insecurity","timid","shy","bashful","cowardly","faint-hearted","lily-livered","chicken","yellow","afraid","scared","spooked","terrified","horrified","petrified","paralyzed","frozen","shaking","trembling","quaking","shivering","shuddering","cowering","shrinking","recoiling","flinching","wincing","startle","jumpy","edgy","jittery","tense","stressed","pressured","overwhelmed","haunted","creeped out","restless","sleepless","nightmare","phobia","horror","awe","reverence","veneration","alarmed","apprehensive","awed","blanched","cowardly","cowering","daunted","diffident","discomposed","disquieted","disturbed","faint-hearted","falter","fearful","frightened","frozen","ghastly","goosebumps","hesitant","horrified","intimidated","jittery","nervous","panic-stricken","paralyzed","petrified","quaking","quivering","reeling","scared","shaken","shivery","shocked","shrinking","shy","skittish","spooked","startled","terrified","timid","timorous","trembling","tremulous","uneasy","unmanned","unnerved","weak-kneed","worried"],ego:["pride","arrogance","vanity","conceit","narcissism","self-importance","haughtiness","superciliousness","disdain","contempt","scorn","hubris","overconfidence","boastful","brag","show-off","swagger","pompous","pretentious","snobbish","elitist","superior","condescending","patronizing","self-centered","selfish","egocentric","egotistical","self-absorbed","self-obsessed","self-loving","self-admiring","self-glorifying","self-serving","self-seeking","self-willed","self-assertive","self-righteous","self-satisfied","smug","complacent","cocky","cheeky","bold","brassy","forward","pushy","aggressive","dominant","domineering","bossy","dictatorial","authoritarian","tyrannical","despotic","autocratic","imperious","lordly","high and mighty","on a high horse","aloof","assumption","audacity","big-headed","bumptious","cavalier","cheeky","cocky","complacent","conceited","contemptuous","disdainful","domineering","egotistic","haughty","imperious","insolent","lofty","lordly","magisterial","narcissistic","overbearing","overconfident","patronizing","peremptory","pompous","presumptuous","pretentious","proud","scornful","self-important","self-opinionated","smug","snooty","stuck-up","supercilious","swaggering","vainglorious","vain"],desire:["craving","longing","yearning","lust","passion","hunger","thirst","appetite","wish","want","need","aspiration","ambition","goal","dream","hope","fancy","inclination","bent","leaning","proclivity","propensity","urge","impulse","drive","compulsion","obsession","fixation","infatuation","attraction","allure","temptation","seduction","fascination","enchantment","enthusiasm","zeal","eagerness","greed","avarice","cupidity","covetousness","envy","jealousy","possessiveness","addiction","dependency","attachment","clinging","grasping","seeking","striving","pursuit","hunt","quest","search","longing","aching","pining","hankering","itching","burning","dying for","starving for","thirsty for","mad for","crazy about","wild about","hooked on","stuck on","sold on","infatuated with","obsessed with","fixated on"],depression:["sadness","sorrow","grief","misery","despair","hopelessness","helplessness","worthlessness","guilt","shame","regret","remorse","melancholy","gloom","dejection","discouragement","dispiritedness","listlessness","lethargy","apathy","indifference","numbness","emptiness","void","hollow","darkness","shadow","heavy","burden","weight","pressure","stress","strain","exhaustion","fatigue","tiredness","weariness","burnout","breakdown","collapse","ruin","failure","loss","defeat","rejection","abandonment","loneliness","isolation","alienation","estrangement","unhappiness","woe","anguish","agony","torment","torture","suffering","pain","hurt","ache","bleeding","crying","weeping","sobbing","mourning","lamenting","wailing","unhappy","blue","down","low","miserable","wretched","forlorn","desolate","gloomy","somber","dreary","dismal","bleak","cheerless","joyless","spiritless","broken","crushed","shattered","destroyed"],jealousy:["envy","resentment","bitterness","grudge","spite","malice","malevolence","ill-will","animosity","hostility","rivalry","competition","comparison","insecurity","possessiveness","suspicion","mistrust","distrust","doubt","fear","anxiety","greed","covetousness","craving","longing","yearning","pining","aching","burning","green-eyed","yellow","jaundiced","sour","acid","acrimonious","venomous","poisonous","toxic","hateful","mean","nasty","cruel","selfish","greedy","grasping","clinging","attached","obsessed","fixated","competitive","emulous","begrudging","grudging","envious","resentful","bitter","spiteful","malicious","malevolent","hostile","unfriendly","cold","distant","aloof","detached","indifferent","apathetic","unmoved","unaffected","unconcerned","careless","reckless","thoughtless","mindless","blind","deaf","dumb","silent","quiet","still","calm","peaceful"],self_doubt:["uncertainty","hesitation","indecision","vacillation","wavering","ambivalence","skepticism","suspicion","mistrust","distrust","insecurity","inferiority","low self-esteem","unworthiness","shame","guilt","fear","anxiety","worry","nervousness","shyness","timidity","bashfulness","modesty","humility","meekness","submissiveness","passivity","dependency","reliance","weakness","frailty","fragility","vulnerability","exposure","risk","danger","threat","failure","mistake","error","blunder","fault","defect","flaw","imperfection","shortcoming","weakness","limitation","restriction","constraint","block","obstacle","barrier","hurdle","difficulty","problem","challenge","struggle","conflict","confusion","perplexity","bewilderment","puzzlement","bafflement","mystification","doubtful","unsure","unconfident","hesitant","wavering","faltering","stuttering","stumbling","clumsy","awkward"],attachment:["clinging","grasping","holding","binding","tying","linking","connecting","joining","uniting","merging","fusing","blending","mixing","mingling","associating","relating","belonging","owning","possessing","controlling","dominating","ruling","governing","managing","directing","guiding","leading","following","serving","helping","supporting","protecting","defending","guarding","watching","observing","monitoring","tracking","checking","testing","verifying","confirming","validating","proving","justifying","explaining","reasoning","thinking","feeling","sensing","perceiving","knowing","understanding","believing","trusting","hoping","loving","liking","wanting","needing","desiring","craving","longing","yearning","pining","aching","burning","addiction","dependency","obsession","fixation","infatuation","attraction","allure","temptation"],forgive:["pardon","excuse","absolve","acquit","clear","release","free","liberate","deliver","save","rescue","help","support","comfort","solace","heal","cure","remedy","fix","repair","restore","renew","refresh","revive","rejuvenate","regenerate","reborn","transform","change","improve","grow","develop","evolve","learn","understand","know","see","hear","feel","sense","perceive","realize","recognize","acknowledge","accept","admit","confess","repent","regret","remorse","guilt","shame","sorrow","grief","pain","hurt","suffering","anger","resentment","bitterness","grudge","spite","malice","hate","love","peace","calm","still","quiet","silent","mercy","compassion","kindness","grace","charity","benevolence","goodwill","friendship","harmony","unity"],discipline:["control","order","regulation","rule","law","system","method","practice","training","exercise","drill","habit","routine","custom","tradition","culture","standard","norm","value","principle","ethic","moral","virtue","duty","responsibility","obligation","commitment","dedication","devotion","loyalty","faith","trust","belief","hope","love","will","power","strength","force","energy","effort","work","labor","action","deed","act","performance","achievement","success","victory","mastery","skill","ability","capacity","talent","gift","genius","wisdom","knowledge","insight","vision","purpose","meaning","goal","aim","target","focus","attention","concentration","awareness","mindfulness","presence","being","existence","life","spirit","soul","self","ego","mind","body"],anxiety:["worry","nervousness","unease","apprehension","fear","dread","terror","panic","stress","tension","pressure","strain","burden","weight","heavy","dark","shadow","cloud","storm","wind","rain","cold","shaking","trembling","quaking","shivering","sweating","panting","racing","beating","pounding","throbbing","aching","burning","stinging","biting","cutting","tearing","breaking","crushing","shattering","destroying","killing","dying","suffering","pain","hurt","sorrow","grief","sadness","misery","despair","hopelessness","helplessness","worthlessness","guilt","shame","regret","remorse","doubt","uncertainty","confusion","perplexity","bewilderment","puzzlement","bafflement","mystification","restless","sleepless","tired","exhausted","fatigued","weary","worn out","burnt out"],confusion:["perplexity","bewilderment","puzzlement","bafflement","mystification","doubt","uncertainty","hesitation","indecision","vacillation","wavering","ambivalence","skepticism","suspicion","mistrust","distrust","chaos","disorder","mess","muddle","jumble","tangle","knot","maze","labyrinth","fog","mist","cloud","smoke","haze","blur","dim","dark","blind","lost","stray","wandering","roaming","drifting","floating","sinking","falling","crashing","breaking","splitting","dividing","separating","isolating","alienating","estrangement","loneliness","solitude","silence","quiet","still","calm","peace","order","light","clarity","insight","vision","wisdom","knowledge","truth","reality","fact","logic","reason","sense","meaning","purpose","goal","aim","target","focus","attention"],overthinking:["analysis paralysis","rumination","obsession","fixation","worry","anxiety","stress","pressure","tension","strain","burden","weight","heavy","dark","shadow","cloud","storm","wind","rain","cold","shaking","trembling","quaking","shivering","sweating","panting","racing","beating","pounding","throbbing","aching","burning","stinging","biting","cutting","tearing","breaking","crushing","shattering","destroying","killing","dying","suffering","pain","hurt","sorrow","grief","sadness","misery","despair","hopelessness","helplessness","worthlessness","guilt","shame","regret","remorse","doubt","uncertainty","confusion","perplexity","bewilderment","puzzlement","bafflement","mystification","restless","sleepless","tired","exhausted","fatigued","weary","worn out","burnt out"],motivation:["drive","ambition","goal","aim","target","focus","attention","concentration","awareness","mindfulness","presence","being","existence","life","spirit","soul","self","ego","mind","body","energy","effort","work","labor","action","deed","act","performance","achievement","success","victory","mastery","skill","ability","capacity","talent","gift","genius","wisdom","knowledge","insight","vision","purpose","meaning","hope","faith","trust","belief","love","passion","enthusiasm","zeal","eagerness","will","power","strength","force","courage","bravery","boldness","daring","adventure","risk","challenge","struggle","conflict","competition","rivalry","growth","improvement","development","evolution","learning","change","transformation","renewal","rebirth","regeneration"],lonely:["solitude","isolation","alienation","estrangement","abandonment","rejection","exclusion","neglect","disregard","slight","shun","ignore","forgotten","invisible","neglected","overlooked","forgotten","disregarded","slighted","shunned","isolated","lonely","unimportant","insignificant","small","weak","powerless","silent","quiet","hidden","obscure","unknown","anonymous","shadow","ghost","background","wallflower","outsider","misfit","rejected","excluded","abandoned","deserted","forsaken","forlorn","miserable","unhappy","sad","depressed","blue","low","down","dejected","discouraged","disheartened","dispirited","hopeless","helpless","vulnerable","exposed","unprotected","defenseless","weak","frail"],control_mind:["discipline","order","regulation","rule","law","system","method","practice","training","exercise","drill","habit","routine","custom","tradition","culture","standard","norm","value","principle","ethic","moral","virtue","duty","responsibility","obligation","commitment","dedication","devotion","loyalty","faith","trust","belief","hope","love","will","power","strength","force","energy","effort","work","labor","action","deed","act","performance","achievement","success","victory","mastery","skill","ability","capacity","talent","gift","genius","wisdom","knowledge","insight","vision","purpose","meaning","goal","aim","target","focus","attention","concentration","awareness","mindfulness","presence","being","existence","life","spirit","soul","self","ego","mind","body"],fear_failure:["anxiety","worry","nervousness","unease","apprehension","fear","dread","terror","panic","stress","tension","pressure","strain","burden","weight","heavy","dark","shadow","cloud","storm","wind","rain","cold","shaking","trembling","quaking","shivering","sweating","panting","racing","beating","pounding","throbbing","aching","burning","stinging","biting","cutting","tearing","breaking","crushing","shattering","destroying","killing","dying","suffering","pain","hurt","sorrow","grief","sadness","misery","despair","hopelessness","helplessness","worthlessness","guilt","shame","regret","remorse","doubt","uncertainty","confusion","perplexity","bewilderment","puzzlement","bafflement","mystification","restless","sleepless","tired","exhausted","fatigued","weary","worn out","burnt out"],attach_result:["expectation","anticipation","hope","fear","anxiety","worry","stress","pressure","tension","strain","burden","weight","heavy","dark","shadow","cloud","storm","wind","rain","cold","shaking","trembling","quaking","shivering","sweating","panting","racing","beating","pounding","throbbing","aching","burning","stinging","biting","cutting","tearing","breaking","crushing","shattering","destroying","killing","dying","suffering","pain","hurt","sorrow","grief","sadness","misery","despair","hopelessness","helplessness","worthlessness","guilt","shame","regret","remorse","doubt","uncertainty","confusion","perplexity","bewilderment","puzzlement","bafflement","mystification","restless","sleepless","tired","exhausted","fatigued","weary","worn out","burnt out"],work_stress:["pressure","tension","strain","burden","weight","heavy","dark","shadow","cloud","storm","wind","rain","cold","shaking","trembling","quaking","shivering","sweating","panting","racing","beating","pounding","throbbing","aching","burning","stinging","biting","cutting","tearing","breaking","crushing","shattering","destroying","killing","dying","suffering","pain","hurt","sorrow","grief","sadness","misery","despair","hopelessness","helplessness","worthlessness","guilt","shame","regret","remorse","doubt","uncertainty","confusion","perplexity","bewilderment","puzzlement","bafflement","mystification","restless","sleepless","tired","exhausted","fatigued","weary","worn out","burnt out"],loss:["failure","defeat","ruin","collapse","breakdown","burnout","exhaustion","fatigue","tiredness","weariness","sorrow","grief","sadness","misery","despair","hopelessness","helplessness","worthlessness","guilt","shame","regret","remorse","pain","hurt","ache","bleeding","crying","weeping","sobbing","mourning","lamenting","wailing","unhappy","blue","down","low","miserable","wretched","forlorn","desolate","gloomy","somber","dreary","dismal","bleak","cheerless","joyless","spiritless","broken","crushed","shattered","destroyed","death","end","finish","stop","quit","leave","go","away","gone","lost","missing","stolen","broken","damaged","hurt","injured","sick"],giving_up:["quitting","stopping","finishing","ending","leaving","going","away","gone","lost","missing","stolen","broken","damaged","hurt","injured","sick","tired","exhausted","fatigued","weary","worn out","burnt out","hopeless","helpless","worthless","guilty","ashamed","regretful","remorseful","sad","sorrowful","grieved","miserable","despairing","unhappy","blue","down","low","dejected","discouraged","disheartened","dispirited","broken","crushed","shattered","destroyed","failure","defeat","ruin","collapse","breakdown","surrender","yield","submit","concede","abandon","desert"],expectations:["anticipation","hope","fear","anxiety","worry","stress","pressure","tension","strain","burden","weight","heavy","dark","shadow","cloud","storm","wind","rain","cold","shaking","trembling","quaking","shivering","sweating","panting","racing","beating","pounding","throbbing","aching","burning","stinging","biting","cutting","tearing","breaking","crushing","shattering","destroying","killing","dying","suffering","pain","hurt","sorrow","grief","sadness","misery","despair","hopelessness","helplessness","worthlessness","guilt","shame","regret","remorse","doubt","uncertainty","confusion","perplexity","bewilderment","puzzlement","bafflement","mystification"],betrayal:["treachery","disloyalty","perfidy","infidelity","deception","fraud","cheat","lie","trick","scam","con","manipulation","exploitation","abuse","harm","injury","damage","loss","pain","hurt","sorrow","grief","sadness","misery","despair","hopelessness","helplessness","worthlessness","guilt","shame","regret","remorse","anger","resentment","bitterness","grudge","spite","malice","hate","revenge","vengeance","retaliation","reprisal","payback","settling scores","getting even","backstabbing"],surrender:["yielding","submitting","conceding","abandoning","deserting","forsaking","leaving","going","away","gone","lost","missing","stolen","broken","damaged","hurt","injured","sick","tired","exhausted","fatigued","weary","worn out","burnt out","hopeless","helpless","worthless","guilty","ashamed","regretful","remorseful","sad","sorrowful","grieved","miserable","despairing","unhappy","blue","down","low","dejected","discouraged","disheartened","dispirited","broken","crushed","shattered"],fear_future:["anxiety","worry","nervousness","unease","apprehension","fear","dread","terror","panic","stress","tension","pressure","strain","burden","weight","heavy","dark","shadow","cloud","storm","wind","rain","cold","shaking","trembling","quaking","shivering","sweating","panting","racing","beating","pounding","throbbing","aching","burning","stinging","biting","cutting","tearing","breaking","crushing","shattering","destroying","killing","dying","suffering","pain","hurt","sorrow","grief","sadness","misery","despair","hopelessness","helplessness","worthlessness","guilt","shame","regret","remorse","doubt","uncertainty","confusion","perplexity","bewilderment","puzzlement","bafflement","mystification","restless","sleepless","tired","exhausted","fatigued","weary","worn out","burnt out"],insecure:["uncertainty","hesitation","indecision","vacillation","wavering","ambivalence","skepticism","suspicion","mistrust","distrust","insecurity","inferiority","low self-esteem","unworthiness","shame","guilt","fear","anxiety","worry","nervousness","shyness","timidity","bashfulness","modesty","humility","meekness","submissiveness","passivity","dependency","reliance","weakness","frailty","fragility","vulnerability","exposure","risk","danger","threat","failure","mistake","error","blunder","fault","defect","flaw","imperfection","shortcoming","weakness","limitation","restriction","constraint","block","obstacle","barrier","hurdle","difficulty","problem","challenge","struggle","conflict","confusion","perplexity","bewilderment","puzzlement","bafflement","mystification","doubtful","unsure","unconfident","hesitant","wavering","faltering","stuttering","stumbling","clumsy","awkward"],suffering:["pain","hurt","ache","bleeding","crying","weeping","sobbing","mourning","lamenting","wailing","unhappy","blue","down","low","miserable","wretched","forlorn","desolate","gloomy","somber","dreary","dismal","bleak","cheerless","joyless","spiritless","broken","crushed","shattered","destroyed","death","end","finish","stop","quit","leave","go","away","gone","lost","missing","stolen","broken","damaged","hurt","injured","sick","tired","exhausted","fatigued","weary","worn out","burnt out","hopeless","helpless","worthless","guilty","ashamed","regretful","remorseful"],judgement:["criticism","condemnation","censure","denunciation","disapproval","reproach","rebuke","reprimand","scolding","blame","fault-finding","nit-picking","mockery","ridicule","derision","scorn","contempt","disdain","haughtiness","arrogance","pride","vanity","conceit","narcissism","self-importance","haughtiness","superciliousness","disdain","contempt","scorn","hubris","overconfidence","boastful","brag","show-off","swagger","pompous","pretentious","snobbish","elitist","superior","condescending"],stuck:["trapped","cornered","blocked","obstructed","hindered","hampered","impeded","restricted","constrained","limited","bound","tied","linked","connected","joined","united","merged","fused","blended","mixed","mingled","associated","related","belonging","owning","possessing","controlling","dominating","ruling","governing","managing","directing","guiding","leading","following","serving","helping","supporting","protecting","defending","guarding","watching","observing","monitoring","tracking","checking","testing","verifying","confirming","validating","proving"],ignored:["invisible","neglected","overlooked","forgotten","disregarded","slighted","shunned","isolated","lonely","unimportant","insignificant","small","weak","powerless","silent","quiet","hidden","obscure","unknown","anonymous","shadow","ghost","background","wallflower","outsider","misfit","rejected","excluded","abandoned","deserted","forsaken","forlorn","miserable","unhappy","sad","depressed","blue","low","down","dejected","discouraged","disheartened","dispirited","hopeless","helpless","vulnerable","exposed","unprotected","defenseless","weak","frail","fragile","delicate"],outshined:["eclipsed","surpassed","beaten","defeated","losing","second","inferior","less","smaller","weaker","slower","dumber","uglier","poorer","worse","failure","loser","also-ran","underdog","has-been","never-was","nobody","zero","zilch","nada","nothing","void","empty","hollow","shallow","superficial","fake","fraud","phony","imposter","pretender","charlatan","quack","cheat","liar","deceiver","manipulator","schemer","plotter","conspirator","traitor","betrayer","backstabber"],trust_issues:["suspicion","mistrust","distrust","doubt","uncertainty","hesitation","indecision","vacillation","wavering","ambivalence","skepticism","cynicism","paranoia","fear","anxiety","worry","stress","pressure","tension","strain","burden","weight","heavy","dark","shadow","cloud","storm","wind","rain","cold","shaking","trembling","quaking","shivering","sweating","panting","racing","beating","pounding","throbbing","aching","burning","stinging","biting","cutting","tearing"],talk_too_much:["loquacious","garrulous","verbose","wordy","chatty","talkative","mouthy","blabbermouth","gossip","tattletale","snitch","rat","informer","spy","mole","traitor","betrayer","backstabber","liar","deceiver","manipulator","schemer","plotter","conspirator","fraud","fake","phony","imposter","pretender","charlatan","quack","cheat","fool","idiot","moron","stupid","dumb","clumsy","awkward","embarrassing","shameful","guilty","regretful","remorseful","sorry","apologetic"],reputation:["image","status","standing","rank","position","role","identity","name","fame","glory","honor","respect","esteem","regard","admiration","praise","applause","approval","validation","confirmation","verification","proof","evidence","fact","truth","reality","logic","reason","sense","meaning","purpose","goal","aim","target","focus","attention","concentration","awareness","mindfulness","presence","being","existence","life","spirit","soul","self","ego","mind","body","energy"],asking_help:["request","plea","appeal","petition","solicitation","entreaty","supplication","prayer","begging","imploring","beseeching","asking","seeking","wanting","needing","desiring","craving","longing","yearning","pining","aching","burning","weakness","frailty","fragility","vulnerability","exposure","risk","danger","threat","failure","mistake","error","blunder","fault","defect","flaw","imperfection","shortcoming","weakness","limitation","restriction","constraint","block","obstacle"],rivalry:["competition","contest","struggle","conflict","battle","war","fight","clash","collision","impact","shock","blow","hit","strike","attack","assault","offensive","raid","ambush","trap","snare","pitfall","hazard","danger","threat","risk","gamble","bet","wager","chance","luck","fortune","fate","destiny","doom","ruin","collapse","breakdown","burnout","exhaustion","fatigue","tiredness"],weak:["frail","fragile","delicate","soft","tender","sensitive","vulnerable","exposed","unprotected","defenseless","powerless","helpless","hopeless","worthless","guilty","ashamed","regretful","remorseful","sad","sorrowful","grieved","miserable","despairing","unhappy","blue","down","low","dejected","discouraged","disheartened","dispirited","broken","crushed","shattered","destroyed","failure","defeat","ruin","collapse","breakdown","burnout","exhaustion","fatigue"],overwhelmed:["swamped","buried","drowned","flooded","inundated","overloaded","overworked","overtaxed","overstrained","overextended","overcommitted","overwhelmed","stressed","pressured","tense","anxious","worried","nervous","fearful","dreadful","terrified","panicked","scared","afraid","spooked","haunted","creeped out","uneasy","restless","sleepless","tired","exhausted","fatigued","weary","worn out"],stuck_habit:["routine","custom","tradition","culture","standard","norm","value","principle","ethic","moral","virtue","duty","responsibility","obligation","commitment","dedication","devotion","loyalty","faith","trust","belief","hope","love","will","power","strength","force","energy","effort","work","labor","action","deed","act","performance","achievement","success","victory","mastery"],angry_conflict:["rage","fury","wrath","irritation","annoyance","frustration","temper","mad","upset","bitter","resentful","indignant","cross","vexed","piqued","irate","choleric","splenetic","testy","touchy","peevish","petulant","snappish","waspish","heated","burning","boiling","seething","fuming","livid","incensed","outraged","provoked","exasperated","infuriated","maddened","riled","nettled"],waiting:["patience","endurance","tolerance","forbearance","resignation","submission","yielding","surrender","calm","peace","still","quiet","silent","slow","steady","constant","persistent","persevering","diligent","hardworking","industrious","busy","active","energetic","lively","vibrant","dynamic","creative","innovative","imaginative","visionary","wise","knowledgeable","insightful","smart"],manipulated:["controlled","dominated","ruled","governed","managed","directed","guided","led","followed","served","helped","supported","protected","defended","guarded","watched","observed","monitored","tracked","checked","tested","verified","confirmed","validated","proved","justified","explained","reasoned","thought","felt","sensed","perceived","known","understood","believed","trusted","hoped","loved","liked","wanted","needed","desired","craved","longed","yearned","pined","ached"],boss_issues:["authority","power","control","dominance","rule","government","management","direction","guidance","leadership","following","service","help","support","protection","defense","guard","watch","observation","monitoring","tracking","checking","testing","verification","confirmation","validation","proof","evidence","fact","truth","reality","logic","reason","sense","meaning"]},vc=(t,e)=>Array.from({length:t},(n,i)=>({id:i+1,chapter:`Chapter ${e}`,sanskrit:i===0?"   ":` ${e}  ${i+1} - (Sanskrit Text Placeholder)`,translation:i===0?"You have a right to perform your prescribed duty, but you are not entitled to the fruits of action.":`This is the hidden wisdom of Verse ${i+1}. Swipe to reveal the divine meaning.`,translation_hi:i===0?"      ,         ":`  ${i+1}            `,translation_mr:i===0?"      ,      .":`  ${i+1}    .      .`,nuance:"Ancient wisdom requires patience.",locked:!1})),JR=[{id:"gita",title:"Bhagavad Gita",subtitle:"Wisdom Deck",description:"Swipe through the eternal message of spiritual wisdom, one card at a time.",cover:"https://res.cloudinary.com/do0rlgy7c/image/upload/v1768768264/gita_cpncew.png",totalCards:29,isPopular:!0,comingSoon:!1},{id:"48laws",title:"48 Laws of Power",subtitle:"Strategy Cards",description:"Master the art of manipulation and control with 48 actionable flashcards.",cover:"https://res.cloudinary.com/do0rlgy7c/image/upload/v1768904708/48_laws_of_power_iuggyg.jpg",totalCards:48,isPopular:!0,comingSoon:!1},{id:"yogasutra",title:"Yoga Sutras",subtitle:"Mind Science Deck",description:"Decode the science of consciousness with simple, focused cards.",cover:"https://images.unsplash.com/photo-1512820790803-83ca734da794?q=80&w=800&auto=format&fit=crop",totalCards:20,isPopular:!1,comingSoon:!0}],eS=["https://images.unsplash.com/photo-1532012197267-da84d127e765?q=80&w=800","https://images.unsplash.com/photo-1516979187457-637abb4f9353?q=80&w=800","https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=800","https://images.unsplash.com/photo-1543002588-bfa74002ed7e?q=80&w=800"],KU=[{id:"shivaji-thoughts",title:"Thoughts of Chhatrapati Shivaji Maharaj",subtitle:"Leadership Wisdom",description:"Recovered wisdom from the archives.",cover:"/Thaughts of chhatrapati shivaji maharaj.png",totalCards:30,isPopular:!1,comingSoon:!0},{id:"chanakya-niti",title:"Chanakya Niti",subtitle:"Political Science",description:"Recovered wisdom from the archives.",cover:"/chankya niti.png",totalCards:40,isPopular:!1,comingSoon:!0},{id:"psychology-money",title:"Psychology of Money",subtitle:"Financial Wisdom",description:"Recovered wisdom from the archives.",cover:"/psychology of money.png",totalCards:20,isPopular:!1,comingSoon:!0},{id:"subconscious-mind",title:"Power of Subconscious Mind",subtitle:"Mind Power",description:"Recovered wisdom from the archives.",cover:"/power of subconsious mind.png",totalCards:25,isPopular:!1,comingSoon:!0},{id:"atomic-habits",title:"Atomic Habits",subtitle:"Self Improvement",description:"Recovered wisdom from the archives.",cover:"/automic habits .png",totalCards:35,isPopular:!1,comingSoon:!0}],ZR=[...KU,...Array.from({length:17},(t,e)=>({id:`vol-${e+1}`,title:`Sacred Volume ${e+1}`,subtitle:"Ancient Manuscript",description:"Recovered wisdom from the archives.",cover:eS[e%eS.length],totalCards:25,isPopular:!1,comingSoon:!0}))],eC=[...JR,...ZR],tC=[{id:"law-1",chapter:"Law 1",sanskrit:"Never Outshine the Master",translation:`When you appear smarter, more talented, or more powerful than those above you, their ego feels threatened.
Instead of rewarding you, they may resist or block your growth.
Real power comes from making superiors feel secure while you improve silently.`,translation_hi:`             ,        
           
                `,translation_mr:`        ,     .
       .
           .`,steps:["Respect hierarchy before displaying talent","Share success and give credit generously","Avoid public correction or comparison","Display excellence subtly, not loudly","Grow patiently while staying humble"],nuance:"Control your brilliance today, so you can rise freely tomorrow.",locked:!1},{id:"law-2",chapter:"Law 2",sanskrit:"Never Put Too Much Trust in Friends, Learn How to Use Enemies",translation:`Friends may act from emotion, jealousy, or familiarity, which can lead to betrayal or disappointment.
Enemies, however, are more predictable because they must prove their loyalty if they align with you.
Wise people stay emotionally balanced and judge others by actions, not closeness.`,translation_hi:`          
            
       ,      `,translation_mr:`      .
          .
         .`,steps:["Do not share all plans, even with close friends","Observe actions more than words or promises","Keep professional distance in important matters","Use rivalry to understand weaknesses and strengths","Stay calm and objective in relationships"],nuance:"Trust actions, not labels, and power will remain in your hands.",locked:!1},{id:"law-3",chapter:"Law 3",sanskrit:"Conceal Your Intentions",translation:`When people know your true plans, they can prepare, resist, or sabotage you.
By keeping intentions hidden, you stay unpredictable and in control.
Silence and ambiguity protect your goals until the right moment arrives.`,translation_hi:`        ,        
          
            `,translation_mr:`    ,       .
         .
         .`,steps:["Share goals only with those who truly need to know","Speak generally, not specifically, about future plans","Let actions reveal outcomes, not intentions","Avoid emotional oversharing","Move decisively when the time is right"],nuance:"Power grows strongest when your next move remains unseen.",locked:!1},{id:"law-4",chapter:"Law 4",sanskrit:"Always Say Less Than Necessary",translation:`Speaking more than required weakens your authority and exposes your thinking.
The more you talk, the more control you give away.
Silence creates mystery, confidence, and respect, making others value your words more.`,translation_hi:`         
    ,      
      ,         `,translation_mr:`      .
   ,     .
     ,       .`,steps:["Speak only when your words have purpose","Avoid over-explaining or justifying yourself","Pause before responding to maintain control","Keep emotions out of conversations","Let silence create pressure, not fear"],nuance:"Silence turns restraint into power.",locked:!1},{id:"law-5",chapter:"Law 5",sanskrit:"So Much Depends on Reputation  Guard It with Your Life",translation:`Reputation shapes how people judge you before you act or speak. A strong reputation builds trust and influence automatically.
Once damaged, reputation is difficult to restore and easy to exploit.`,translation_hi:`                   
    ,        `,translation_mr:`        .        .
   ,      .`,steps:["Act consistently in all situations","Avoid gossip and unnecessary conflicts","Respond quickly to false accusations","Align with people who strengthen your image","Let your results reinforce your name"],nuance:"Protect your reputation, and it will protect your power.",locked:!1},{id:"law-6",chapter:"Law 6",sanskrit:"Court Attention at All Costs",translation:"Being ignored makes you powerless. Attention creates presence, influence, and opportunity. It is better to be noticed than forgotten.",translation_hi:"                          ",translation_mr:"    .         .      .",steps:["Make your work visible, not just correct","Develop a recognizable style or voice","Speak at moments that matter","Use storytelling to attract interest","Stay active where decisions are made"],nuance:"Visibility creates power.",locked:!1},{id:"law-7",chapter:"Law 7",sanskrit:"Get Others to Do the Work for You, but Always Take the Credit",translation:`Using the efforts of others saves time and multiplies your strength. People respect results, not the process behind them.
Smart leaders delegate wisely and own the outcome.`,translation_hi:`                    ,   
          `,translation_mr:`         .    ,  .
       .`,steps:["Delegate tasks based on others strengths","Focus your energy on strategy, not execution","Reward contributors privately","Present outcomes confidently as a leader","Build a reputation for delivering results"],nuance:"Leadership is measured by results, not effort.",locked:!1},{id:"law-8",chapter:"Law 8",sanskrit:"Make Other People Come to You  Use Bait if Necessary",translation:`When you chase others, you give away control. Power shifts to you when people seek your attention.
By offering value or opportunity, you draw others into your terms.`,translation_hi:`      ,                  
         `,translation_mr:`    ,    .         .
       .`,steps:["Create something others want or need","Let opportunities attract people to you","Avoid chasing approval or validation","Stay calm and patient in negotiations","Set conditions only after interest is shown"],nuance:"The one who controls attraction controls the situation.",locked:!1},{id:"law-9",chapter:"Law 9",sanskrit:"Win Through Your Actions, Never Through Argument",translation:`Arguments rarely change minds and often create enemies. Actions speak louder and leave no room for denial.
Results silence opposition more effectively than words.`,translation_hi:`                      
           `,translation_mr:`         .     .
        .`,steps:["Prove your point through results","Avoid wasting energy on debates","Let success answer criticism","Stay composed under challenge","Act decisively instead of explaining"],nuance:"Results end arguments.",locked:!1},{id:"law-10",chapter:"Law 10",sanskrit:"Infection: Avoid the Unhappy and Unlucky",translation:"Emotions and attitudes are contagious. Constant exposure to negativity drains energy and luck. Distance from such people protects your progress.",translation_hi:"                            ",translation_mr:"  .          .        .",steps:["Limit time with negative individuals","Choose environments that encourage growth","Do not try to rescue those who resist change","Protect your mental and emotional space","Surround yourself with positive, driven people"],nuance:"Protect your energy to protect your future.",locked:!1},{id:"law-11",chapter:"Law 11",sanskrit:"Learn to Keep People Dependent on You",translation:`Power grows when others rely on your skills, knowledge, or resources.
If people need you, they are less likely to oppose or replace you. Independence gives freedom, but dependency gives control.`,translation_hi:`             
     ,          ,     `,translation_mr:`           .
    ,      .   ,    .`,steps:["Develop unique skills others cannot easily replace","Become a key problem-solver in your environment","Share help, but not everything","Avoid making yourself unnecessary","Stay valuable in critical areas"],nuance:"Power lasts when others cannot function without you.",locked:!1},{id:"law-12",chapter:"Law 12",sanskrit:"Use Selective Honesty and Generosity to Disarm Your Victim",translation:`A small act of honesty builds trust quickly. Unexpected generosity lowers defenses.
People drop their guard when they feel safe and respected.`,translation_hi:`                    
            `,translation_mr:`       .      .
         .`,steps:["Be honest at strategic moments","Use generosity to create goodwill","Do not reveal everything at once","Choose timing carefully","Let trust work in your favor"],nuance:"A little honesty can open many doors.",locked:!1},{id:"law-13",chapter:"Law 13",sanskrit:"When Asking for Help, Appeal to Peoples Self-Interest",translation:`People help more willingly when they see personal benefit. Appeals to kindness fade, but self-interest lasts.
Align your request with what they want.`,translation_hi:`                ,      
       `,translation_mr:`          .    ,     .
    .`,steps:["Understand what motivates the other person","Frame requests around mutual benefit","Avoid emotional pressure","Be clear about outcomes","Respect their interests"],nuance:"Make others win, and they will help you win.",locked:!1},{id:"law-14",chapter:"Law 14",sanskrit:"Pose as a Friend, Work as a Spy",translation:`People reveal more when they feel safe. By appearing friendly, you gain access to real thoughts and intentions.
Information gives you advantage before action begins.`,translation_hi:`             ,        
          `,translation_mr:`        .        .
     .`,steps:["Build trust through friendliness","Listen more than you speak","Observe behavior, not just words","Keep your intentions private","Use knowledge wisely, not emotionally"],nuance:"Information is quiet power.",locked:!1},{id:"law-15",chapter:"Law 15",sanskrit:"Crush Your Enemy Totally",translation:"Leaving an enemy partially defeated invites revenge. Unfinished conflicts return stronger. Total resolution removes future threats.",translation_hi:`                
           `,translation_mr:`        .     .
       .`,steps:["Address problems completely, not partially","Do not leave room for retaliation","Stay firm once action is taken","Avoid unnecessary mercy in power struggles","End conflicts decisively"],nuance:"Half victories create full enemies.",locked:!1},{id:"law-16",chapter:"Law 16",sanskrit:"Use Absence to Increase Respect and Honor",translation:"Constant presence reduces value. Absence creates demand and appreciation. Scarcity makes people respect you more.",translation_hi:`              
          `,translation_mr:`      .      .
    ,     .`,steps:["Do not always be available","Step back after strong performance","Let others feel your absence","Avoid overexposure","Return with purpose, not need"],nuance:"Scarcity creates value.",locked:!1},{id:"law-17",chapter:"Law 17",sanskrit:"Keep Others in Suspended Terror: Cultivate an Air of Unpredictability",translation:"Predictability makes you easy to control. Uncertainty keeps others alert and cautious. Unpredictability shifts power in your favor.",translation_hi:`               
         `,translation_mr:`          .    .
     .`,steps:["Avoid repeating the same patterns","Change routines occasionally","Control emotional reactions","Keep decisions unexpected","Stay calm while others guess"],nuance:"Uncertainty keeps you untouchable.",locked:!1},{id:"law-18",chapter:"Law 18",sanskrit:"Do Not Build Fortresses to Protect Yourself  Isolation Is Dangerous",translation:`Isolation cuts you off from information, support, and opportunity. Power comes from connection, not withdrawal.
Those who isolate themselves become easy targets.`,translation_hi:`             ,    
   -   ,      `,translation_mr:`       .     .
   ,    .`,steps:["Stay socially and professionally connected","Build diverse relationships","Remain visible and engaged","Gather information through people","Avoid emotional withdrawal"],nuance:"Connection is protection.",locked:!1},{id:"law-19",chapter:"Law 19",sanskrit:"Know Who Youre Dealing With  Do Not Offend the Wrong Person",translation:"Not everyone reacts the same way to pressure or disrespect. Some forgive, others never forget. Understanding people prevents costly mistakes.",translation_hi:`                ,    
        `,translation_mr:`       .   ,     .
     .`,steps:["Observe personality and background carefully","Identify egos and sensitivities","Adjust your approach to each person","Avoid unnecessary provocation","Respect power dynamics"],nuance:"Misjudgment creates enemies.",locked:!1},{id:"law-20",chapter:"Law 20",sanskrit:"Do Not Commit to Anyone",translation:"Commitment limits flexibility and power. Independence keeps options open. Those who stay neutral often gain the upper hand.",translation_hi:`           
    ,        `,translation_mr:`    .     .
   ,    .`,steps:["Avoid taking permanent sides","Keep multiple options available","Let others compete for your support","Delay final decisions","Maintain strategic neutrality"],nuance:"Freedom of choice is power.",locked:!1},{id:"law-21",chapter:"Law 21",sanskrit:"Play a Sucker to Catch a Sucker  Seem Dumber Than Your Mark",translation:"Appearing less capable lowers others defenses. People reveal more when they feel superior. Deception works best when unnoticed.",translation_hi:`                        
       ,         `,translation_mr:`      .        ,    .
       .`,steps:["Do not display full intelligence","Let others underestimate you","Ask simple questions","Observe reactions quietly","Act only when advantage is clear"],nuance:"Underestimation is an advantage.",locked:!1},{id:"law-22",chapter:"Law 22",sanskrit:"Use the Surrender Tactic: Transform Weakness into Power",translation:`When resistance makes you weaker, surrender buys time and control. Appearing weak can lower opposition and create new openings.
True strength lies in choosing when to yield and when to act.`,translation_hi:`     ,       
               `,translation_mr:`    ,     .    .
         .`,steps:["Step back when direct conflict harms you","Use patience to regain strength","Let opponents lower their guard","Observe and plan during surrender","Act decisively at the right moment"],nuance:"Yielding today can lead to victory tomorrow.",locked:!1},{id:"law-23",chapter:"Law 23",sanskrit:"Concentrate Your Forces",translation:"Scattered energy weakens impact. Focused effort creates unstoppable momentum. Power grows where attention is concentrated.",translation_hi:`              
    ,    `,translation_mr:`    .      .
   ,   .`,steps:["Focus on one goal at a time","Avoid unnecessary distractions","Direct resources toward key priorities","Strengthen core skills","Eliminate weak commitments"],nuance:"Focus multiplies power.",locked:!1},{id:"law-24",chapter:"Law 24",sanskrit:"Play the Perfect Courtier",translation:`Success depends on navigating people and power gracefully. Tact and charm open doors that force cannot.
Understanding social dynamics protects influence.`,translation_hi:"                     ",translation_mr:"          .           .",steps:["Adapt behavior to the environment","Control emotions in public","Flatter subtly, not excessively","Avoid open conflict","Learn to read people"],nuance:"Grace sustains power.",locked:!1},{id:"law-25",chapter:"Law 25",sanskrit:"Re-Create Yourself",translation:`Do not let others define who you are. Reinvention keeps you ahead and unpredictable.
Power belongs to those who shape their own identity.`,translation_hi:`                     
         `,translation_mr:`     .        .
    ,   .`,steps:["Let go of outdated roles","Design a new personal image","Learn new skills continuously","Control how others perceive you","Evolve with changing situations"],nuance:"Reinvention keeps you in control.",locked:!1},{id:"law-26",chapter:"Law 26",sanskrit:"Keep Your Hands Clean",translation:`Power is weakened when you are directly linked to mistakes or wrongdoing.
Let others handle unpleasant tasks while you remain respected. A clean image preserves authority and trust.`,translation_hi:`               
                `,translation_mr:`         .
        .      .`,steps:["Avoid direct involvement in dirty work","Delegate risky or unpleasant actions","Protect your public image","Take credit, not blame","Stay calm and detached"],nuance:"A clean image sustains power.",locked:!1},{id:"law-27",chapter:"Law 27",sanskrit:"Play on Peoples Need to Believe to Create a Cultlike Following",translation:"People crave meaning and belief. A strong vision attracts loyalty and devotion. Belief binds people more than logic.",translation_hi:`                 
       `,translation_mr:`     .        .
      .`,steps:["Offer a clear and inspiring idea","Speak with confidence and certainty","Create simple, repeatable messages","Build a sense of belonging","Reinforce belief through symbols and stories"],nuance:"Belief creates loyalty.",locked:!1},{id:"law-28",chapter:"Law 28",sanskrit:"Enter Action with Boldness",translation:"Hesitation invites resistance and doubt. Bold action commands respect and momentum. Confidence makes others follow.",translation_hi:`               
          `,translation_mr:`     .     .
    .`,steps:["Act decisively","Avoid showing uncertainty","Take calculated risks","Move quickly when opportunity appears","Commit fully once action begins"],nuance:"Boldness overcomes fear.",locked:!1},{id:"law-29",chapter:"Law 29",sanskrit:"Plan All the Way to the End",translation:`Many fail by thinking only of the beginning. Clear planning prevents surprises and mistakes.
Seeing the full path keeps you in control.`,translation_hi:`                   
        `,translation_mr:`      .    .
      .`,steps:["Visualize the final outcome","Anticipate obstacles early","Prepare alternatives","Stay disciplined throughout execution","Adjust without losing sight of the end"],nuance:"Foresight secures success.",locked:!1},{id:"law-30",chapter:"Law 30",sanskrit:"Make Your Accomplishments Seem Effortless",translation:`When success looks easy, people assume you are naturally powerful and capable.
Struggle reduces the magic of achievement. By hiding the hard work, you appear superior.`,translation_hi:`    ,         
             ,    `,translation_mr:`   ,      .
    .       .`,steps:["Do the hard work privately and present only the final result","Avoid complaining about difficulties or workload","Speak calmly about achievements without exaggeration","Let others discover your success rather than announcing it","Maintain composure even under pressure"],nuance:"Ease creates admiration, struggle invites judgment.",locked:!1},{id:"law-31",chapter:"Law 31",sanskrit:"Control the Options  Get Others to Play with the Cards You Deal",translation:`People feel powerful when they believe they are choosing freely. By controlling the available options, you guide decisions without force.
True power lies in shaping choices so every outcome benefits you.`,translation_hi:"                     ,         ",translation_mr:"             .   ,       .",steps:["Offer limited options instead of open choices","Present choices where all outcomes favor you","Let others feel they decided on their own","Avoid direct commands; guide indirectly","Stay flexible while controlling the framework"],nuance:"The one who sets the choices controls the result.",locked:!1},{id:"law-32",chapter:"Law 32",sanskrit:"Play to Peoples Fantasies",translation:`Reality is often disappointing; fantasies are comforting and inspiring. People prefer dreams over harsh truths.
Those who sell hope, vision, and possibility gain loyalty and influence.`,translation_hi:`    ;                
     ,     `,translation_mr:`   ;   .     .
     ,    .`,steps:["Understand what people desire emotionally","Present ideas with optimism and imagination","Avoid focusing only on harsh facts","Frame opportunities as exciting and meaningful","Keep the dream alive through words and actions"],nuance:"Those who feed dreams gain followers.",locked:!1},{id:"law-33",chapter:"Law 33",sanskrit:"Discover Each Mans Thumbscrew",translation:`Everyone has a weakness, desire, fear, or need. Finding it gives you leverage and understanding.
Power comes from knowing what moves people internally.`,translation_hi:`    ,           
              `,translation_mr:`  ,    .     .
        .`,steps:["Observe behavior carefully over time","Listen for repeated desires or complaints","Identify fears, ambitions, or insecurities","Be patient and subtle in discovery","Use knowledge responsibly and strategically"],nuance:"Understanding weakness creates silent control.",locked:!1},{id:"law-34",chapter:"Law 34",sanskrit:"Be Royal in Your Own Fashion  Act Like a King to Be Treated Like One",translation:`People treat you according to how you treat yourself. Confidence, self-respect, and dignity signal authority without words.
If you appear unsure or small, others will reflect that back to you.`,translation_hi:`                 -        
      ,       `,translation_mr:`    ,    .      .
    ,     .`,steps:["Carry yourself with confidence, not arrogance","Set boundaries and enforce them calmly","Value your time and energy","Speak and act with self-respect","Never beg for attention or approval"],nuance:"Self-respect commands respect.",locked:!1},{id:"law-35",chapter:"Law 35",sanskrit:"Master the Art of Timing",translation:`The right action at the wrong time fails. Patience allows situations to reveal themselves fully. Those who rush lose control;
those who wait gain advantage.`,translation_hi:"                              ",translation_mr:"      .     .      ;     .",steps:["Observe before acting","Wait for emotions to cool","Recognize moments of weakness or opportunity","Do not force outcomes","Act decisively when timing is right"],nuance:"Timing turns effort into success.",locked:!1},{id:"law-36",chapter:"Law 36",sanskrit:"Disdain Things You Cannot Have  Ignoring Them Is the Best Revenge",translation:`Showing desire gives others power over you. Indifference weakens what you cannot control.
Ignoring denies others the satisfaction of your reaction.`,translation_hi:`                      
     `,translation_mr:`     .      ,   .
     .`,steps:["Do not react emotionally to loss","Redirect focus to what you can control","Avoid chasing unavailable people or things","Maintain emotional discipline","Let silence speak"],nuance:"Indifference removes their power.",locked:!1},{id:"law-37",chapter:"Law 37",sanskrit:"Create Compelling Spectacles",translation:"Humans respond strongly to visuals and drama. Memorable actions leave deeper impact than logic. Well-crafted moments build authority and attention.",translation_hi:`                
        `,translation_mr:`     .      .
      .`,steps:["Present ideas visually when possible","Use symbolism and storytelling","Make key moments memorable","Avoid dull or routine presentation","Stand out with intention"],nuance:"What is seen is remembered.",locked:!1},{id:"law-38",chapter:"Law 38",sanskrit:"Think as You Like but Behave Like Others",translation:`Standing out mentally is powerful; standing out socially can be dangerous. Too much difference attracts resistance.
Blend in outwardly while thinking independently.`,translation_hi:`      ;                 
   -      `,translation_mr:`    ,       .     .
  ,    .`,steps:["Respect social norms publicly","Keep unconventional ideas private","Observe before expressing opinions","Avoid unnecessary confrontation","Choose carefully when to stand apart"],nuance:"Blend in to survive, think freely to rise.",locked:!1},{id:"law-39",chapter:"Law 39",sanskrit:"Stir Up Waters to Catch Fish",translation:"Emotional reactions reveal weaknesses. Calm opponents think clearly; emotional ones make mistakes. Controlled disruption gives advantage.",translation_hi:`          ;     
    `,translation_mr:`    .     ;    .
      .`,steps:["Stay calm while others react","Apply pressure subtly","Use silence or ambiguity strategically","Watch reactions closely","Act when imbalance appears"],nuance:"Emotion clouds judgment.",locked:!1},{id:"law-40",chapter:"Law 40",sanskrit:"Despise the Free Lunch",translation:"What comes free often comes with hidden cost. Dependence weakens independence. Paying your way preserves freedom and respect.",translation_hi:`                
         `,translation_mr:`       .    .
       .`,steps:["Be cautious of favors","Understand hidden obligations","Maintain self-reliance","Pay fairly for value","Avoid long-term dependence"],nuance:"Freedom has a price worth paying.",locked:!1},{id:"law-41",chapter:"Law 41",sanskrit:"Avoid Stepping into a Great Mans Shoes",translation:"Comparison invites failure. Following legends limits originality. Create your own identity and path.",translation_hi:"                     ",translation_mr:"   .       .       .",steps:["Respect predecessors without copying them","Define your own style","Avoid constant comparison","Innovate rather than imitate","Build your own legacy"],nuance:"Originality creates authority.",locked:!1},{id:"law-42",chapter:"Law 42",sanskrit:"Strike the Shepherd and the Sheep Will Scatter",translation:"Groups draw strength from leaders. Removing the source of direction dissolves resistance. Power shifts when leadership collapses.",translation_hi:`                 
       `,translation_mr:`   .       .
     .`,steps:["Identify key influencers","Focus efforts on leadership, not followers","Reduce their credibility calmly","Act strategically, not emotionally","Let structure fall naturally"],nuance:"Remove the head, and control follows.",locked:!1},{id:"law-43",chapter:"Law 43",sanskrit:"Work on the Hearts and Minds of Others",translation:"Force creates resistance; persuasion creates loyalty. Emotions drive decisions more than logic. Influence lasts longer than control.",translation_hi:`    ;            
       `,translation_mr:`    ;    .     .
    .`,steps:["Understand emotional needs","Show empathy strategically","Align goals with their interests","Communicate respectfully","Build trust before action"],nuance:"Hearts won last longer than battles won.",locked:!1},{id:"law-44",chapter:"Law 44",sanskrit:"Disarm and Infuriate with the Mirror Effect",translation:"Mirroring exposes behavior without confrontation. People become uncomfortable when faced with themselves. Reflection weakens manipulation.",translation_hi:`                  
     `,translation_mr:`      .      .
    .`,steps:["Reflect behavior calmly","Avoid emotional reaction","Let others see their actions","Stay neutral and composed","Use silence as a mirror"],nuance:"Reflection reveals truth.",locked:!1},{id:"law-45",chapter:"Law 45",sanskrit:"Preach the Need for Change, but Never Reform Too Much at Once",translation:"Sudden change creates fear and resistance. Gradual change feels safe and acceptable. People accept what they can adjust to slowly.",translation_hi:`              
        -    `,translation_mr:`       .     .
         .`,steps:["Introduce change step by step","Respect traditions initially","Gain trust before reform","Avoid shocking systems","Let people adapt naturally"],nuance:"Slow change lasts.",locked:!1},{id:"law-46",chapter:"Law 46",sanskrit:"Never Appear Too Perfect",translation:"Perfection invites envy and hostility. Small flaws humanize you. Approachability protects influence.",translation_hi:"                   ",translation_mr:`     .     .
     .`,steps:["Show controlled imperfections","Avoid constant superiority","Share minor struggles selectively","Let others shine sometimes","Stay humble publicly"],nuance:"Humanity protects power.",locked:!1},{id:"law-47",chapter:"Law 47",sanskrit:"Do Not Go Past the Mark You Aimed For; In Victory, Learn When to Stop",translation:"Overreaching destroys success. Knowing when to stop preserves gains. Excess creates downfall.",translation_hi:"               ,           ",translation_mr:"      .       .     .",steps:["Define clear limits","Stop once the goal is achieved","Avoid unnecessary dominance","Consolidate success","Leave room for stability"],nuance:"Control includes knowing when to stop.",locked:!1},{id:"law-48",chapter:"Law 48",sanskrit:"Assume Formlessness",translation:"Rigid structures break under pressure. Flexibility adapts and survives. Power flows where form does not trap it.",translation_hi:"                         ",translation_mr:"   .   .       .",steps:["Stay adaptable to change","Avoid fixed identities","Adjust strategy as situations shift","Remain unpredictable","Flow rather than resist"],nuance:"Flexibility is ultimate power.",locked:!1}],nC=[{id:"anger",chapter:"Chapter 2, Shloka 6263",sanskrit:`   
  
  
  `,translation:`Shloka Insight:
 Thinking repeatedly about fears or desires creates attachment.
 Attachment slowly turns into ego, anger, and frustration.
 When anger and fear take control, clarity and right judgment are lost.

Gita Solution:
 Anger and ego are born from fear and uncontrolled thinking, not from situations.
 Stepping back, observing your thoughts, and choosing calm action restores balance.`,translation_hi:`  :
       -      
  -       
     ,         

 :
      ,       
           `,translation_mr:` :
         .
       .
    ,       .

 :
     ,     .
         .`,nuance:"Pause, breathe, and respond with awareness instead of reacting with emotion.",locked:!1},{id:"ego",chapter:"Chapter 2, Shloka 6263",sanskrit:`   
  
  
  `,translation:`Shloka Insight:
 Thinking repeatedly about fears or desires creates attachment.
 Attachment slowly turns into ego, anger, and frustration.
 When anger and fear take control, clarity and right judgment are lost.

Gita Solution:
 Anger and ego are born from fear and uncontrolled thinking, not from situations.
 Stepping back, observing your thoughts, and choosing calm action restores balance.`,translation_hi:`  :
       -      
  -       
     ,         

 :
      ,       
           `,translation_mr:` :
         .
       .
    ,       .

 :
     ,     .
         .`,nuance:"Pause, breathe, and respond with awareness instead of reacting with emotion.",locked:!1},{id:"desire",chapter:"Chapter 3, Shloka 37",sanskrit:`    
   `,translation:`Shloka Insight:
 Desire is a powerful inner force that pushes a person to act.
 When guided well, desire becomes motivation and progress.
 When uncontrolled, the same desire turns into restlessness and suffering.

Gita Solution:
 Desire itself is not wrong; lack of awareness is the real problem.
 Channeling desire with discipline turns it into strength instead of distraction.`,translation_hi:`  :
                
    ,       
   ,        

 :
     ;      
                 `,translation_mr:` :
             .
   ,     .
  ,      .

 :
   ;      .
        .`,nuance:"Guide your desire with awareness, and it will work for you instead of controlling you.",locked:!1},{id:"depression",chapter:"Chapter 6, Shloka 5",sanskrit:` 
   `,translation:`Shloka Insight:
 The mind can either support you or pull you down.
 Depression grows when hope is forgotten, not when strength is lost.
 Even a small effort can slowly bring the mind back to balance.

Gita Solution:
 Depression is deepened by self-neglect, not by lack of ability.
 Gentle action with patience restores inner strength over time.`,translation_hi:`  :
              
          ,       
      -       

 :
        ,     
    -            `,translation_mr:` :
         .
      ,   .
         .

 :
     .
         .`,nuance:"Take one small step today  that is enough for now.",locked:!1},{id:"jealousy",chapter:"Chapter 12, Shloka 15",sanskrit:`    
     `,translation:`Shloka Insight:
 Jealousy arises when comparison replaces self-contentment.
 Constant comparison disturbs inner peace and clarity.
 A calm and balanced mind stays free from emotional agitation.

Gita Solution:
 Jealousy grows from insecurity, not from others success.
 Focusing on self-growth dissolves comparison and brings peace.`,translation_hi:`  :
        -     
          

 :
     ,     
 -              `,translation_mr:` :
     ,    .
      .

 :
    ,   .
          .`,nuance:"Walk your own path with calm focus; peace follows naturally.",locked:!1},{id:"self_doubt",chapter:"Chapter 6, Shloka 5",sanskrit:` 
   `,translation:`Shloka Insight:
 Self-doubt begins when trust in oneself is forgotten.
 The same mind can weaken you or support you.
 Belief grows slowly through consistent small efforts.

Gita Solution:
 Self-doubt is created by repeated negative thinking, not by lack of ability.
 Taking action despite doubt rebuilds confidence step by step.`,translation_hi:`  :
 -             
             

 :
 - -      ,     
      -      `,translation_mr:` :
      ,  -  .
          .

 :
 -    ,   .
        .`,nuance:"Trust yourself enough to take one step  clarity follows action.",locked:!1},{id:"attachment",chapter:"Chapter 2, Shloka 47",sanskrit:`   
   `,translation:`Shloka Insight:
 Attachment forms when actions are tied too strongly to outcomes.
 Expecting specific results creates fear and emotional dependence.
 Peace comes from doing ones duty without clinging to the result.

Gita Solution:
 Attachment grows from obsession with results, not from action itself.
 Performing actions with detachment brings freedom and inner calm.`,translation_hi:`  :
              
         

 :
       ,   
           `,translation_mr:` :
       ,    .
       .

 :
    ,  .
        .`,nuance:"Do your work with sincerity, and let go of the outcome.",locked:!1},{id:"forgive",chapter:"Chapter 16, Shloka 3",sanskrit:`  
   `,translation:`Shloka Insight:
 Forgiveness is a strength that comes from inner peace, not weakness.
 Holding anger keeps the mind restless and heavy.
 Letting go creates space for calm and clarity.

Gita Solution:
 Inability to forgive is caused by attachment to hurt, not by justice.
 Choosing compassion frees the mind more than it frees others.`,translation_hi:`  :
          ,   
           

 :
           ,    
            `,translation_mr:` :
        ,  .
        .

 :
         .
        .`,nuance:"Forgiveness lightens the heart and restores inner peace.",locked:!1},{id:"discipline",chapter:"Chapter 6, Shloka 26",sanskrit:`   
   `,translation:`Shloka Insight:
 The mind naturally wanders and avoids effort.
 Discipline is not force; it is gentle, repeated redirection.
 Consistent practice slowly builds self-control.

Gita Solution:
 Lack of discipline comes from an untrained mind, not laziness.
 Regular small routines create stability and inner strength.`,translation_hi:`  :
           
    ;    -     

 :
        ,   
         `,translation_mr:` :
       .
    ;       .

 :
      ,  .
         .`,nuance:"Bring the mind back gently each time  this is discipline.",locked:!1},{id:"fear",chapter:"Chapter 6, Shloka 15",sanskrit:"  ",translation:`Shloka Insight:
 Fear and anxiety arise when the mind lives in the future.
 Constant worry disturbs inner peace and balance.
 A calm and centered mind naturally feels safe and steady.

Gita Solution:
 Fear grows from imagining outcomes, not from the present moment.
 Returning attention to the present restores clarity and calm.`,translation_hi:`  :
             
          

 :
        ,    
            `,translation_mr:` :
          .
     .

 :
     ,  .
        .`,nuance:"Stay rooted in the present  peace replaces fear.",locked:!1},{id:"anxiety",chapter:"Chapter 6, Shloka 15",sanskrit:"  ",translation:`Shloka Insight:
 Fear and anxiety arise when the mind lives in the future.
 Constant worry disturbs inner peace and balance.
 A calm and centered mind naturally feels safe and steady.

Gita Solution:
 Fear grows from imagining outcomes, not from the present moment.
 Returning attention to the present restores clarity and calm.`,translation_hi:`  :
             
          

 :
        ,    
            `,translation_mr:` :
          .
     .

 :
     ,  .
        .`,nuance:"Stay rooted in the present  peace replaces fear.",locked:!1},{id:"confusion",chapter:"Chapter 4, Shloka 42",sanskrit:`  
   `,translation:`Shloka Insight:
 Confusion arises when clarity is covered by doubt and overthinking.
 Too many thoughts weaken decision-making.
 Right understanding cuts through doubt and restores direction.

Gita Solution:
 Confusion grows from lack of inner clarity, not lack of options.
 Seeking understanding and taking action dissolves doubt.`,translation_hi:`  :
               
           

 :
        ,     
          `,translation_mr:` :
       ,    .
      .

 :
     ,   .
         .`,nuance:"Choose clarity over hesitation  the path becomes visible.",locked:!1},{id:"overthinking",chapter:"Chapter 6, Shloka 25",sanskrit:`   
     `,translation:`Shloka Insight:
 Overthinking happens when the mind runs without direction.
 Too many thoughts drain energy and clarity.
 Calm focus brings the mind back to peace.

Gita Solution:
 Overthinking is caused by lack of mental rest, not lack of intelligence.
 Gradual calming of the mind restores balance and clarity.`,translation_hi:`  :
            
           

 :
          ,     
   -       `,translation_mr:` :
    ,    .
       .

 :
     ,   .
       .`,nuance:"Pause... and let the mind settle.",locked:!1},{id:"motivation",chapter:"Chapter 2, Shloka 47",sanskrit:`   
   `,translation:`Shloka Insight:
 Motivation weakens when results feel too heavy to carry.
 Focusing only on outcomes drains energy and interest.
 Action itself slowly rebuilds inner drive.

Gita Solution:
 Lack of motivation comes from attachment to results, not from lack of ability.
 Doing small actions without pressure restores momentum.`,translation_hi:`  :
             
            

 :
          
    -       `,translation_mr:` :
    ,    .
      .

 :
     .
       .`,nuance:"Begin with one small action today, motivation will follow.",locked:!1},{id:"lonely",chapter:"Chapter 6, Shloka 5",sanskrit:` 
   `,translation:`Shloka Insight:
 Loneliness grows when we feel disconnected from ourselves.
 Depending only on others for comfort creates inner emptiness.
 Reconnecting with oneself brings quiet strength and peace.

Gita Solution:
 Loneliness comes from inner disconnection, not from being alone.
 Building a gentle relationship with yourself restores warmth and support.`,translation_hi:`  :
             
           

 :
      ,    
           `,translation_mr:` :
     ,   .
       .

 :
     .
      .`,nuance:"Be present with yourself today  you are never truly alone.",locked:!1},{id:"control_mind",chapter:"Chapter 6, Shloka 26",sanskrit:`   
   `,translation:`Shloka Insight:
 The mind naturally wanders and seeks distractions.
 Trying to force control only creates more resistance.
 Calm repetition and awareness slowly train the mind.

Gita Solution:
 The mind is controlled through gentle practice, not harsh discipline.
 Bringing attention back again and again builds inner mastery.`,translation_hi:`  :
          
           

 :
      ,        
 -        `,translation_mr:` :
      .
       .

 :
      ,    .
        .`,nuance:"Each time the mind wanders, bring it back calmly  this is control.",locked:!1},{id:"fear_failure",chapter:"Chapter 2, Shloka 47",sanskrit:`   
   `,translation:`Shloka Insight:
 Fear of failure arises when results matter more than effort.
 Worrying about outcomes weakens courage and clarity.
 Peace comes from focusing on action, not its result.

Gita Solution:
 Fear of failure is created by attachment to success, not by effort.
 Acting sincerely without pressure dissolves fear step by step.`,translation_hi:`  :
               
           

 :
           ,   
          -    `,translation_mr:` :
       ,    .
      .

 :
      ,  .
       .`,nuance:"Do your best today and let go  fear fades when action begins.",locked:!1},{id:"attach_result",chapter:"Chapter 2, Shloka 47",sanskrit:`   
   `,translation:`Shloka Insight:
 Attachment to results creates constant expectation and fear.
 When peace depends on outcomes, the mind stays restless.
 True balance comes from focusing on effort, not reward.

Gita Solution:
 Attachment to results grows from insecurity, not from action itself.
 Performing duties with detachment brings inner freedom.`,translation_hi:`  :
          
       ,     

 :
       
           `,translation_mr:` :
        .
     ,    .

 :
    .
          .`,nuance:"Give your best effort and release the outcome.",locked:!1},{id:"work_stress",chapter:"Chapter 2, Shloka 48",sanskrit:`     
     `,translation:`Shloka Insight:
 Work stress grows when pressure replaces balance.
 Unequal focus on success or failure disturbs the mind.
 Inner steadiness brings clarity even in demanding work.

Gita Solution:
 Work stress comes from emotional imbalance, not workload alone.
 Maintaining calm effort with detachment restores control and peace.`,translation_hi:`  :
              
           

 :
        ,      
              `,translation_mr:` :
      ,    .
       .

 :
     ,   .
        .`,nuance:"Work with balance  calm effort is true strength.",locked:!1},{id:"loss",chapter:"Chapter 2, Shloka 14",sanskrit:`  
 `,translation:`Shloka Insight:
 Loss and gain are temporary phases in life.
 Painful situations come and go like changing seasons.
 Endurance and patience bring inner strength.

Gita Solution:
 Loss hurts because we see it as permanent, not temporary.
 Accepting change with patience opens the path to recovery.`,translation_hi:`  :
        
           

 :
           
             `,translation_mr:` :
        .
      .

 :
        .
     .`,nuance:"This phase will pass  stay steady and move forward.",locked:!1},{id:"giving_up",chapter:"Chapter 6, Shloka 23",sanskrit:`   
   `,translation:`Shloka Insight:
 Difficult moments are part of every journey.
 Discomfort does not mean failure.
 Staying steady helps us move beyond pain.

Gita Solution:
 Giving up too early happens because the mind feels tired, not because the goal is wrong.
 Continuing calmly, without frustration, builds real strength.`,translation_hi:`  :
       
      

 :
               ,      
           `,translation_mr:` :
       .
     .

 :
       ,     .
         .`,nuance:"Dont stop at discomfort  growth begins just after it.",locked:!1},{id:"expectations",chapter:"Chapter 2, Shloka 47",sanskrit:`   
   `,translation:`Shloka Insight:
 Expecting others to behave in a certain way leads to disappointment.
 People act based on their own understanding, limits, and situations.
 Peace comes when we stop tying our happiness to others actions.

Gita Solution:
 Expectations from others create emotional stress and dependence.
 Accepting people as they are brings inner freedom and calm.`,translation_hi:`  :
                 
           

 :
        
         ,    `,translation_mr:` :
        .
      .

 :
      .
        .`,nuance:"Release expectations  peace grows when acceptance begins.",locked:!1},{id:"betrayal",chapter:"Chapter 2, Shloka 14",sanskrit:`  
 `,translation:`Shloka Insight:
 Emotional pain feels strong when trust is broken.
 Hurtful experiences come and go; they are not permanent.
 Endurance helps the heart regain balance.

Gita Solution:
 Betrayal hurts deeply because of emotional attachment, not weakness.
 Accepting the pain without bitterness allows healing to begin.`,translation_hi:`  :
          
        ;    

 :
         
            `,translation_mr:` :
      .
     ;   .

 :
      .
         .`,nuance:"Let the pain pass  your peace is stronger than betrayal.",locked:!1},{id:"surrender",chapter:"Chapter 12, Shloka 15",sanskrit:`    
     `,translation:`Shloka Insight:
 Fear increases when we feel unsafe in our surroundings.
 The mind imagines threats even when none are present.
 Inner calm reduces fear more than changing the environment.

Gita Solution:
 Fear of surroundings comes from inner insecurity, not external danger alone.
 Building inner steadiness slowly removes fear from the mind.`,translation_hi:`  :
             
      ,      

 :
      ,     
           `,translation_mr:` :
    ,   .
      .

 :
     ,    .
        .`,nuance:"When the mind becomes calm, the world feels safe again.",locked:!1},{id:"fear_future",chapter:"Chapter 2, Shloka 47",sanskrit:`   
   `,translation:`Shloka Insight:
 Fear of the future grows when the mind lives ahead of the present.
 Worrying about outcomes creates anxiety and restlessness.
 Peace comes from focusing on todays effort.

Gita Solution:
 Fear of the future comes from attachment to imagined results.
 Staying present and taking right action reduces fear.`,translation_hi:`  :
             
         

 :
           
             `,translation_mr:` :
        .
     .

 :
     .
        .`,nuance:"Focus on todays step  the future will take care of itself.",locked:!1},{id:"insecure",chapter:"Chapter 6, Shloka 5",sanskrit:` 
   `,translation:`Shloka Insight:
 Insecurity grows when trust in oneself becomes weak.
 Depending on others for validation increases fear.
 Inner support brings stability and confidence.

Gita Solution:
 Feeling insecure comes from self-doubt, not from lack of worth.
 Strengthening self-trust slowly removes insecurity.`,translation_hi:`  :
            
        

 :
    -   ,     
 -        `,translation_mr:` :
       .
      .

 :
    - ,   .
      .`,nuance:"Trust yourself  inner strength grows from within.",locked:!1},{id:"suffering",chapter:"Chapter 2, Shloka 14",sanskrit:`  
 `,translation:`Shloka Insight:
 Sometimes suffering comes without a clear external reason.
 The mind creates pain by repeatedly thinking and feeling.
 Such suffering is temporary and will pass.

Gita Solution:
 Suffering without reason comes from inner disturbance, not from reality.
 Observing the mind calmly reduces unnecessary pain.`,translation_hi:`  :
 -         
  -        

 :
       
            `,translation_mr:` :
     .
       .

 :
      .
        .`,nuance:"Let the moment pass  peace returns when the mind settles.",locked:!1},{id:"judgement",chapter:"Chapter 3, Shloka 35",sanskrit:`  
    `,translation:`Shloka Insight:
 Fear of judgement comes when we try to live by others standards.
 Comparing yourself with others creates anxiety and self-doubt.
 Peace grows when you stay true to your own path.

Gita Solution:
 Fear of judgement is born from seeking approval, not from wrongdoing.
 Focusing on your own duty reduces fear and builds confidence.`,translation_hi:`  :
                 
          

 :
          ,    
           `,translation_mr:` :
       ,     .
     .

 :
      .
        .`,nuance:"Walk your own path  peace comes when you stop seeking approval.",locked:!1},{id:"stuck",chapter:"Chapter 6, Shloka 5",sanskrit:` 
   `,translation:`Shloka Insight:
 Feeling stuck happens when hope and direction feel lost.
 The mind starts believing that nothing will change.
 Inner effort is the first step toward movement.

Gita Solution:
 Feeling stuck comes from loss of self-belief, not lack of opportunity.
 Small actions taken daily slowly create progress.`,translation_hi:`  :
              
          

 :
     -     
    -  -    `,translation_mr:` :
      ,   .
       .

 :
      .
       .`,nuance:"Take one small step today  movement brings new direction.",locked:!1}],YU=[{id:"ignored",label:"Being Ignored",icon:"",shlokaId:"law-6",type:"power"},{id:"outshined",label:"Feeling Outshined",icon:"",shlokaId:"law-1",type:"power"},{id:"trust_issues",label:"Trust Issues",icon:"",shlokaId:"law-2",type:"power"},{id:"talk_too_much",label:"Talked Too Much",icon:"",shlokaId:"law-4",type:"power"},{id:"reputation",label:"Reputation Risk",icon:"",shlokaId:"law-5",type:"power"},{id:"asking_help",label:"Asking for Help",icon:"",shlokaId:"law-13",type:"power"},{id:"rivalry",label:"Dealing with Rivals",icon:"",shlokaId:"law-15",type:"power"},{id:"weak",label:"Feeling Weak",icon:"",shlokaId:"law-22",type:"power"},{id:"overwhelmed",label:"Overwhelmed",icon:"",shlokaId:"law-23",type:"power"},{id:"stuck_habit",label:"Stuck in Habit",icon:"",shlokaId:"law-45",type:"power"},{id:"angry_conflict",label:"Angry/Conflict",icon:"",shlokaId:"law-39",type:"power"},{id:"waiting",label:"Impatient",icon:"",shlokaId:"law-35",type:"power"},{id:"manipulated",label:"Manipulated",icon:"",shlokaId:"law-44",type:"power"},{id:"boss_issues",label:"Boss Issues",icon:"",shlokaId:"law-1",type:"power"}],bc=[{id:"anger",label:"Anger",icon:"",shlokaId:"anger",type:"gita"},{id:"fear",label:"Fear",icon:"",shlokaId:"fear",type:"gita"},{id:"ego",label:"Ego",icon:"",shlokaId:"ego",type:"gita"},{id:"desire",label:"Power of Desire",icon:"",shlokaId:"desire",type:"gita"},{id:"depression",label:"Depression",icon:"",shlokaId:"depression",type:"gita"},{id:"jealousy",label:"Jealousy",icon:"",shlokaId:"jealousy",type:"gita"},{id:"doubt",label:"Self-Doubt",icon:"",shlokaId:"self_doubt",type:"gita"},{id:"attachment",label:"Attachment",icon:"",shlokaId:"attachment",type:"gita"},{id:"forgive",label:"Inability to Forgive",icon:"",shlokaId:"forgive",type:"gita"},{id:"discipline",label:"Lack of Discipline",icon:"",shlokaId:"discipline",type:"gita"},{id:"anxiety",label:"Fear & Anxiety",icon:"",shlokaId:"anxiety",type:"gita"},{id:"confusion",label:"Confusion",icon:"",shlokaId:"confusion",type:"gita"},{id:"overthinking",label:"Overthinking",icon:"",shlokaId:"overthinking",type:"gita"},{id:"motivation",label:"No Motivation",icon:"",shlokaId:"motivation",type:"gita"},{id:"lonely",label:"Feeling Lonely",icon:"",shlokaId:"lonely",type:"gita"},{id:"control_mind",label:"Control Mind",icon:"",shlokaId:"control_mind",type:"gita"},{id:"fear_failure",label:"Fear of Failure",icon:"",shlokaId:"fear_failure",type:"gita"},{id:"attach_result",label:"Attach to Result",icon:"",shlokaId:"attach_result",type:"gita"},{id:"work_stress",label:"Work Stress",icon:"",shlokaId:"work_stress",type:"gita"},{id:"loss",label:"Business Loss",icon:"",shlokaId:"loss",type:"gita"},{id:"giving_up",label:"Giving Up",icon:"",shlokaId:"giving_up",type:"gita"},{id:"expectations",label:"Expectations",icon:"",shlokaId:"expectations",type:"gita"},{id:"betrayal",label:"Betrayal",icon:"",shlokaId:"betrayal",type:"gita"},{id:"surrender",label:"Surrender",icon:"",shlokaId:"surrender",type:"gita"},{id:"fear_future",label:"Fear of Future",icon:"",shlokaId:"fear_future",type:"gita"},{id:"insecure",label:"Insecure",icon:"",shlokaId:"insecure",type:"gita"},{id:"suffering",label:"Suffering",icon:"",shlokaId:"suffering",type:"gita"},{id:"judgement",label:"Fear of Judgment",icon:"",shlokaId:"judgement",type:"gita"},{id:"stuck",label:"Feeling Stuck",icon:"",shlokaId:"stuck",type:"gita"}],tS=[...bc,...YU].map(t=>({...t,keywords:GU[t.id]||[]})),Zu={gita:nC,"48laws":tC,yogasutra:vc(20,"YS"),upanishads:vc(22,"UP")};ZR.forEach(t=>{Zu[t.id]=vc(25,`VOL-${t.id}`)});const WU={gita:nC,"48laws":tC,yogasutra:vc(20,"YS"),upanishads:vc(22,"UP")};function QU(){const{bookId:t}=zS(),e=Vr(),n=Ls(),i=j.useRef(null),a=WU[t]||[],o=eC.find(N=>N.id===t),u=t==="gita",h=t==="48laws",d=n.state?.initialEmotionId,m=d&&u?bc.find(N=>N.id===d):null,[y,v]=j.useState(m?m.shlokaId:null),[_,E]=j.useState(m?"reader":"grid");j.useEffect(()=>{window.scrollTo(0,0),_==="reader"&&!y&&i.current&&(i.current.scrollLeft=0)},[t,_,y]);const k=y?a.filter(N=>N.id===y):a,R=N=>{v(N),E("reader"),window.scrollTo(0,0)},O=()=>{v(null),E("grid")};return w.jsxs("div",{className:"min-h-screen bg-spiritual-bg flex flex-col overflow-y-auto",children:[w.jsxs("div",{className:"pt-4 md:pt-6 px-4 md:px-6 flex items-center justify-between bg-spiritual-bg/95 backdrop-blur-sm z-50 sticky top-0 pb-3 md:pb-4 border-b border-white/5",children:[w.jsx("button",{onClick:()=>{_==="reader"?O():e(-1)},className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-white/5 flex items-center justify-center text-parchment hover:bg-white/10 active:scale-95 transition-all",children:w.jsx(ja,{size:20})}),w.jsxs("div",{className:"text-center",children:[w.jsx("h2",{className:"font-serif text-parchment font-bold tracking-wide text-lg md:text-2xl",children:o?.title||"Scripture"}),w.jsx("p",{className:"text-[9px] md:text-[10px] text-saffron uppercase tracking-widest font-bold mt-1",children:_==="grid"?"Table of Contents":y?h?`Law ${y.replace("law-","")}`:"Wisdom Card":"Swipe to Read"})]}),w.jsx("button",{onClick:()=>{_==="grid"?(v(null),E("reader")):E("grid")},className:"w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center text-parchment-dim hover:text-saffron active:scale-95 transition-all",children:_==="grid"?w.jsx(rl,{size:20}):w.jsx(fD,{size:20})})]}),_==="grid"?w.jsxs("div",{className:"flex-1 w-full max-w-5xl mx-auto px-4 py-8 animate-fade-in",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("h3",{className:"font-serif text-2xl md:text-3xl text-parchment mb-2",children:u?"How are you feeling?":"Table of Contents"}),w.jsx("p",{className:"text-parchment-dim text-xs md:text-sm",children:u?"Select an emotion to find the guiding verse.":"Select a card to reveal its strategy."})]}),u&&w.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 md:gap-4",children:bc.map(N=>w.jsxs("button",{onClick:()=>R(N.shlokaId),className:"group flex flex-col md:flex-row items-center md:items-center justify-center md:justify-start gap-2 md:gap-3 bg-stone-900/60 border border-white/5 hover:border-saffron/40 hover:bg-stone-800 rounded-xl p-3 md:p-4 transition-all duration-200 hover:-translate-y-1 active:scale-95",children:[w.jsx("span",{className:"text-2xl md:text-xl group-hover:scale-110 transition-transform duration-200",children:N.icon}),w.jsx("span",{className:"font-sans text-xs md:text-sm text-parchment font-medium group-hover:text-saffron transition-colors text-center md:text-left",children:N.label})]},N.id))}),h&&w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(N=>w.jsxs("button",{onClick:()=>R(N.id),className:"flex items-start gap-4 p-4 rounded-xl bg-white/5 border border-white/10 hover:border-saffron/40 hover:bg-white/10 text-left transition-all active:scale-95",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-800 flex items-center justify-center text-saffron font-serif font-bold border border-white/5 shrink-0",children:N.id.split("-")[1]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-serif text-parchment font-bold text-sm md:text-base leading-tight mb-1",children:N.sanskrit}),w.jsx("p",{className:"text-[10px] text-stone-500 uppercase tracking-widest",children:"Tap to Reveal"})]}),N.locked&&w.jsx(e1,{size:14,className:"text-stone-600 ml-auto"})]},N.id))})]}):w.jsx("div",{className:"flex-none py-6 md:py-8 animate-fade-in",children:w.jsx("div",{ref:i,className:`flex gap-4 md:gap-6 px-4 md:px-20 hide-scrollbar items-center pb-4 md:pb-8 min-h-[85vh] ${y?"justify-center":"overflow-x-auto snap-x snap-mandatory touch-pan-x"}`,children:k&&k.map(N=>w.jsx("div",{className:"min-w-[90vw] md:min-w-[600px] snap-center flex items-center justify-center",children:w.jsx(lk,{data:N,bookId:t,total:a.length})},N.id))})}),_==="reader"&&w.jsx(HU,{bookId:t,bookTitle:o?.title})]})}function XU(){const t=Vr(),[e,n]=j.useState("");j.useEffect(()=>{window.scrollTo(0,0)},[]);const i=eC.filter(a=>{const o=e.toLowerCase().trim();return a.title.toLowerCase().includes(o)||a.subtitle.toLowerCase().includes(o)});return w.jsxs("div",{className:"min-h-screen bg-spiritual-bg text-parchment font-sans selection:bg-saffron selection:text-white",children:[w.jsxs(ov,{children:[w.jsx("title",{children:"Grand Library | Shloki Timeless Wisdom"}),w.jsx("meta",{name:"description",content:"Explore a curated library of ancient texts decoded for modern life. From Machiavelli to Krishna, find your strategy."}),w.jsx("link",{rel:"canonical",href:"https://shloki.com/library"})]}),w.jsx(Mr,{}),w.jsx("div",{className:"min-h-screen pb-20 pt-24 px-6",children:w.jsxs("div",{className:"max-w-7xl mx-auto",children:[w.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-12 animate-fade-in",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:()=>t("/"),className:"w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-parchment hover:bg-white/10 transition-colors active:scale-95",children:w.jsx(ja,{size:20})}),w.jsxs("div",{children:[w.jsx("h1",{className:"font-serif text-3xl md:text-4xl text-parchment font-bold",children:"Grand Library"}),w.jsxs("p",{className:"text-stone-500 text-xs uppercase tracking-widest mt-1",children:[i.length," Sacred Volumes Found"]})]})]}),w.jsxs("div",{className:"relative w-full md:w-80 group",children:[w.jsx(cx,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-stone-500 group-focus-within:text-saffron transition-colors",size:18}),w.jsx("input",{type:"text",value:e,onChange:a=>n(a.target.value),placeholder:"Search scriptures...",className:"w-full bg-white/5 border border-white/10 rounded-full py-3 pl-12 pr-10 text-sm text-parchment placeholder:text-stone-600 focus:outline-none focus:border-saffron/50 focus:bg-black/40 transition-all"}),e&&w.jsx("button",{onClick:()=>n(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-stone-500 hover:text-white p-1 rounded-full hover:bg-white/10 transition-colors",children:w.jsx(sv,{size:14})})]})]}),i.length>0?w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 md:gap-8 animate-fade-in",children:i.map(a=>w.jsx(E1,{book:a},a.id))}):w.jsxs("div",{className:"text-center py-20 opacity-50 animate-fade-in",children:[w.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4 text-stone-500",children:w.jsx(cx,{size:32})}),w.jsxs("p",{className:"text-parchment font-serif text-lg",children:['No scriptures found matching "',e,'"']}),w.jsx("button",{onClick:()=>n(""),className:"mt-4 text-saffron text-sm hover:underline uppercase tracking-widest font-bold",children:"Clear Search"})]})]})})]})}function Lf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function JU(t,e,n,i){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function h(y){try{m(i.next(y))}catch(v){u(v)}}function d(y){try{m(i.throw(y))}catch(v){u(v)}}function m(y){y.done?o(y.value):a(y.value).then(h,d)}m((i=i.apply(t,e||[])).next())})}const ZU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class x0 extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class e9 extends x0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class nS extends x0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class iS extends x0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var By;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(By||(By={}));class t9{constructor(e,{headers:n={},customFetch:i,region:a=By.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=ZU(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return JU(this,arguments,void 0,function*(n,i={}){var a;let o,u;try{const{headers:h,method:d,body:m,signal:y,timeout:v}=i;let _={},{region:E}=i;E||(E=this.region);const k=new URL(`${this.url}/${n}`);E&&E!=="any"&&(_["x-region"]=E,k.searchParams.set("forceFunctionRegion",E));let R;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",R=m):typeof m=="string"?(_["Content-Type"]="text/plain",R=m):typeof FormData<"u"&&m instanceof FormData?R=m:(_["Content-Type"]="application/json",R=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?R=JSON.stringify(m):R=m;let O=y;v&&(u=new AbortController,o=setTimeout(()=>u.abort(),v),y?(O=u.signal,y.addEventListener("abort",()=>u.abort())):O=u.signal);const N=yield this.fetch(k.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),h),body:R,signal:O}).catch(se=>{throw new e9(se)}),U=N.headers.get("x-relay-error");if(U&&U==="true")throw new nS(N);if(!N.ok)throw new iS(N);let V=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),ne;return V==="application/json"?ne=yield N.json():V==="application/octet-stream"||V==="application/pdf"?ne=yield N.blob():V==="text/event-stream"?ne=N:V==="multipart/form-data"?ne=yield N.formData():ne=yield N.text(),{data:ne,error:null,response:N}}catch(h){return{data:null,error:h,response:h instanceof iS||h instanceof nS?h.context:void 0}}finally{o&&clearTimeout(o)}})}}var n9=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},i9=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let u=null,h=null,d=null,m=o.status,y=o.statusText;if(o.ok){var v,_;if(n.method!=="HEAD"){var E;const N=await o.text();N===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((E=n.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?h=N:h=JSON.parse(N))}const R=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),O=(_=o.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");R&&O&&O.length>1&&(d=parseInt(O[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,m=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var k;const R=await o.text();try{u=JSON.parse(R),Array.isArray(u)&&o.status===404&&(h=[],u=null,m=200,y="OK")}catch{o.status===404&&R===""?(m=204,y="No Content"):u={message:R}}if(u&&n.isMaybeSingle&&(!(u==null||(k=u.details)===null||k===void 0)&&k.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&n.shouldThrowOnError)throw new n9(u)}return{error:u,data:h,count:d,status:m,statusText:y}});return this.shouldThrowOnError||(a=a.catch(o=>{var u;let h="";const d=o?.cause;if(d){var m,y,v,_;const k=(m=d?.message)!==null&&m!==void 0?m:"",R=(y=d?.code)!==null&&y!==void 0?y:"";h=`${(v=o?.name)!==null&&v!==void 0?v:"FetchError"}: ${o?.message}`,h+=`

Caused by: ${(_=d?.name)!==null&&_!==void 0?_:"Error"}: ${k}`,R&&(h+=` (${R})`),d?.stack&&(h+=`
${d.stack}`)}else{var E;h=(E=o?.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(u=o?.name)!==null&&u!==void 0?u:"FetchError"}: ${o?.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},s9=class extends i9{select(t){let e=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var u;const h=[t?"analyze":null,e?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${h};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const sS=new RegExp("[,()]");var qo=class extends s9{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&sS.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&sS.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},r9=class{constructor(t,{headers:e={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:i}=e??{},a=n?"HEAD":"GET";let o=!1;const u=(t??"*").split("").map(m=>/\s/.test(m)&&!o?"":(m==='"'&&(o=!o),m)).join(""),{url:h,headers:d}=this.cloneRequestState();return h.searchParams.set("select",u),i&&d.append("Prefer",`count=${i}`),new qo({method:a,url:h,headers:d,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var i;const a="POST",{url:o,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(h.length>0){const d=[...new Set(h)].map(m=>`"${m}"`);o.searchParams.set("columns",d.join(","))}}return new qo({method:a,url:o,headers:u,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var o;const u="POST",{url:h,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),i&&d.append("Prefer",`count=${i}`),a||d.append("Prefer","missing=default"),Array.isArray(t)){const m=t.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);h.searchParams.set("columns",y.join(","))}}return new qo({method:u,url:h,headers:d,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const i="PATCH",{url:a,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new qo({method:i,url:a,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new qo({method:n,url:i,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},a9=class iC{constructor(e,{headers:n={},schema:i,fetch:a}={}){this.url=e,this.headers=new Headers(n),this.schemaName=i,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new r9(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new iC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:a=!1,count:o}={}){var u;let h;const d=new URL(`${this.url}/rpc/${e}`);let m;const y=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(y)),v=i&&Object.values(n).some(y);v?(h="POST",m=n):i||a?(h=i?"HEAD":"GET",Object.entries(n).filter(([E,k])=>k!==void 0).map(([E,k])=>[E,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([E,k])=>{d.searchParams.append(E,k)})):(h="POST",m=n);const _=new Headers(this.headers);return v?_.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&_.set("Prefer",`count=${o}`),new qo({method:h,url:d,headers:_,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class o9{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const i=n.versions;if(i&&i.node){const a=i.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const l9="2.90.1",u9=`realtime-js/${l9}`,sC="1.0.0",c9="2.0.0",rS=sC,zy=1e4,h9=1e3,d9=100;var wr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wr||(wr={}));var Ht;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ht||(Ht={}));var ki;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ki||(ki={}));var qy;(function(t){t.websocket="websocket"})(qy||(qy={}));var xa;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xa||(xa={}));class f9{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const a=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,i;const a=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,i){var a,o;const u=e.topic,h=(a=e.ref)!==null&&a!==void 0?a:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",m=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+h.length+u.length+m.length+v.length,E=new ArrayBuffer(this.HEADER_LENGTH+_);let k=new DataView(E),R=0;k.setUint8(R++,this.KINDS.userBroadcastPush),k.setUint8(R++,d.length),k.setUint8(R++,h.length),k.setUint8(R++,u.length),k.setUint8(R++,m.length),k.setUint8(R++,v.length),k.setUint8(R++,n),Array.from(d,N=>k.setUint8(R++,N.charCodeAt(0))),Array.from(h,N=>k.setUint8(R++,N.charCodeAt(0))),Array.from(u,N=>k.setUint8(R++,N.charCodeAt(0))),Array.from(m,N=>k.setUint8(R++,N.charCodeAt(0))),Array.from(v,N=>k.setUint8(R++,N.charCodeAt(0)));var O=new Uint8Array(E.byteLength+i.byteLength);return O.set(new Uint8Array(E),0),O.set(new Uint8Array(i),E.byteLength),O.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,o,u,h,d]=i;return n({join_ref:a,ref:o,topic:u,event:h,payload:d})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),a=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,a)}_decodeUserBroadcast(e,n,i){const a=n.getUint8(1),o=n.getUint8(2),u=n.getUint8(3),h=n.getUint8(4);let d=this.HEADER_LENGTH+4;const m=i.decode(e.slice(d,d+a));d=d+a;const y=i.decode(e.slice(d,d+o));d=d+o;const v=i.decode(e.slice(d,d+u));d=d+u;const _=e.slice(d,e.byteLength),E=h===this.JSON_ENCODING?JSON.parse(i.decode(_)):_,k={type:this.BROADCAST_EVENT,event:y,payload:E};return u>0&&(k.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>n.includes(i)))}}class rC{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(at||(at={}));const aS=(t,e,n={})=>{var i;const a=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((o,u)=>(o[u]=m9(u,t,e,a),o),{}):{}},m9=(t,e,n,i)=>{const a=e.find(h=>h.name===t),o=a?.type,u=n[t];return o&&!i.includes(o)?aC(o,u):Fy(u)},aC=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return v9(e,n)}switch(t){case at.bool:return p9(e);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return g9(e);case at.json:case at.jsonb:return y9(e);case at.timestamp:return b9(e);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return Fy(e);default:return Fy(e)}},Fy=t=>t,p9=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},g9=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},y9=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},v9=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let o;const u=t.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(h=>aC(e,h))}return t},b9=t=>typeof t=="string"?t.replace(" ","T"):t,oC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ig{constructor(e,n,i={},a=zy){this.channel=e,this.event=n,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var oS;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(oS||(oS={}));class ec{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ec.syncState(this.state,a,o,u),this.pendingDiffs.forEach(d=>{this.state=ec.syncDiff(this.state,d,o,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},a=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ec.syncDiff(this.state,a,o,u),h())}),this.onJoin((a,o,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:u})}),this.onLeave((a,o,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,a){const o=this.cloneDeep(e),u=this.transformState(n),h={},d={};return this.map(o,(m,y)=>{u[m]||(d[m]=y)}),this.map(u,(m,y)=>{const v=o[m];if(v){const _=y.map(O=>O.presence_ref),E=v.map(O=>O.presence_ref),k=y.filter(O=>E.indexOf(O.presence_ref)<0),R=v.filter(O=>_.indexOf(O.presence_ref)<0);k.length>0&&(h[m]=k),R.length>0&&(d[m]=R)}else h[m]=y}),this.syncDiff(o,{joins:h,leaves:d},i,a)}static syncDiff(e,n,i,a){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(o,(h,d)=>{var m;const y=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(d),y.length>0){const v=e[h].map(E=>E.presence_ref),_=y.filter(E=>v.indexOf(E.presence_ref)<0);e[h].unshift(..._)}i(h,y,d)}),this.map(u,(h,d)=>{let m=e[h];if(!m)return;const y=d.map(v=>v.presence_ref);m=m.filter(v=>y.indexOf(v.presence_ref)<0),e[h]=m,a(h,m,d),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const a=e[i];return"metas"in a?n[i]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lS;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(lS||(lS={}));var tc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(tc||(tc={}));var Cs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Cs||(Cs={}));class Wo{constructor(e,n={config:{}},i){var a,o;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ig(this,ki.join,this.params,this.timeout),this.rejoinTimer=new rC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ht.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ki.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new ec(this),this.broadcastEndpointURL=oC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ht.closed){const{config:{broadcast:u,presence:h,private:d}}=this.params,m=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(E=>E.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[tc.PRESENCE]&&this.bindings[tc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},_={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:m,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(E=>e?.(Cs.CHANNEL_ERROR,E)),this._onClose(()=>e?.(Cs.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:E})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){e?.(Cs.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,O=(k=R?.length)!==null&&k!==void 0?k:0,N=[];for(let U=0;U<O;U++){const V=R[U],{filter:{event:ne,schema:se,table:ce,filter:I}}=V,A=E&&E[U];if(A&&A.event===ne&&Wo.isFilterValueEqual(A.schema,se)&&Wo.isFilterValueEqual(A.table,ce)&&Wo.isFilterValueEqual(A.filter,I))N.push(Object.assign(Object.assign({},V),{id:A.id}));else{this.unsubscribe(),this.state=Ht.errored,e?.(Cs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(Cs.SUBSCRIBED);return}}).receive("error",E=>{this.state=Ht.errored,e?.(Cs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e?.(Cs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Ht.joined&&e===tc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let d=h.statusText;try{const m=await h.json();d=m.error||m.message||d}catch{}return Promise.reject(new Error(d))}async send(e,n={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,h,d;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ki.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Ig(this,ki.leave,{},e),i.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ht.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const a=new AbortController,o=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),u}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ig(this,e,n,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>d9){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var a,o;const u=e.toLocaleLowerCase(),{close:h,error:d,leave:m,join:y}=ki;if(i&&[h,d,m,y].indexOf(u)>=0&&i!==this._joinRef())return;let _=this._onMessage(u,n,i);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(E=>{var k,R,O;return((k=E.filter)===null||k===void 0?void 0:k.event)==="*"||((O=(R=E.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(E=>E.callback(_,i)):(o=this.bindings[u])===null||o===void 0||o.filter(E=>{var k,R,O,N,U,V,ne,se;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in E){const ce=E.id,I=(k=E.filter)===null||k===void 0?void 0:k.event;return ce&&((R=n.ids)===null||R===void 0?void 0:R.includes(ce))&&(I==="*"||I?.toLocaleLowerCase()===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))&&(!(!((N=E.filter)===null||N===void 0)&&N.table)||E.filter.table===((U=n.data)===null||U===void 0?void 0:U.table))}else{const ce=(ne=(V=E?.filter)===null||V===void 0?void 0:V.event)===null||ne===void 0?void 0:ne.toLocaleLowerCase();return ce==="*"||ce===((se=n?.event)===null||se===void 0?void 0:se.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===u}).map(E=>{if(typeof _=="object"&&"ids"in _){const k=_.data,{schema:R,table:O,commit_timestamp:N,type:U,errors:V}=k;_=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:N,eventType:U,new:{},old:{},errors:V}),this._getPayloadRecords(k))}E.callback(_,i)})}_isClosed(){return this.state===Ht.closed}_isJoined(){return this.state===Ht.joined}_isJoining(){return this.state===Ht.joining}_isLeaving(){return this.state===Ht.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const a=e.toLocaleLowerCase(),o={type:a,filter:n,callback:i};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Wo.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ki.close,{},e)}_onError(e){this._on(ki.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=aS(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=aS(e.columns,e.old_record)),n}}const Og=()=>{},Rd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},w9=[1e3,2e3,5e3,1e4],_9=1e4,x9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class T9{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zy,this.transport=null,this.heartbeatIntervalMs=Rd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Og,this.ref=0,this.reconnectTimer=null,this.vsn=rS,this.logger=Og,this.conn=null,this.sendBuffer=[],this.serializer=new f9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${qy.websocket}`,this.httpEndpoint=oC(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=o9.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case wr.connecting:return xa.Connecting;case wr.open:return xa.Open;case wr.closing:return xa.Closing;default:return xa.Closed}}isConnected(){return this.connectionState()===xa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===i);if(a)return a;{const o=new Wo(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:i,payload:a,ref:o}=e,u=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${n} ${i} (${o})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(h9,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Rd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",m)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:a,payload:o,ref:u}=n,h=u?`(${u})`:"",d=o.status||"";this.log("receive",`${d} ${i} ${a} ${h}`.trim(),o),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(a,o,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===wr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===wr.open||this.conn.readyState===wr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ki.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${i}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([x9],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,i=!1;if(e)n=e,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const o={access_token:n,version:u9};n&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(ki.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new rC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,a,o,u,h,d,m,y,v,_,E;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:zy,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Rd.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:Og,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:rS,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(k=>w9[k-1]||_9),this.vsn){case sC:this.encode=(y=e?.encode)!==null&&y!==void 0?y:((k,R)=>R(JSON.stringify(k))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((k,R)=>R(JSON.parse(k)));break;case c9:this.encode=(_=e?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(E=e?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var wc=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function E9(t,e,n){const i=new URL(e,t);if(n)for(const[a,o]of Object.entries(n))o!==void 0&&i.searchParams.set(a,o);return i.toString()}async function S9(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function A9(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:a,body:o,headers:u}){const h=E9(t.baseUrl,i,a),d=await S9(t.auth),m=await e(h,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...u},body:o?JSON.stringify(o):void 0}),y=await m.text(),v=(m.headers.get("content-type")||"").includes("application/json"),_=v&&y?JSON.parse(y):y;if(!m.ok){const E=v?_:void 0,k=E?.error;throw new wc(k?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:k?.type,icebergCode:k?.code,details:E})}return{status:m.status,headers:m.headers,data:_}}}}function Cd(t){return t.join("")}var k9=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Cd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cd(t.namespace)}`}),!0}catch(e){if(e instanceof wc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof wc&&n.status===409)return;throw n}}};function Do(t){return t.join("")}var R9=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof wc&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof wc&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},C9=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=A9({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new k9(this.client,e),this.tableOps=new R9(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Uf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function pt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var I9=class extends Uf{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$y=class extends Uf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const T0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),O9=()=>Response,Hy=t=>{if(Array.isArray(t))return t.map(n=>Hy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Hy(i)}),e},D9=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},N9=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function j9(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_c(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P9(t){var e=j9(t,"string");return _c(e)=="symbol"?e:e+""}function V9(t,e,n){return(e=P9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(n),!0).forEach(function(i){V9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const Dg=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},M9=async(t,e,n)=>{t instanceof await O9()&&!n?.noResolveJson?t.json().then(i=>{const a=t.status||500,o=i?.statusCode||a+"";e(new I9(Dg(i),a,o))}).catch(i=>{e(new $y(Dg(i),i))}):e(new $y(Dg(t),t))},L9=(t,e,n,i)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!i?a:(D9(i)?(a.headers=Ae({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,e?.duplex&&(a.duplex=e.duplex),Ae(Ae({},a),n))};async function zc(t,e,n,i,a,o){return new Promise((u,h)=>{t(n,L9(e,i,a,o)).then(d=>{if(!d.ok)throw d;return i?.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>M9(d,h,i))})}async function xc(t,e,n,i){return zc(t,"GET",e,n,i)}async function Ai(t,e,n,i,a){return zc(t,"POST",e,i,a,n)}async function Gy(t,e,n,i,a){return zc(t,"PUT",e,i,a,n)}async function U9(t,e,n,i){return zc(t,"HEAD",e,Ae(Ae({},n),{},{noResolveJson:!0}),i)}async function E0(t,e,n,i,a){return zc(t,"DELETE",e,i,a,n)}var B9=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}}};let lC;lC=Symbol.toStringTag;var z9=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[lC]="BlobDownloadBuilder",this.promise=null}asStream(){return new B9(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}}};const q9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var F9=class{constructor(t,e={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=T0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,i){var a=this;try{let o;const u=Ae(Ae({},cS),i);let h=Ae(Ae({},a.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),d&&o.append("metadata",a.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),d&&!o.has("metadata")&&o.append("metadata",a.encodeMetadata(d))):(o=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,d&&(h["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),i?.headers&&(h=Ae(Ae({},h),i.headers));const m=a._removeEmptyFolders(e),y=a._getFinalPath(m),v=await(t=="PUT"?Gy:Ai)(a.fetch,`${a.url}/object/${y}`,o,Ae({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(pt(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,i){var a=this;const o=a._removeEmptyFolders(t),u=a._getFinalPath(o),h=new URL(a.url+`/object/upload/sign/${u}`);h.searchParams.set("token",e);try{let d;const m=Ae({upsert:cS.upsert},i),y=Ae(Ae({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",m.cacheControl)):(d=n,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{data:{path:o,fullPath:(await Gy(a.fetch,h.toString(),d,{headers:y})).Key},error:null}}catch(d){if(a.shouldThrowOnError)throw d;if(pt(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var n=this;try{let i=n._getFinalPath(t);const a=Ae({},n.headers);e?.upsert&&(a["x-upsert"]="true");const o=await Ai(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(n.url+o.url),h=u.searchParams.get("token");if(!h)throw new Uf("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:h},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var i=this;try{return{data:await Ai(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}async copy(t,e,n){var i=this;try{return{data:{path:(await Ai(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,n){var i=this;try{let a=i._getFinalPath(t),o=await Ai(i.fetch,`${i.url}/object/sign/${a}`,Ae({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:i.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${i.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,n){var i=this;try{const a=await Ai(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(u=>Ae(Ae({},u),{},{signedUrl:u.signedURL?encodeURI(`${i.url}${u.signedURL}${o}`):null})),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),a=i?`?${i}`:"",o=this._getFinalPath(t),u=()=>xc(this.fetch,`${this.url}/${n}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new z9(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Hy(await xc(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await U9(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(pt(i)&&i instanceof $y){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const n=this._getFinalPath(t),i=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&i.push(a);const o=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${h}`)}}}async remove(t){var e=this;try{return{data:await E0(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async list(t,e,n){var i=this;try{const a=Ae(Ae(Ae({},q9),e),{},{prefix:t||""});return{data:await Ai(i.fetch,`${i.url}/object/list/${i.bucketId}`,a,{headers:i.headers},n),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}async listV2(t,e){var n=this;try{const i=Ae({},t);return{data:await Ai(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},e),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const uC="2.90.1",cC={"X-Client-Info":`storage-js/${uC}`};var $9=class{constructor(t,e={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ae(Ae({},cC),e),this.fetch=T0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await xc(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await xc(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Ai(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}}async updateBucket(t,e){var n=this;try{return{data:await Gy(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}}async emptyBucket(t){var e=this;try{return{data:await Ai(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await E0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},H9=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ae(Ae({},cC),e),this.fetch=T0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ai(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const i=n.toString(),a=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await xc(e.fetch,a,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await E0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!N9(t))throw new Uf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new C9({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(a,o){const u=a[o];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(a,h),error:null}}catch(d){if(i)throw d;return{data:null,error:d}}}}})}};const S0={"X-Client-Info":`storage-js/${uC}`,"Content-Type":"application/json"};var hC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function qn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Ng=class extends hC{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},G9=class extends hC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const A0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),K9=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hS=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Y9=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(o=>{const u=o?.statusCode||o?.code||i+"";e(new Ng(hS(o),i,u))}).catch(()=>{const o=i+"";e(new Ng(a.statusText||`HTTP ${i} error`,i,o))});else{const o=i+"";e(new Ng(a.statusText||`HTTP ${i} error`,i,o))}}else e(new G9(hS(t),t))},W9=(t,e,n,i)=>{const a={method:t,headers:e?.headers||{}};return i?(K9(i)?(a.headers=Ae({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,Ae(Ae({},a),n)):a};async function Q9(t,e,n,i,a,o){return new Promise((u,h)=>{t(n,W9(e,i,a,o)).then(d=>{if(!d.ok)throw d;if(i?.noResolveJson)return d;const m=d.headers.get("content-type");return!m||!m.includes("application/json")?{}:d.json()}).then(d=>u(d)).catch(d=>Y9(d,h,i))})}async function Fn(t,e,n,i,a){return Q9(t,"POST",e,i,a,n)}var X9=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ae(Ae({},S0),e),this.fetch=A0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Fn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(qn(i))return{data:null,error:i};throw i}}async listIndexes(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Fn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(qn(i))return{data:null,error:i};throw i}}},J9=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ae(Ae({},S0),e),this.fetch=A0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Fn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Fn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Fn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}}},Z9=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ae(Ae({},S0),e),this.fetch=A0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}}},eB=class extends Z9{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new tB(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},tB=class extends X9{constructor(t,e,n,i){super(t,e,i),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Ae(Ae({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Ae(Ae({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new nB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},nB=class extends J9{constructor(t,e,n,i,a){super(t,e,a),this.vectorBucketName=n,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Ae(Ae({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Ae(Ae({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Ae(Ae({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Ae(Ae({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Ae(Ae({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},iB=class extends $9{constructor(t,e={},n,i){super(t,e,n,i)}from(t){return new F9(this.url,this.headers,t,this.fetch)}get vectors(){return new eB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new H9(this.url+"/iceberg",this.headers,this.fetch)}};const dC="2.90.1",Fo=30*1e3,Ky=3,jg=Ky*Fo,sB="http://localhost:9999",rB="supabase.auth.token",aB={"X-Client-Info":`gotrue-js/${dC}`},Yy="X-Supabase-Api-Version",fC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lB=600*1e3;class Tc extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function _e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class uB extends Tc{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function cB(t){return _e(t)&&t.name==="AuthApiError"}class Ta extends Tc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Us extends Tc{constructor(e,n,i,a){super(e,i,a),this.name=n,this.status=i}}class zn extends Us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hB(t){return _e(t)&&t.name==="AuthSessionMissingError"}class No extends Us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Id extends Us{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Od extends Us{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dB(t){return _e(t)&&t.name==="AuthImplicitGrantRedirectError"}class dS extends Us{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fB extends Us{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Wy extends Us{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Pg(t){return _e(t)&&t.name==="AuthRetryableFetchError"}class fS extends Us{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Qy extends Us{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mS=` 	
\r=`.split(""),mB=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<mS.length;e+=1)t[mS[e].charCodeAt(0)]=-2;for(let e=0;e<pf.length;e+=1)t[pf[e].charCodeAt(0)]=e;return t})();function pS(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(pf[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(pf[i]),e.queuedBits-=6}}function mC(t,e,n){const i=mB[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function gS(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=u=>{yB(u,i,n)};for(let u=0;u<t.length;u+=1)mC(t.charCodeAt(u),a,o);return e.join("")}function pB(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function gB(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}pB(i,e)}}function yB(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function il(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)mC(t.charCodeAt(a),n,i);return new Uint8Array(e)}function vB(t){const e=[];return gB(t,n=>e.push(n)),new Uint8Array(e)}function ka(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>pS(a,n,i)),pS(null,n,i),e.join("")}function bB(t){return Math.round(Date.now()/1e3)+t}function wB(){return Symbol("auth-callback")}const on=()=>typeof window<"u"&&typeof document<"u",ya={tested:!1,writable:!1},pC=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ya.tested)return ya.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ya.tested=!0,ya.writable=!0}catch{ya.tested=!0,ya.writable=!1}return ya.writable};function _B(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return n.searchParams.forEach((i,a)=>{e[a]=i}),e}const gC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),xB=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$o=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},va=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},an=async(t,e)=>{await t.removeItem(e)};class Bf{constructor(){this.promise=new Bf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Bf.promiseConstructor=Promise;function Vg(t){const e=t.split(".");if(e.length!==3)throw new Qy("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!oB.test(e[i]))throw new Qy("JWT not in base64url format");return{header:JSON.parse(gS(e[0])),payload:JSON.parse(gS(e[1])),signature:il(e[2]),raw:{header:e[0],payload:e[1]}}}async function TB(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function EB(t,e){return new Promise((i,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await t(o);if(!e(o,null,u)){i(u);return}}catch(u){if(!e(o,u)){a(u);return}}})()})}function SB(t){return("0"+t.toString(16)).substr(-2)}function AB(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,SB).join("")}async function kB(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(i);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function RB(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await kB(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jo(t,e,n=!1){const i=AB();let a=i;n&&(a+="/PASSWORD_RECOVERY"),await $o(t,`${e}-code-verifier`,a);const o=await RB(i);return[o,i===o?"plain":"s256"]}const CB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IB(t){const e=t.headers.get(Yy);if(!e||!e.match(CB))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function OB(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function DB(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const NB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Po(t){if(!NB.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mg(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jB(t,e){return new Proxy(t,{get:(n,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,a)}})}function yS(t){return JSON.parse(JSON.stringify(t))}const _a=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PB=[502,503,504];async function vS(t){var e;if(!xB(t))throw new Wy(_a(t),0);if(PB.includes(t.status))throw new Wy(_a(t),t.status);let n;try{n=await t.json()}catch(o){throw new Ta(_a(o),o)}let i;const a=IB(t);if(a&&a.getTime()>=fC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new fS(_a(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new zn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new fS(_a(n),t.status,n.weak_password.reasons);throw new uB(_a(n),t.status||500,i)}const VB=(t,e,n,i)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),n))};async function Se(t,e,n,i){var a;const o=Object.assign({},i?.headers);o[Yy]||(o[Yy]=fC["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const u=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await MB(t,e,n+h,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(d):{data:Object.assign({},d),error:null}}async function MB(t,e,n,i,a,o){const u=VB(e,i,a,o);let h;try{h=await t(n,Object.assign({},u))}catch(d){throw console.error(d),new Wy(_a(d),0)}if(h.ok||await vS(h),i?.noResolveJson)return h;try{return await h.json()}catch(d){await vS(d)}}function Ei(t){var e;let n=null;BB(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=bB(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function bS(t){const e=Ei(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _r(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function LB(t){return{data:t,error:null}}function UB(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:o}=t,u=Lf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:o},d=Object.assign({},u);return{data:{properties:h,user:d},error:null}}function wS(t){return t}function BB(t){return t.access_token&&t.refresh_token&&t.expires_in}const Lg=["global","local","others"];class zB{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=gC(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Lg[0]){if(Lg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lg.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_r})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Lf(e,["options"]),a=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:UB,redirectTo:n?.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_r})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,a,o,u,h,d;try{const m={nextPage:null,lastPage:0,total:0},y=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:wS});if(y.error)throw y.error;const v=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(d=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return E.length>0&&(E.forEach(k=>{const R=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(k.split(";")[1].split("=")[1]);m[`${O}Page`]=R}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(_e(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Po(e);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_r})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Po(e);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:_r})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Po(e);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:_r})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Po(e.userId);try{const{data:n,error:i}=await Se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:i}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Po(e.userId),Po(e.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,a,o,u,h,d;try{const m={nextPage:null,lastPage:0,total:0},y=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:wS});if(y.error)throw y.error;const v=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(d=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return E.length>0&&(E.forEach(k=>{const R=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(k.split(";")[1].split("=")[1]);m[`${O}Page`]=R}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(_e(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function _S(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Vo={debug:!!(globalThis&&pC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qB extends yC{}async function FB(t,e,n){Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new qB(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Vo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function $B(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function HB(t){return parseInt(t,16)}function GB(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function KB(t){var e;const{chainId:n,domain:i,expirationTime:a,issuedAt:o=new Date,nonce:u,notBefore:h,requestId:d,resources:m,scheme:y,uri:v,version:_}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const E=vC(t.address),k=y?`${y}://${i}`:i,R=t.statement?`${t.statement}
`:"",O=`${k} wants you to sign in with your Ethereum account:
${E}

${R}`;let N=`URI: ${v}
Version: ${_}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),h&&(N+=`
Not Before: ${h.toISOString()}`),d&&(N+=`
Request ID: ${d}`),m){let U=`
Resources:`;for(const V of m){if(!V||typeof V!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${V}`);U+=`
- ${V}`}N+=U}return`${O}
${N}`}class Ut extends Error{constructor({message:e,code:n,cause:i,name:a}){var o;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=a??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class gf extends Ut{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function YB({error:t,options:e}){var n,i,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(bC(u)){if(o.rp.id!==u)return new Ut({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function WB({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(bC(i)){if(n.rpId!==i)return new Ut({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class QB{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const XB=new QB;function JB(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,a=Lf(t,["challenge","user","excludeCredentials"]),o=il(e).buffer,u=Object.assign(Object.assign({},n),{id:il(n.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:o,user:u});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const m=i[d];h.excludeCredentials[d]=Object.assign(Object.assign({},m),{id:il(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function ZB(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=Lf(t,["challenge","allowCredentials"]),a=il(e).buffer,o=Object.assign(Object.assign({},i),{challenge:a});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];o.allowCredentials[u]=Object.assign(Object.assign({},h),{id:il(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function e8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ka(new Uint8Array(t.response.attestationObject)),clientDataJSON:ka(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function t8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ka(new Uint8Array(a.authenticatorData)),clientDataJSON:ka(new Uint8Array(a.clientDataJSON)),signature:ka(new Uint8Array(a.signature)),userHandle:a.userHandle?ka(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function xS(){var t,e;return!!(on()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function n8(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gf("Browser returned unexpected credential type",e)}:{data:null,error:new gf("Empty credential response",e)}}catch(e){return{data:null,error:YB({error:e,options:t})}}}async function i8(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gf("Browser returned unexpected credential type",e)}:{data:null,error:new gf("Empty credential response",e)}}catch(e){return{data:null,error:WB({error:e,options:t})}}}const s8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},r8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yf(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const o in a){const u=a[o];if(u!==void 0)if(Array.isArray(u))i[o]=u;else if(n(u))i[o]=u;else if(e(u)){const h=i[o];e(h)?i[o]=yf(h,u):i[o]=yf(u)}else i[o]=u}return i}function a8(t,e){return yf(s8,t,e||{})}function o8(t,e){return yf(r8,t,e||{})}class l8{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:a},o){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:h};const d=a??XB.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=a8(u.webauthn.credential_options.publicKey,o?.create),{data:y,error:v}=await n8({publicKey:m,signal:d});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const m=o8(u.webauthn.credential_options.publicKey,o?.request),{data:y,error:v}=await i8(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:d}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new Ta("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!n)return{data:null,error:new Tc("rpId is required for WebAuthn authentication")};try{if(!xS())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:a},{request:o});if(!u)return{data:null,error:h};const{webauthn:d}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:i,credential_response:d.credential_response}})}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new Ta("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!n)return{data:null,error:new Tc("rpId is required for WebAuthn registration")};try{if(!xS())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:h};const{data:d,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:a},{create:o});return d?this._verify({factorId:u.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:i,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:m}}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new Ta("Unexpected error in register",u)}}}}$B();const u8={url:sB,storageKey:rB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function TS(t,e,n){return await n()}const Mo={};class Ec{get jwks(){var e,n;return(n=(e=Mo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Mo[this.storageKey]=Object.assign(Object.assign({},Mo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Mo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Mo[this.storageKey]=Object.assign(Object.assign({},Mo[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},u8),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Ec.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ec.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&on()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new zB({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=gC(o.fetch),this.lock=o.lock||TS,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&on()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=FB:this.lock=TS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new l8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:pC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_S(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=_S(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(on()&&(n=_B(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),on()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),dB(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:u,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?this._returnResult({error:n}):this._returnResult({error:new Ta("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,a;try{const o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ei}),{data:u,error:h}=o;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const d=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(o){if(_e(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,i,a;try{let o;if("email"in e){const{email:y,password:v,options:_}=e;let E=null,k=null;this.flowType==="pkce"&&([E,k]=await jo(this.storage,this.storageKey)),o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:y,password:v,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:E,code_challenge_method:k},xform:Ei})}else if("phone"in e){const{phone:y,password:v,options:_}=e;o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(a=_?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Ei})}else throw new Id("You must provide either an email or phone number and a password");const{data:u,error:h}=o;if(h||!u)return await an(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const d=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(o){if(await an(this.storage,`${this.storageKey}-code-verifier`),_e(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:u,options:h}=e;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:bS})}else if("phone"in e){const{phone:o,password:u,options:h}=e;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:bS})}else throw new Id("You must provide either an email or phone number and a password");const{data:i,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const o=new No;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,a,o,u,h,d,m,y,v,_;let E,k;if("message"in e)E=e.message,k=e.signature;else{const{chain:R,wallet:O,statement:N,options:U}=e;let V;if(on())if(typeof O=="object")V=O;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")V=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=O}const ne=new URL((n=U?.url)!==null&&n!==void 0?n:window.location.href),se=await V.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!se||se.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ce=vC(se[0]);let I=(i=U?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!I){const D=await V.request({method:"eth_chainId"});I=HB(D)}const A={domain:ne.host,address:ce,statement:N,uri:ne.href,version:"1",chainId:I,nonce:(a=U?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(o=U?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=U?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(d=U?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(m=U?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=U?.signInWithEthereum)===null||y===void 0?void 0:y.resources};E=KB(A),k=await V.request({method:"personal_sign",params:[GB(E),ce]})}try{const{data:R,error:O}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:k},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ei});if(O)throw O;if(!R||!R.session||!R.user){const N=new No;return this._returnResult({data:{user:null,session:null},error:N})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:O})}catch(R){if(_e(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(e){var n,i,a,o,u,h,d,m,y,v,_,E;let k,R;if("message"in e)k=e.message,R=e.signature;else{const{chain:O,wallet:N,statement:U,options:V}=e;let ne;if(on())if(typeof N=="object")ne=N;else{const ce=window;if("solana"in ce&&typeof ce.solana=="object"&&("signIn"in ce.solana&&typeof ce.solana.signIn=="function"||"signMessage"in ce.solana&&typeof ce.solana.signMessage=="function"))ne=ce.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ne=N}const se=new URL((n=V?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in ne&&ne.signIn){const ce=await ne.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},V?.signInWithSolana),{version:"1",domain:se.host,uri:se.href}),U?{statement:U}:null));let I;if(Array.isArray(ce)&&ce[0]&&typeof ce[0]=="object")I=ce[0];else if(ce&&typeof ce=="object"&&"signedMessage"in ce&&"signature"in ce)I=ce;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)k=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),R=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ne)||typeof ne.signMessage!="function"||!("publicKey"in ne)||typeof ne!="object"||!ne.publicKey||!("toBase58"in ne.publicKey)||typeof ne.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${se.host} wants you to sign in with your Solana account:`,ne.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${se.href}`,`Issued At: ${(a=(i=V?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=V?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${V.signInWithSolana.notBefore}`]:[],...!((u=V?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${V.signInWithSolana.expirationTime}`]:[],...!((h=V?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${V.signInWithSolana.chainId}`]:[],...!((d=V?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${V.signInWithSolana.nonce}`]:[],...!((m=V?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${V.signInWithSolana.requestId}`]:[],...!((v=(y=V?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...V.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const ce=await ne.signMessage(new TextEncoder().encode(k),"utf8");if(!ce||!(ce instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=ce}}try{const{data:O,error:N}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:ka(R)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Ei});if(N)throw N;if(!O||!O.session||!O.user){const U=new No;return this._returnResult({data:{user:null,session:null},error:U})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:N})}catch(O){if(_e(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(e){const n=await va(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new fB;const{data:o,error:u}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ei});if(await an(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const h=new No;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:u})}catch(o){if(await an(this.storage,`${this.storageKey}-code-verifier`),_e(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:i,token:a,access_token:o,nonce:u}=e,h=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ei}),{data:d,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!d||!d.session||!d.user){const y=new No;return this._returnResult({data:{user:null,session:null},error:y})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:m})}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,a,o,u;try{if("email"in e){const{email:h,options:d}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await jo(this.storage,this.storageKey));const{error:v}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:h,options:d}=e,{data:m,error:y}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(u=d?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new Id("You must provide either an email or phone number.")}catch(h){if(await an(this.storage,`${this.storageKey}-code-verifier`),_e(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var n,i;try{let a,o;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Ei});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,m=u.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(a){if(_e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,i,a,o,u;try{let h=null,d=null;this.flowType==="pkce"&&([h,d]=await jo(this.storage,this.storageKey));const m=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:d}),headers:this.headers,xform:LB});return!((o=m.data)===null||o===void 0)&&o.url&&on()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await an(this.storage,`${this.storageKey}-code-verifier`),_e(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new zn;const{error:a}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(_e(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:o}=e,{error:u}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:a,options:o}=e,{data:u,error:h}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new Id("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await va(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<jg:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await va(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Mg()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=jB(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_r}):await this._useSession(async n=>{var i,a,o;const{data:u,error:h}=n;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zn}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:_r})})}catch(n){if(_e(n))return hB(n)&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:a,error:o}=i;if(o)throw o;if(!a.session)throw new zn;const u=a.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await jo(this.storage,this.storageKey));const{data:m,error:y}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:u.access_token,xform:_r});if(y)throw y;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await an(this.storage,`${this.storageKey}-code-verifier`),_e(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zn;const n=Date.now()/1e3;let i=n,a=!0,o=null;const{payload:u}=Vg(e.access_token);if(u.exp&&(i=u.exp,a=i<=n),a){const{data:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(_e(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new zn;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!on())throw new Od("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Od(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new dS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Od("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new dS("No code detected.");const{data:U,error:V}=await this._exchangeCodeForSession(e.code);if(V)throw V;const ne=new URL(window.location.href);return ne.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ne.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:o,refresh_token:u,expires_in:h,expires_at:d,token_type:m}=e;if(!o||!h||!u||!m)throw new Od("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(h);let _=y+v;d&&(_=parseInt(d));const E=_-y;E*1e3<=Fo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${v}s`);const k=_-v;y-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,_,y):y-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,_,y);const{data:R,error:O}=await this._getUser(o);if(O)throw O;const N={provider_token:i,provider_refresh_token:a,access_token:o,expires_in:v,expires_at:_,refresh_token:u,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(i){if(_e(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await va(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:a,error:o}=n;if(o)return this._returnResult({error:o});const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(cB(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=wB(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,a;try{const{data:{session:o},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await jo(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await an(this.storage,`${this.storageKey}-code-verifier`),_e(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:a}=await this._useSession(async o=>{var u,h,d,m,y;const{data:v,error:_}=o;if(_)throw _;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",E,{headers:this.headers,jwt:(y=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return on()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(_e(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:a,data:{session:o}}=n;if(a)throw a;const{options:u,provider:h,token:d,access_token:m,nonce:y}=e,v=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:d,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Ei}),{data:_,error:E}=v;return E?this._returnResult({data:{user:null,session:null},error:E}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new No}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:E}))}catch(a){if(await an(this.storage,`${this.storageKey}-code-verifier`),_e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,a;const{data:o,error:u}=n;if(u)throw u;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await EB(async a=>(a>0&&await TB(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ei})),(a,o)=>{const u=200*Math.pow(2,a);return o&&Pg(o)&&Date.now()+u-i<Fo})}catch(i){if(this._debug(n,"error",i),_e(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),on()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await va(this.storage,this.storageKey);if(a&&this.userStorage){let u=await va(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await $o(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u?.user)!==null&&e!==void 0?e:Mg()}else if(a&&!a.user&&!a.user){const u=await va(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await an(this.storage,this.storageKey+"-user"),await $o(this.storage,this.storageKey,a)):a.user=Mg()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const o=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<jg;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${jg}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),Pg(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(a.access_token);!h&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Bf;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new zn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(a,"error",o),_e(o)){const u={data:null,error:o};return Pg(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(d){o.push(d)}});if(await Promise.all(u),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await an(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await $o(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const o=yS(a);await $o(this.storage,this.storageKey,o)}else{const a=yS(n);await $o(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await an(this.storage,this.storageKey),await an(this.storage,this.storageKey+"-code-verifier"),await an(this.storage,this.storageKey+"-user"),this.userStorage&&await an(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&on()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Fo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Fo}ms, refresh threshold is ${Ky} ticks`),a<=Ky&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!on()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const a=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,u]=await jo(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(h.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);a.push(o.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;return o?this._returnResult({data:null,error:o}):await Se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,a;const{data:o,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:m}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?e8(e.webauthn.credential_response):t8(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:d}=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:d}))})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:JB(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:ZB(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n?.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Vg(i.access_token);let u=null;o.aal&&(u=o.aal);let h=u;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const m=o.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new zn})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new zn});const u=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&on()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new zn});const u=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&on()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await Se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new zn})})}catch(e){if(_e(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?(await Se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zn})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(h=>h.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+lB>a)return i;const{data:o,error:u}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,i=o.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:E,error:k}=await this.getSession();if(k||!E.session)return this._returnResult({data:null,error:k});i=E.session.access_token}const{header:a,payload:o,signature:u,raw:{header:h,payload:d}}=Vg(i);n?.allowExpired||OB(o.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:E}=await this.getUser(i);if(E)throw E;return{data:{claims:o,header:a,signature:u},error:null}}const y=DB(a.alg),v=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,vB(`${h}.${d}`)))throw new Qy("Invalid JWT signature");return{data:{claims:o,header:a,signature:u},error:null}}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}}Ec.nextInstanceID={};const c8=Ec,h8="2.90.1";let qu="";typeof Deno<"u"?qu="deno":typeof document<"u"?qu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qu="react-native":qu="node";const d8={"X-Client-Info":`supabase-js-${qu}/${h8}`},f8={headers:d8},m8={schema:"public"},p8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},g8={};function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function y8(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Sc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v8(t){var e=y8(t,"string");return Sc(e)=="symbol"?e:e+""}function b8(t,e,n){return(e=v8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ES(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(n),!0).forEach(function(i){b8(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ES(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const w8=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_8=()=>Headers,x8=(t,e,n)=>{const i=w8(n),a=_8();return async(o,u)=>{var h;const d=(h=await e())!==null&&h!==void 0?h:t;let m=new a(u?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),i(o,xt(xt({},u),{},{headers:m}))}};function T8(t){return t.endsWith("/")?t:t+"/"}function E8(t,e){var n,i;const{db:a,auth:o,realtime:u,global:h}=t,{db:d,auth:m,realtime:y,global:v}=e,_={db:xt(xt({},d),a),auth:xt(xt({},m),o),realtime:xt(xt({},y),u),storage:{},global:xt(xt(xt({},v),h),{},{headers:xt(xt({},(n=v?.headers)!==null&&n!==void 0?n:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function S8(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(T8(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var A8=class extends c8{constructor(t){super(t)}},k8=class{constructor(t,e,n){var i,a;this.supabaseUrl=t,this.supabaseKey=e;const o=S8(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,h={db:m8,realtime:g8,auth:xt(xt({},p8),{},{storageKey:u}),global:f8},d=E8(n??{},h);if(this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=d.auth)!==null&&m!==void 0?m:{},this.headers,d.global.fetch)}this.fetch=x8(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(xt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new a9(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new iB(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new t9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:u,lock:h,debug:d,throwOnError:m},y,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new A8({url:this.authUrl.href,headers:xt(xt({},_),y),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:a,flowType:u,lock:h,debug:d,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new T9(this.realtimeUrl.href,xt(xt({},t),{},{params:xt(xt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const R8=(t,e,n)=>new k8(t,e,n);function C8(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}C8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const I8="https://fzliigdltdpdadsreljd.supabase.co",O8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ6bGlpZ2RsdGRwZGFkc3JlbGpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MDYyNDAsImV4cCI6MjA4NDQ4MjI0MH0.FE5L3SuyXYcG7HSowABCwZWHHMY22IMw-qNZiuB3vio",D8=R8(I8,O8);function N8(){const{isFeedbackOpen:t,toggleFeedback:e}=p1(),[n,i]=j.useState(""),[a,o]=j.useState(null),[u,h]=j.useState("idle");if(!t)return null;const d=async m=>{if(m.preventDefault(),!!n.trim()){h("submitting");try{const{error:y}=await D8.from("feedback").insert([{message:n,rating:a}]);if(y)throw y;h("success"),setTimeout(()=>{e(),h("idle"),i(""),o(null)},2e3)}catch(y){console.error("Error submitting feedback:",y),h("error")}}};return w.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[w.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),w.jsxs("div",{className:"relative w-full max-w-md bg-stone-900 border border-white/10 rounded-2xl p-6 shadow-2xl animate-in zoom-in-95 duration-200",children:[w.jsxs("div",{className:"flex justify-between items-start mb-6",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-serif text-parchment font-bold",children:"Your Thoughts Matter"}),w.jsx("p",{className:"text-stone-500 text-xs mt-1",children:"Help us improve Shloki."})]}),w.jsx("button",{onClick:e,className:"text-stone-500 hover:text-white transition-colors p-1",children:w.jsx(sv,{size:20})})]}),u==="success"?w.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center animate-in fade-in",children:[w.jsx(tD,{size:48,className:"text-green-500 mb-4"}),w.jsx("h3",{className:"text-lg text-white font-bold",children:"Thank You!"}),w.jsx("p",{className:"text-stone-400 text-sm",children:"Your wisdom has been received."})]}):w.jsxs("form",{onSubmit:d,className:"space-y-4",children:[w.jsx("textarea",{className:"w-full h-32 bg-black/20 border border-white/10 rounded-xl p-4 text-parchment placeholder:text-stone-600 focus:border-saffron focus:ring-1 focus:ring-saffron/50 outline-none resize-none transition-all",placeholder:"What feature would you like to see next? Or found a bug?",value:n,onChange:m=>i(m.target.value),disabled:u==="submitting"}),u==="error"&&w.jsx("p",{className:"text-red-400 text-xs text-center",children:"Failed to send. Please try again."}),w.jsx("button",{type:"submit",disabled:!n.trim()||u==="submitting",className:"w-full py-3 bg-saffron hover:bg-amber-600 text-white font-bold rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u==="submitting"?w.jsxs(w.Fragment,{children:[w.jsx(gD,{size:18,className:"animate-spin"}),"Sending..."]}):w.jsxs(w.Fragment,{children:[w.jsx(n1,{size:18}),"Send Feedback"]})})]})]})]})}function j8(){const[t,e]=j.useState(""),i=(()=>{if(!t)return[];const o=t.toLowerCase(),u=o.split(/\s+/).filter(d=>d.length>2),h=tS.map(d=>{let m=0;const y=d.label.toLowerCase(),v=d.keywords?.map(_=>_.toLowerCase())||[];return y.includes(o)&&(m+=10),u.forEach(_=>{y.includes(_)&&(m+=5),v.some(E=>E.includes(_))&&(m+=3)}),{...d,score:m}}).filter(d=>d.score>0).sort((d,m)=>m.score-d.score);return h.length>0?h.slice(0,4):tS.filter(d=>["anger","fear","overthinking","doubt","motivation","anxiety"].includes(d.id)).slice(0,4)})(),a=o=>{const u=o.type==="power"?"48laws":"gita";return Zu[u]?.find(d=>d.id===o.shlokaId)||{}};return w.jsxs("div",{className:"w-full max-w-5xl mx-auto z-40 relative",children:[w.jsxs("div",{className:`
          flex items-center gap-3 
          bg-stone-900/80 backdrop-blur-xl
          border border-white/10 
          rounded-full px-6 py-4 
          cursor-text group 
          transition-all duration-300 ease-out
          hover:border-saffron hover:bg-stone-900 hover:shadow-[0_0_25px_rgba(234,179,8,0.15)] hover:scale-[1.01]
          focus-within:border-saffron focus-within:bg-black focus-within:ring-1 focus-within:ring-saffron/50 focus-within:shadow-[0_0_40px_rgba(234,179,8,0.25)] focus-within:scale-[1.02]
          mb-10 max-w-2xl mx-auto shadow-2xl
        `,children:[w.jsx(rl,{size:20,className:"text-stone-500 group-hover:text-saffron group-focus-within:text-saffron transition-colors duration-300"}),w.jsx("input",{type:"text",className:"bg-transparent border-none outline-none text-parchment placeholder:text-stone-500 text-base md:text-lg w-full group-focus-within:placeholder:text-stone-600 font-serif tracking-wide",placeholder:"How do you feel? (e.g. anxious, ignored)...",value:t,onChange:o=>e(o.target.value)}),t&&w.jsx("button",{onClick:()=>e(""),className:"text-stone-500 hover:text-white transition-colors hover:rotate-90 duration-200",children:w.jsx(sv,{size:20})})]}),t&&w.jsxs("div",{className:"animate-fade-in px-4",children:[w.jsx("div",{className:"text-center mb-6",children:w.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 border border-white/10",children:w.jsx("span",{className:"text-[10px] font-bold uppercase tracking-[0.2em] text-stone-400",children:i.length>0?"Wisdom Found":"No matches found"})})}),i.length>0&&w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl mx-auto",children:i.map(o=>{const u=a(o),h=o.type==="power";return w.jsxs(On,{to:`/card/${o.shlokaId}`,className:"block group relative flex flex-col p-6 bg-stone-900/60 border border-white/10 rounded-xl hover:border-saffron/50 hover:bg-stone-900 transition-all duration-300 hover:-translate-y-1 overflow-hidden text-left shadow-lg hover:shadow-saffron/10",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform duration-300 border border-white/5 group-hover:border-saffron/20",children:o.icon}),w.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded bg-black/40 border border-white/5 text-[9px] font-bold uppercase tracking-wider text-stone-500",children:[h?w.jsx(DD,{size:10}):w.jsx(Cc,{size:10}),w.jsx("span",{children:h?"48 Laws":"Bhagavad Gita"})]})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("h3",{className:"font-serif text-xl text-parchment leading-tight group-hover:text-white transition-colors mb-1",children:o.label}),w.jsx("p",{className:"text-xs text-saffron/80 font-medium uppercase tracking-wide",children:h?u.chapter?.split(":")[0]:u.chapter?.split(",")[0]})]}),w.jsxs("p",{className:"text-stone-400 text-xs leading-relaxed italic border-l-2 border-white/10 pl-3 mb-4 line-clamp-2 group-hover:border-saffron/50 transition-colors",children:['"',u.nuance||"Ancient wisdom awaits...",'"']}),w.jsxs("div",{className:"flex items-center gap-2 mt-auto text-[10px] font-bold uppercase tracking-widest text-stone-600 group-hover:text-saffron transition-colors",children:[w.jsx("span",{children:"Read Chapter"}),w.jsx(sl,{size:12,className:"group-hover:translate-x-1 transition-transform"})]})]},o.id)})})]})]})}const P8=["overthinking","fear_failure","work_stress","attach_result","confusion","fear_future"];function V8(){const t=Vr(),e=P8.map(i=>bc.find(a=>a.id===i)).filter(Boolean),n=i=>{t("/read/gita",{state:{initialEmotionId:i}})};return w.jsxs("div",{className:"w-full mb-8 md:mb-16 animate-fade-in-up",children:[w.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-6 px-4 md:px-0 justify-center",children:[w.jsx(rl,{size:12,className:"text-saffron md:w-3.5 md:h-3.5"}),w.jsx("span",{className:"text-saffron text-[10px] md:text-xs font-bold uppercase tracking-[0.2em]",children:"Most Visited Questions"}),w.jsx(rl,{size:12,className:"text-saffron md:w-3.5 md:h-3.5"})]}),w.jsxs("div",{className:"relative w-full",children:[w.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-4 bg-gradient-to-r from-spiritual-bg to-transparent z-10 pointer-events-none md:hidden"}),w.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-4 bg-gradient-to-l from-spiritual-bg to-transparent z-10 pointer-events-none md:hidden"}),w.jsx("div",{className:"flex overflow-x-auto snap-x snap-mandatory gap-3 md:gap-4 px-4 md:px-8 pb-6 md:pb-8 hide-scrollbar w-full justify-start",children:e.map(i=>w.jsxs("button",{onClick:()=>n(i.id),className:`snap-center flex-shrink-0 w-[240px] sm:w-[280px] 
                         bg-white dark:bg-white/5 
                         border border-stone-200 dark:border-white/10 
                         active:scale-[0.98] md:hover:scale-100 md:hover:-translate-y-1
                         rounded-xl p-4 md:p-5 group transition-all duration-300 relative overflow-hidden text-left shadow-sm dark:shadow-none`,children:[w.jsxs("div",{className:"flex justify-between items-start mb-4 md:mb-6",children:[w.jsx("div",{className:"p-1.5 md:p-2 rounded-lg transition-colors border bg-stone-100 dark:bg-stone-800 text-stone-500 dark:text-stone-400 border-stone-200 dark:border-white/5",children:w.jsx(Cc,{size:16,className:"md:w-[18px]"})}),w.jsx("div",{className:"text-[8px] md:text-[9px] font-bold uppercase tracking-widest px-2 py-1 rounded-full transition-colors border text-stone-400 dark:text-stone-500 bg-stone-100 dark:bg-black/20 border-stone-200 dark:border-white/5",children:"Gita"})]}),w.jsxs("div",{className:"mb-4 md:mb-8",children:[w.jsx("h3",{className:"font-serif text-lg md:text-xl font-bold leading-tight mb-1 md:mb-2 transition-colors text-stone-800 dark:text-parchment",children:i.label}),w.jsx("p",{className:"text-[9px] md:text-[10px] font-medium uppercase tracking-wide transition-colors text-stone-400 dark:text-stone-500 group-hover:text-saffron",children:"Tap to Reveal"})]}),w.jsxs("div",{className:"w-full pt-3 md:pt-4 flex items-center justify-between border-t border-stone-100 dark:border-white/5",children:[w.jsx("span",{className:"text-xl md:text-2xl filter grayscale opacity-50 group-hover:grayscale-0 group-hover:opacity-100 transition-all duration-300",children:i.icon}),w.jsxs("div",{className:"flex items-center gap-2 text-[9px] md:text-[10px] font-bold uppercase tracking-wider transition-colors text-stone-400 dark:text-stone-600 group-hover:text-saffron",children:[w.jsx("span",{children:"Open"}),w.jsx(sl,{size:12})]})]})]},i.id))})]})]})}function M8(){const{cardId:t}=zS(),e=Vr(),[n,i]=j.useState(null),[a,o]=j.useState("gita");return j.useEffect(()=>{if(!Zu)return;let u=Zu.gita?.find(d=>d.id==t),h="gita";u||(u=Zu["48laws"]?.find(d=>d.id==t),h="48laws"),u?(i(u),o(h)):console.warn(`Card ${t} not found.`)},[t,e]),n?w.jsxs("div",{className:"min-h-screen bg-spiritual-bg flex flex-col",children:[w.jsx(Mr,{}),w.jsxs("main",{className:"flex-1 flex flex-col items-center pt-24 pb-20 px-4",children:[w.jsxs("div",{className:"w-full max-w-3xl flex items-center justify-between mb-6 animate-fade-in",children:[w.jsxs("button",{onClick:()=>e("/library"),className:"flex items-center gap-2 text-stone-400 hover:text-saffron transition-colors text-xs font-bold uppercase tracking-widest",children:[w.jsx(ja,{size:16})," Library"]}),w.jsx("div",{className:"flex gap-2",children:w.jsx("button",{className:"p-2 rounded-full bg-white/5 hover:bg-white/10 text-parchment transition-colors",children:w.jsx(i1,{size:16})})})]}),w.jsxs("div",{className:"text-center mb-8 max-w-xl animate-fade-in",children:[w.jsx("h1",{className:"font-serif text-2xl md:text-4xl text-parchment mb-2",children:n.chapter}),w.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-widest",children:a==="48laws"?"Strategic Mastery":"Ancient Wisdom"})]}),w.jsx("div",{className:"w-full max-w-3xl flex justify-center mb-4",children:w.jsx(lk,{data:n,bookId:a,total:1})}),w.jsxs("div",{className:"flex flex-col items-center justify-center mb-16 mt-8 animate-bounce opacity-50",children:[w.jsx("span",{className:"text-[10px] uppercase tracking-widest text-stone-500 mb-2",children:"Scroll for Deep Meaning"}),w.jsx(XS,{className:"text-saffron",size:24})]}),w.jsx("div",{className:"w-full flex justify-center pb-20",children:w.jsx(SEOContent,{data:n,bookId:a})})]})]}):w.jsx("div",{className:"min-h-screen bg-spiritual-bg flex items-center justify-center",children:w.jsx("div",{className:"text-saffron animate-pulse",children:"Loading Wisdom..."})})}function L8(){return w.jsxs("div",{className:"min-h-screen bg-spiritual-bg pb-20",children:[w.jsx(Mr,{}),w.jsxs("main",{className:"pt-24 px-4 md:px-8 max-w-4xl mx-auto animate-fade-in",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h1",{className:"font-serif text-3xl md:text-5xl text-parchment mb-4",children:"The Wisdom Index"}),w.jsx("p",{className:"text-stone-400 text-sm md:text-base",children:"Explore guidance for every emotional state."})]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:bc.map(t=>w.jsxs(On,{to:`/wisdom/${t.id}`,className:"group flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/10 hover:border-saffron/40 hover:bg-white/10 transition-all",children:[w.jsx("span",{className:"text-2xl opacity-70 group-hover:scale-110 transition-transform",children:t.icon}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-parchment font-serif font-bold text-lg group-hover:text-saffron transition-colors",children:t.label}),w.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-stone-500 uppercase tracking-widest mt-1",children:[w.jsx(Cc,{size:10}),w.jsx("span",{children:"Read Verse"})]})]})]},t.id))})]})]})}function U8(){const t=Vr();return j.useEffect(()=>{window.scrollTo(0,0)},[]),w.jsxs("div",{className:"min-h-screen bg-spiritual-bg text-parchment font-sans selection:bg-saffron selection:text-white",children:[w.jsx(Mr,{}),w.jsxs("main",{className:"pt-20 md:pt-32 px-5 md:px-8 max-w-3xl mx-auto pb-20",children:[w.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-stone-500 hover:text-saffron transition-colors mb-6 text-xs uppercase tracking-widest font-bold",children:[w.jsx(ja,{size:14})," Back"]}),w.jsx("h1",{className:"font-serif text-3xl md:text-5xl mb-2 text-parchment",children:"Privacy Policy"}),w.jsx("p",{className:"text-stone-500 text-xs md:text-sm mb-8 md:mb-12",children:"Last Updated: January 20, 2026"}),w.jsxs("div",{className:"space-y-8 md:space-y-10 text-sm md:text-base text-stone-300 leading-7 md:leading-8",children:[w.jsxs("section",{children:[w.jsx("h2",{className:"font-serif text-xl md:text-2xl text-saffron mb-2 md:mb-4",children:"1. Introduction"}),w.jsxs("p",{children:["Welcome to ",w.jsx("strong",{children:"Shloki"}),' ("we," "our," or "us"). We are committed to protecting your personal information and your right to privacy. This policy explains how we treat your data when you visit shloki.com.']})]}),w.jsxs("section",{children:[w.jsx("h2",{className:"font-serif text-xl md:text-2xl text-saffron mb-2 md:mb-4",children:"2. Information We Collect"}),w.jsxs("p",{className:"mb-4",children:[w.jsx("strong",{children:"Personal Data:"})," We do not require an account. If you email us, we see your email address."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Usage Data:"})," We collect standard log data (IP address, browser type) to help us understand how our website is used."]})]}),w.jsxs("section",{className:"bg-white/5 p-5 md:p-6 rounded-xl border border-white/10",children:[w.jsx("h2",{className:"font-serif text-xl md:text-2xl text-saffron mb-3 md:mb-4",children:"3. Advertising (AdSense)"}),w.jsxs("p",{className:"mb-3",children:["We use ",w.jsx("strong",{children:"Google AdSense"})," to serve ads."]}),w.jsxs("ul",{className:"list-disc pl-4 space-y-2 text-stone-400 text-xs md:text-sm",children:[w.jsx("li",{children:"Third-party vendors, including Google, use cookies to serve ads based on your prior visits."}),w.jsxs("li",{children:["You may opt-out of personalized advertising by visiting ",w.jsx("a",{href:"https://www.google.com/settings/ads",target:"_blank",rel:"noreferrer",className:"text-saffron hover:underline",children:"Google Ads Settings"}),"."]})]})]}),w.jsxs("section",{children:[w.jsx("h2",{className:"font-serif text-xl md:text-2xl text-saffron mb-2 md:mb-4",children:"4. Contact Us"}),w.jsxs("p",{children:["Questions? Email us at: ",w.jsx("br",{}),w.jsx("span",{className:"text-parchment font-bold",children:"support@shloki.com"})]})]})]})]})]})}function B8(){const t=Vr();return j.useEffect(()=>{window.scrollTo(0,0)},[]),w.jsxs("div",{className:"min-h-screen bg-spiritual-bg text-parchment font-sans selection:bg-saffron selection:text-white",children:[w.jsxs(ov,{children:[w.jsx("title",{children:"About Us | Shloki"}),w.jsx("meta",{name:"description",content:"Learn about Shloki's mission to decode 5,000-year-old ancient wisdom into bite-sized flashcards for the modern mind."}),w.jsx("link",{rel:"canonical",href:"https://shloki.com/about"})]}),w.jsx(Mr,{}),w.jsxs("main",{className:"pt-20 md:pt-32 px-5 md:px-8 max-w-4xl mx-auto pb-20",children:[w.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-stone-500 hover:text-saffron transition-colors mb-8 text-xs md:text-sm uppercase tracking-widest font-bold",children:[w.jsx(ja,{size:16})," Back"]}),w.jsxs("div",{className:"text-center mb-10 md:mb-16 animate-fade-in",children:[w.jsxs("h1",{className:"font-serif text-3xl md:text-6xl mb-3 md:mb-4 text-parchment leading-tight",children:["Ancient Data. ",w.jsx("br",{}),w.jsx("span",{className:"text-saffron",children:"Modern Interface."})]}),w.jsx("p",{className:"text-stone-400 max-w-xl mx-auto text-sm md:text-lg leading-relaxed px-4",children:"Bridging the gap between 5,000-year-old scriptures and the 8-second attention span."})]}),w.jsxs("div",{className:"space-y-10 md:space-y-16",children:[w.jsxs("section",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 md:p-10",children:[w.jsxs("h2",{className:"font-serif text-xl md:text-2xl text-parchment flex items-center gap-3 mb-3 md:mb-4",children:[w.jsx(Cc,{size:20,className:"text-stone-500"}),'The "Hard Data" Problem']}),w.jsxs("p",{className:"text-sm md:text-lg text-stone-300 leading-relaxed",children:["We live in an age of anxiety. Ironically, the solutions were written down thousands of years ago. But let's be honest: ",w.jsx("strong",{children:"The data was inaccessible."})]}),w.jsx("p",{className:"text-xs md:text-base text-stone-400 mt-4 italic border-l-2 border-saffron/50 pl-4",children:'"Dense Sanskrit. Complex commentaries. Picking up a scripture felt like studying for an exam, not finding peace."'})]}),w.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"font-serif text-2xl text-saffron mb-3 flex items-center gap-2",children:[w.jsx(qD,{size:24}),"Decoding for Now"]}),w.jsxs("p",{className:"text-stone-300 leading-relaxed text-sm md:text-base mb-4",children:["We built ",w.jsx("strong",{children:"Shloki"})," to decode this heavy data into: ",w.jsx("strong",{children:"Flashcards."})]}),w.jsxs("p",{className:"text-stone-300 leading-relaxed text-sm md:text-base",children:["Instead of reading linearly, you tell us ",w.jsx("em",{children:'"I am angry,"'})," and we serve the exact verse code to debug that emotion."]})]}),w.jsxs("div",{className:"bg-stone-900 border border-white/10 p-6 rounded-xl transform md:rotate-2 hover:rotate-0 transition-transform duration-500 shadow-xl",children:[w.jsx("div",{className:"text-center text-stone-500 text-[10px] uppercase tracking-widest mb-4",children:"The Shloki Approach"}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("div",{className:"h-2 bg-white/10 rounded w-3/4 mx-auto"}),w.jsx("div",{className:"h-2 bg-white/10 rounded w-1/2 mx-auto"}),w.jsx("div",{className:"h-20 bg-gradient-to-br from-saffron/20 to-transparent rounded-lg border border-saffron/20 flex items-center justify-center text-saffron font-serif text-lg",children:"Wisdom in 1 Swipe"})]})]})]}),w.jsxs("section",{children:[w.jsxs("h2",{className:"font-serif text-xl md:text-2xl text-parchment mb-6 flex items-center gap-2",children:[w.jsx(aD,{size:20,className:"text-stone-500"}),"For Everyone"]}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 text-center",children:[w.jsxs("div",{className:"bg-white/5 p-4 md:p-6 rounded-xl border border-white/5",children:[w.jsx("h3",{className:"text-saffron font-bold text-base md:text-lg mb-1",children:"Gen Z"}),w.jsx("p",{className:"text-[10px] md:text-xs text-stone-400 uppercase tracking-widest",children:"Short, Visual, Direct"})]}),w.jsxs("div",{className:"bg-white/5 p-4 md:p-6 rounded-xl border border-white/5",children:[w.jsx("h3",{className:"text-saffron font-bold text-base md:text-lg mb-1",children:"Global"}),w.jsx("p",{className:"text-[10px] md:text-xs text-stone-400 uppercase tracking-widest",children:"Universal Translations"})]}),w.jsxs("div",{className:"bg-white/5 p-4 md:p-6 rounded-xl border border-white/5",children:[w.jsx("h3",{className:"text-saffron font-bold text-base md:text-lg mb-1",children:"Seekers"}),w.jsx("p",{className:"text-[10px] md:text-xs text-stone-400 uppercase tracking-widest",children:"No Dogma, Just Truth"})]})]})]}),w.jsxs("section",{className:"border-t border-white/10 pt-8 md:pt-10 text-center",children:[w.jsx("h2",{className:"font-serif text-2xl md:text-3xl text-parchment mb-4",children:"Just Chapter One"}),w.jsx("div",{className:"flex justify-center",children:w.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-saffron/10 text-saffron border border-saffron/20 text-[10px] md:text-xs font-bold uppercase tracking-widest",children:[w.jsx(ZS,{size:12,className:"fill-saffron"}),"Built with Devotion"]})})]})]})]})]})}function z8(){const t=Vr();return j.useEffect(()=>{window.scrollTo(0,0)},[]),w.jsxs("div",{className:"min-h-screen bg-spiritual-bg text-parchment font-sans selection:bg-saffron selection:text-white",children:[w.jsx(Mr,{}),w.jsxs("main",{className:"pt-20 md:pt-32 px-4 md:px-8 max-w-4xl mx-auto pb-10",children:[w.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-stone-500 hover:text-saffron transition-colors mb-6 md:mb-8 text-xs md:text-sm uppercase tracking-widest font-bold",children:[w.jsx(ja,{size:16})," Back"]}),w.jsxs("div",{className:"max-w-2xl mx-auto text-center animate-fade-in",children:[w.jsx("h1",{className:"font-serif text-3xl md:text-5xl mb-4 md:mb-6 text-parchment",children:"Get in Touch"}),w.jsx("p",{className:"text-stone-400 text-sm md:text-base mb-8 md:mb-12 leading-relaxed",children:"Have a suggestion, a new scripture request, or just want to share your story? We'd love to hear from you."}),w.jsxs("div",{className:"grid gap-4 md:gap-6",children:[w.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 md:p-8 rounded-2xl flex flex-col items-center active:scale-[0.98] transition-all duration-200",children:[w.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-saffron/10 rounded-full flex items-center justify-center text-saffron mb-3 md:mb-4",children:w.jsx(Fg,{size:20,className:"md:w-6 md:h-6"})}),w.jsx("h3",{className:"font-serif text-lg md:text-xl mb-1 md:mb-2",children:"Email Us"}),w.jsx("p",{className:"text-stone-500 text-xs md:text-sm mb-3",children:"For general inquiries and support"}),w.jsx("a",{href:"mailto:support@shloki.com",className:"text-saffron font-bold text-base md:text-lg hover:underline break-all",children:"support@shloki.com"})]}),w.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 md:p-8 rounded-2xl flex flex-col items-center",children:[w.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-stone-800 rounded-full flex items-center justify-center text-stone-400 mb-3 md:mb-4",children:w.jsx(wD,{size:20,className:"md:w-6 md:h-6"})}),w.jsx("h3",{className:"font-serif text-lg md:text-xl mb-1 md:mb-2",children:"Location"}),w.jsx("p",{className:"text-stone-500 text-sm",children:"Mumbai, India"})]})]})]})]})]})}function q8({title:t,description:e,keywords:n,image:i,type:a="website"}){const o="Shloki | Strategy & Wisdom",u="Master the 48 Laws of Power and Bhagavad Gita wisdom through interactive daily flashcards. A mental gymnasium for strategy, focus, and discipline.",h="https://shloki.in",d=typeof window<"u"?window.location.href:h,m=["Bhagavad Gita","Bhagavad Gita shlokas","Bhagavad Gita quotes","Bhagavad Gita teachings","Bhagavad Gita life lessons","Bhagavad Gita wisdom","Bhagavad Gita for daily life","Bhagavad Gita for beginners","Bhagavad Gita in simple English","Gita wisdom for life","Krishna teachings","Lord Krishna quotes","Ancient wisdom for modern life","Indian spiritual wisdom","Spiritual guidance for life","Spiritual self help","Spiritual healing for mind","Inner peace techniques","Mental clarity practices","Mind control techniques Gita","How to control mind Bhagavad Gita","Stress solution Bhagavad Gita","Anxiety solution Bhagavad Gita","Depression solution Bhagavad Gita","Fear solution Bhagavad Gita","Overthinking solution Bhagavad Gita","Loneliness solution Bhagavad Gita","Insecurity solution Bhagavad Gita","Self doubt solution Bhagavad Gita","Fear of failure solution Bhagavad Gita","Work stress solution Bhagavad Gita","Career confusion solution Bhagavad Gita","Loss in business spiritual solution","Decision making Bhagavad Gita","Leadership lessons from Bhagavad Gita","Motivation from Bhagavad Gita","Lack of motivation solution Gita","Attachment to result Bhagavad Gita","Detachment in Bhagavad Gita","Karma yoga meaning","Work without attachment Gita","Expectations from others Gita","Anger control Bhagavad Gita","Ego and desire Bhagavad Gita","How Bhagavad Gita helps in daily life","How to apply Bhagavad Gita in real life","How to solve life problems using Gita","How to reduce stress naturally","How to find peace of mind","Life problems solution spiritual","Daily wisdom for life","Bhagavad Gita daily wisdom","Bhagavad Gita inspirational quotes","Bhagavad Gita reflections","Bhagavad Gita life problem solution","Why Bhagavad Gita is relevant today","Shloki","Shloki wisdom","Shloki Bhagavad Gita","Shloki daily wisdom","Shloki life solutions","stress in daily life","anxiety and fear","overthinking problem","depression and sadness","loneliness feeling","feeling insecure","self doubt problem","fear of failure","lack of motivation","loss of confidence","work stress problem","career confusion","job pressure stress","business loss stress","failure in career","confusion in life","feeling stuck in life","no direction in life","mental restlessness","lack of discipline","anger management problem","ego problem","jealousy feeling","attachment issues","attachment to result","expectations from others","fear of judgement","fear of future","fear of surroundings","betrayal by close ones","inability to forgive","relationship stress","emotional pain","inner emptiness","suffering without reason","negative thinking","low self esteem","lack of focus","lack of peace of mind","how to control emotions","how to control mind","how to stay calm","how to find inner peace","how to deal with stress","how to overcome fear","how to stop overthinking","how to build confidence","how to handle failure","how to stay motivated","how to accept change","Gita ke updesh","Krishna vani status","man ki shanti kaise paye","tanav mukti ke upay","safalta ka mantra","motivational quotes in hindi","aaj ka suvichar","Gita saar in hindi","Bhagavad Gita shlok hindi mein","karma kya hai","dharm aur karm","man ko vash me kaise kare","gussa kam karne ke upay","padhai me man kaise lagaye","Exam stress solution","sarkari naukri stress","shadi aur rishte","pati patni kalesh solution","sanskar aur vichar","bharatiya sanskriti","sanatan dharma teachings","hanuman chalisa benefits","subah ka motivation","raat ko neend na aana","overthinking kaise roke","business me safalta","paisa aur shanti","jeevan ka satya","mrityu ka bhay","moksha prapti","bhakti yoga kya hai","gyan yoga in hindi","dhyan kaise kare","meditation for students india","spiritual guru india","sadguru quotes on life","iskcon teachings","bhagwan krishna ki seekh","mahabharat lessons","arjun vishad yoga","karma phal","punarjanma satya","aatma kya hai","kundalini jagran","yoga for mental health","ayurveda lifestyle","satvik jeevan","positive thinking hindi","Stoicism vs Bhagavad Gita","Eastern philosophy for beginners","Mindfulness meditation guide","Law of Attraction vs Karma","Spiritual awakening signs","Ego death meaning","Non-attachment philosophy","Dharma and purpose","Finding your why","Ikigai and Gita","Yoga philosophy explained","Transcendental meditation","Mental resilience training","Stoic daily reflections","Marcus Aurelius quotes","Philosophy of action","Duty vs Passion","Existential crisis help","Nihilism vs Spirituality","Holistic mental health","Alternative therapy for anxiety","Chakra balancing for beginners","Karma yoga for work","Mindful leadership","Corporate wellness spirituality","Digital detox guide","Slow living lifestyle","Minimalism and spirituality","Conscious living","Self-realization techniques","The power of now","Eckhart Tolle teachings","Alan Watts philosophy","Ram Dass quotes","Joseph Campbell hero's journey","Carl Jung shadow work","Emotional intelligence training","Cognitive behavioral therapy alternatives","Positive psychology habits","Morning routine for success","Monk mode guide","Dopamine detox","Flow state at work","Deep work strategies","Dealing with burnout","Imposter syndrome cure","Growth mindset philosophy","Manifestation techniques","Universal laws explained","Soul connection"].join(", ");return w.jsxs(ov,{children:[w.jsx("title",{children:t?`${t} | Shloki`:o}),w.jsx("meta",{name:"description",content:e||u}),w.jsx("meta",{name:"keywords",content:n||m}),w.jsx("link",{rel:"canonical",href:d}),w.jsx("meta",{property:"og:title",content:t||o}),w.jsx("meta",{property:"og:description",content:e||u}),w.jsx("meta",{property:"og:type",content:a}),w.jsx("meta",{property:"og:url",content:d}),w.jsx("meta",{property:"og:image",content:i||`${h}/og-image-strategy.jpg`}),w.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),w.jsx("meta",{name:"twitter:title",content:t||o}),w.jsx("meta",{name:"twitter:description",content:e||u}),w.jsx("meta",{name:"twitter:image",content:i||`${h}/og-image-strategy.jpg`}),w.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"WebApplication",name:"Shloki",url:h,description:"Interactive flashcards for mastering The 48 Laws of Power and Bhagavad Gita wisdom.",applicationCategory:"EducationalApplication",operatingSystem:"Any",offers:{"@type":"Offer",price:"0",priceCurrency:"USD"}})})]})}const F8=()=>{const[t,e]=j.useState(!1),n={title:"How the Bhagavad Gita Helps Solve Real-Life Problems",date:"January 21, 2026",author:"Shloki Team",readTime:"5 min read",image:"https://res.cloudinary.com/do0rlgy7c/image/upload/v1768984726/img4_ffhgbn.jpg"},i=async()=>{const a={title:"Shloki Wisdom",text:n.title,url:window.location.href};if(navigator.share)try{await navigator.share(a);return}catch(o){console.log("Error sharing:",o)}try{await navigator.clipboard.writeText(window.location.href),e(!0),setTimeout(()=>e(!1),2e3)}catch(o){console.error("Failed to copy:",o)}};return w.jsxs("div",{className:"min-h-screen bg-spiritual-bg font-sans",children:[w.jsx(q8,{title:n.title,description:"Discover how the ancient wisdom of the Bhagavad Gita provides practical solutions for modern stress.",keywords:"Bhagavad Gita, modern problems, stress relief, anxiety, mental peace, Shloki",image:n.image,type:"article"}),w.jsx(Mr,{}),w.jsxs("main",{className:"pt-24 md:pt-32 pb-20 px-4 md:px-8 max-w-4xl mx-auto",children:[w.jsxs(On,{to:"/",className:"inline-flex items-center gap-2 text-stone-500 hover:text-saffron transition-colors mb-8 group",children:[w.jsx(ja,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),w.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Back to Home"})]}),w.jsxs("header",{className:"mb-12",children:[w.jsx("h1",{className:"font-serif text-3xl md:text-5xl leading-tight text-parchment mb-6",children:n.title}),w.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-stone-500 text-xs font-bold uppercase tracking-widest border-y border-white/5 py-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(KO,{size:14,className:"text-saffron"}),w.jsx("span",{children:n.date})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(JS,{size:14,className:"text-saffron"}),w.jsx("span",{children:n.readTime})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(s1,{size:14,className:"text-saffron"}),w.jsx("span",{children:n.author})]})]})]}),w.jsx("div",{className:"rounded-2xl overflow-hidden mb-12 border border-white/5 shadow-2xl",children:w.jsx("img",{src:n.image,alt:"Bhagavad Gita Wisdom",className:"w-full h-[300px] md:h-[500px] object-cover"})}),w.jsxs("article",{className:"prose prose-invert prose-stone max-w-none text-stone-300",children:[w.jsx("p",{className:"text-lg md:text-xl leading-relaxed mb-8 italic",children:"In todays fast-paced life, people struggle with stress, anxiety, fear of failure, confusion, loneliness, and lack of motivation. Even after reading self-help books, peace often feels temporary."}),w.jsx("p",{className:"leading-relaxed mb-8",children:"The Bhagavad Gita offers something deeper  lasting clarity and inner balance. It is not just a religious book; it is a practical guide for real-life problems."}),w.jsx("h2",{className:"font-serif text-2xl md:text-3xl text-saffron mt-12 mb-6",children:"1. Stress and Anxiety"}),w.jsx("p",{className:"mb-4",children:"Most stress comes from worrying about results we cannot control. The Gita teaches us to focus on our efforts rather than the results."}),w.jsx("div",{className:"bg-white/5 p-6 rounded-xl border-l-4 border-saffron italic mb-6",children:'"You have a right to perform your duties, but you are not entitled to the fruits of your actions."'}),w.jsxs("p",{className:"text-sm text-stone-400 mb-8",children:[w.jsx("strong",{children:"Practical Impact:"})," When you work without obsession over the outcome, anxiety naturally fades."]}),w.jsx("h2",{className:"font-serif text-2xl md:text-3xl text-saffron mt-12 mb-6",children:"2. Fear of Failure"}),w.jsx("p",{className:"mb-6",children:"Fear of failure stops people from trying. The Gita explains that fear comes from attachment. When you act without attachment, fear disappears and courage takes its place."}),w.jsx("h2",{className:"font-serif text-2xl md:text-3xl text-saffron mt-12 mb-6",children:"3. Overthinking"}),w.jsx("p",{className:"mb-6",children:'Overthinking keeps the mind trapped in the past or future. The Gita teaches gentle control of the mind through awareness ("Abhyasa"). A calm mind is your best friend; an uncontrolled mind is your worst enemy.'}),w.jsx("h2",{className:"font-serif text-2xl md:text-3xl text-saffron mt-12 mb-6",children:"4. Feeling Stuck"}),w.jsx("p",{className:"mb-6",children:'When life feels directionless, doubt takes over. The Gita helps by clearing confusion ("Moha") through action. Taking one small step with clarity is better than years of hesitation.'}),w.jsxs("div",{className:"mt-16 p-8 bg-saffron/10 rounded-2xl border border-saffron/20 text-center",children:[w.jsx("h3",{className:"font-serif text-xl text-parchment mb-2",children:"A Simple Truth"}),w.jsx("p",{className:"text-saffron text-lg italic",children:'"Do your best today and let go. The future will take care of itself."'})]})]}),w.jsxs("div",{className:"mt-20 pt-10 border-t border-white/5 flex flex-col items-center",children:[w.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-stone-500 mb-4",children:"Share this wisdom"}),w.jsx("button",{onClick:i,className:`w-14 h-14 rounded-full flex items-center justify-center transition-all duration-300 active:scale-95 ${t?"bg-green-500/20 text-green-500 border border-green-500/50":"bg-white/5 text-parchment hover:bg-saffron hover:text-white hover:shadow-glow"}`,children:t?w.jsx(QS,{size:24}):w.jsx(i1,{size:24})}),w.jsx("span",{className:`text-[10px] mt-3 font-bold uppercase tracking-wider transition-colors duration-300 ${t?"text-green-500":"text-stone-600"}`,children:t?"Link Copied!":"Click to Share"})]})]})]})};var SS={},$8="@vercel/analytics",H8="1.6.1",G8=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function wC(){return typeof window<"u"}function _C(){try{const t="production"}catch{}return"production"}function K8(t="auto"){if(t==="auto"){window.vam=_C();return}window.vam=t}function Y8(){return(wC()?window.vam:_C())||"production"}function Xy(){return Y8()==="development"}function W8(t){return t.scriptSrc?t.scriptSrc:Xy()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function Q8(t={debug:!0}){var e;if(!wC())return;K8(t.mode),G8(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const n=W8(t);if(document.head.querySelector(`script[src*="${n}"]`))return;const i=document.createElement("script");i.src=n,i.defer=!0,i.dataset.sdkn=$8+(t.framework?`/${t.framework}`:""),i.dataset.sdkv=H8,t.disableAutoTrack&&(i.dataset.disableAutoTrack="1"),t.endpoint?i.dataset.endpoint=t.endpoint:t.basePath&&(i.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(i.dataset.dsn=t.dsn),i.onerror=()=>{const a=Xy()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${a}`)},Xy()&&t.debug===!1&&(i.dataset.debug="false"),document.head.appendChild(i)}function X8({route:t,path:e}){var n;(n=window.va)==null||n.call(window,"pageview",{route:t,path:e})}function J8(){if(!(typeof process>"u"||typeof SS>"u"))return SS.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function Z8(t){return j.useEffect(()=>{var e;t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),j.useEffect(()=>{Q8({framework:t.framework||"react",basePath:t.basePath??J8(),...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),j.useEffect(()=>{t.route&&t.path&&X8({route:t.route,path:t.path})},[t.route,t.path]),null}const ez=()=>{const[t,e]=j.useState(!1);return j.useEffect(()=>{const n=h=>(h.preventDefault(),!1),i=h=>{if(h.key==="PrintScreen"||(h.ctrlKey||h.metaKey)&&(h.key==="p"||h.key==="s"||h.key==="c"))return e(!0),setTimeout(()=>e(!1),1e3),navigator.clipboard.writeText(""),!1},a=()=>{document.hidden?e(!0):e(!1)},o=()=>e(!0),u=()=>e(!1);return document.addEventListener("contextmenu",n),document.addEventListener("keydown",i),document.addEventListener("visibilitychange",a),window.addEventListener("blur",o),window.addEventListener("focus",u),()=>{document.removeEventListener("contextmenu",n),document.removeEventListener("keydown",i),document.removeEventListener("visibilitychange",a),window.removeEventListener("blur",o),window.removeEventListener("focus",u)}},[]),t};r1.initialize("G-MJHSE6R27Y");function tz(){const t=Ls();return j.useEffect(()=>{r1.send({hitType:"pageview",page:t.pathname+t.search})},[t]),null}function nz(){const t=ez();return w.jsx(av,{children:w.jsxs(RO,{children:[w.jsx(tz,{}),w.jsx(Z8,{}),w.jsxs("div",{className:`min-h-screen bg-spiritual-bg font-sans select-none flex flex-col relative transition-filter duration-300 ${t?"blur-xl grayscale":""}`,onContextMenu:e=>e.preventDefault(),children:[w.jsx(N8,{}),w.jsx("div",{className:"flex-1",children:w.jsxs(sO,{children:[w.jsx(ts,{path:"/",element:w.jsxs(w.Fragment,{children:[w.jsx(Mr,{}),w.jsxs("main",{className:"pt-20 md:pt-32 px-4 md:px-8 max-w-6xl mx-auto",children:[w.jsxs("div",{className:"mb-8 md:mb-12 text-center animate-fade-in",children:[w.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 md:px-4 md:py-1.5 rounded-full border border-saffron/20 bg-saffron-dim mb-4 md:mb-6",children:[w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-saffron animate-pulse"}),w.jsx("span",{className:"text-[10px] md:text-[11px] font-bold uppercase tracking-widest text-saffron",children:"Get Daily Bhagavad Gita Quotes & Wisdom Flashcards for free"})]}),w.jsxs("h1",{className:"font-serif text-3xl sm:text-4xl md:text-6xl leading-tight text-parchment mb-6 md:mb-8",children:["Bhagavad Gita Flashcards",w.jsx("br",{}),w.jsx("span",{className:"text-saffron text-glow",children:"Unlock Timeless Wisdom with Ease"})]}),w.jsx(j8,{})]}),w.jsx(V8,{}),w.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-8 border-b border-black/5 dark:border-white/5 pb-2 md:pb-4 mt-8 md:mt-12",children:[w.jsx("h2",{className:"font-serif text-lg md:text-2xl text-parchment",children:"FlashCards"}),w.jsx("span",{className:"text-[10px] md:text-xs text-stone-500 uppercase tracking-widest block",children:"Select a Deck"})]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-12 px-0 mb-12 md:mb-16",children:JR.map(e=>w.jsx(E1,{book:e},e.id))}),w.jsxs("div",{className:"text-center pb-8 md:pb-10",children:[w.jsx("p",{className:"text-stone-400 mb-4 md:mb-6 font-serif italic text-sm md:text-base",children:'"Knowledge is an ocean. Dive deeper."'}),w.jsxs(On,{to:"/library",className:"inline-flex items-center gap-2 md:gap-3 px-6 py-3 md:px-8 md:py-4 rounded-full border border-saffron/30 text-saffron hover:bg-saffron hover:text-white transition-all duration-300 font-bold uppercase tracking-widest text-[10px] md:text-xs group active:scale-95",children:["Explore Full FlashCards Library",w.jsx(sl,{size:14,className:"md:w-4 md:h-4 group-hover:translate-x-1 transition-transform"})]})]}),w.jsx("div",{className:"my-12 md:my-16",children:w.jsx(UN,{})})]})]})}),w.jsx(ts,{path:"/library",element:w.jsx(XU,{})}),w.jsx(ts,{path:"/wisdom",element:w.jsx(L8,{})}),w.jsx(ts,{path:"/wisdom/:cardId",element:w.jsx(M8,{})}),w.jsx(ts,{path:"/read/:bookId",element:w.jsx(QU,{})}),w.jsx(ts,{path:"/privacy-policy",element:w.jsx(U8,{})}),w.jsx(ts,{path:"/about",element:w.jsx(B8,{})}),w.jsx(ts,{path:"/contact",element:w.jsx(z8,{})}),w.jsx(ts,{path:"/blog/gita-wisdom",element:w.jsx(F8,{})})]})}),w.jsx(BN,{})]}),t&&w.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/90 backdrop-blur-md",children:w.jsxs("div",{className:"text-center animate-fade-in px-6",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-saffron mb-4",children:"Protected Content"}),w.jsx("p",{className:"text-stone-400 text-sm md:text-base mb-6",children:"Screenshots and recording are disabled for privacy."}),w.jsx("div",{className:"inline-block px-4 py-2 border border-white/10 rounded-lg text-xs text-stone-500 uppercase tracking-widest",children:"Security Mode Active"})]})})]})})}const Ug=document.getElementById("root"),AS=w.jsx($n.StrictMode,{children:w.jsx(av,{children:w.jsx(nz,{})})});Ug.hasChildNodes()?kS.hydrateRoot(Ug,AS):oI.createRoot(Ug).render(AS);
